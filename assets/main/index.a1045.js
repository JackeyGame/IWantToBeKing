window.__require=function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({AniTool:[function(e,t,n){"use strict";cc._RF.push(t,"be306LDYUZH+Ka1YrQBlnrx","AniTool");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.AniType=void 0;var s,a=cc._decorator,c=a.ccclass,l=a.property;(function(e){e[e["\u65e0\u52a8\u753b"]=0]="\u65e0\u52a8\u753b",e[e["\u626d\u52a8"]=1]="\u626d\u52a8",e[e["\u7f29\u653e"]=2]="\u7f29\u653e",e[e["\u7ea2\u70b9"]=3]="\u7ea2\u70b9"})(s=n.AniType||(n.AniType={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aniType=s.\u65e0\u52a8\u753b,t.initScale=1,t}return i(t,e),t.prototype.onLoad=function(){this.initScale=this.node.scale},t.prototype.start=function(){this.playAni()},t.prototype.playAni=function(){if(this.node.stopAllActions(),this.aniType==s.\u626d\u52a8){var e=cc.repeatForever(cc.sequence(cc.rotateTo(.15,-10).easing(cc.easeSineOut()),cc.rotateTo(.15,10).easing(cc.easeSineOut()),cc.rotateTo(.15,-10).easing(cc.easeBackOut()),cc.rotateTo(.15,10).easing(cc.easeSineOut()),cc.rotateTo(.15,-10).easing(cc.easeSineOut()),cc.rotateTo(.15,0).easing(cc.easeSineOut()),cc.delayTime(2)));this.node.runAction(e)}else this.aniType==s.\u7f29\u653e&&(e=cc.repeatForever(cc.sequence(cc.scaleTo(.15,1.1*this.initScale).easing(cc.easeSineOut()),cc.scaleTo(.15,this.initScale).easing(cc.easeSineOut()),cc.scaleTo(.15,1.1*this.initScale).easing(cc.easeSineOut()),cc.scaleTo(.15,this.initScale).easing(cc.easeSineOut()),cc.delayTime(2))),this.node.runAction(e))},r([l({type:cc.Enum(s),displayName:"\u52a8\u753b\u7c7b\u578b"})],t.prototype,"aniType",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],ArmyGroupController:[function(e,t){"use strict";cc._RF.push(t,"345c2692y5AqYYOT+iXw0yE","ArmyGroupController");var n,o=(n=e("./Managers/SoundMgr"))&&n.__esModule?n:{default:n};window.ArmyGroupController={Instance:null};var i=e("LevelManager");cc.Class({extends:cc.Component,properties:{TargetAvatarControllerType:{type:cc.Enum(i.AvatarControllerType),default:i.AvatarControllerType.BlackKiller},TargetAvatarNode:cc.Node,TargetControllerDistanceMinLimit:2,TargetControllerObjects:{type:[cc.Node],default:[]},ArmyControllerAnimation:cc.Animation,UpdateFlag:0,ComeBackDistanceLimit:20,ComeBackStartPosition:cc.Vec2},onLoad:function(){ArmyGroupController.Instance=this},start:function(){o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[3])},update:function(e){switch(this.UpdateFlag){case 0:this.node.position.sub(this.TargetAvatarNode.position).mag()>this.TargetControllerDistanceMinLimit?this.node.x+=LevelManager.Instance.AvatarControllerFastMoveSpeed*e:(this.UpdateFlag=1,this.onArmyGetJailed(this.TargetAvatarControllerType==i.AvatarControllerType.BlackKiller));break;case 1:this.node.position.sub(this.ComeBackStartPosition).mag()>this.ComeBackDistanceLimit?(this.UpdateFlag=2,JailSceneContent.Instance.Show(this.TargetAvatarControllerType),this.node.destroy()):this.node.x-=LevelManager.Instance.AvatarControllerFastMoveSpeed*e}},onArmyGetJailed:function(e){this.ComeBackStartPosition=this.node.position,this.ArmyControllerAnimation.play("WalkDrag"),this.ArmyControllerAnimation.node.scaleX=-this.ArmyControllerAnimation.node.scaleX;var t=this.TargetAvatarNode.position;this.TargetAvatarNode.destroy(),null!=this.TargetControllerObjects[this.TargetAvatarControllerType]&&(this.TargetControllerObjects[this.TargetAvatarControllerType].active=!0),this.CheckTargetCallback=this.schedule(function(){if(null==this.TargetAvatarNode.parent){if(e){var n=cc.instantiate(AssetManager.Instance.ControllerPrefabs[2]);n.parent=LevelManager.Instance.SceneContentNode,n.position=cc.v2(t.x-700,t.y)}else LevelManager.Instance.CreateRandomNPCKiller();this.unscheduleAllCallbacks()}},0,cc.macro.REPEAT_FOREVER,0)}}),cc._RF.pop()},{"./Managers/SoundMgr":"SoundMgr",LevelManager:"LevelManager"}],AssetManager:[function(e,t){"use strict";cc._RF.push(t,"84506PLDdJCSKLDCfqyGeTA","AssetManager"),window.AssetManager={Instance:null},cc.Class({extends:cc.Component,properties:{AudioClips:{type:[cc.AudioClip],default:[]},ControllerPrefabs:{type:[cc.Prefab],default:[]},KingControllerPrefabs:{type:[cc.Prefab],default:[]},OtherPrefabs:{type:[cc.Prefab],default:[]}},onLoad:function(){AssetManager.Instance=this}}),cc._RF.pop()},{}],AwakeContent:[function(e,t){"use strict";cc._RF.push(t,"5e0c3QKKspHHYXjJOh5ZlSS","AwakeContent");var n=c(e("./DataMgr")),o=c(e("./Managers/SoundMgr")),i=c(e("./New/MixMgr")),r=c(e("./View/SettingView")),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(void 0);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./View/UIManager"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{GameContent:cc.Node,setIntervalId:-1,shopBtn:cc.Node},onEnable:function(){if(!n.default.isRestart){var e=this;setTimeout(function(){i.default.Instance.openPanel(),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo&&e.showIcon(!SDK.Mgr.Inst.hasIcon())},500)}},start:function(){if(n.default.isRestart)return n.default.isRestart=!1,void this.onStartGameButtonDown();SDK.Mgr.Inst.hasAds||(this.shopBtn.active=!1),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?SDK.Mgr.Inst.isAdOpen&&(SDK.Mini.OPPO.Extend.Inst.showDrawer(),this.scheduleOnce(function(){SDK.Mini.OPPO.Extend.Inst.showBoxPortal()},.5)):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq&&SDK.Mgr.Inst.customData&&"true"==SDK.Mgr.Inst.customData.openBoxStrong&&SDK.Mgr.Inst.isAdOpen&&this.scheduleOnce(function(){SDK.Mini.QQ.Extend.Inst.showAppBox()},.5)},onStartGameButtonDown:function(){o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[0]),this.node.active=!1,this.GameContent.active=!0,1!=n.default.Instance.curSkinNum&&setTimeout(function(){SDK.Mgr.Inst.hasAds&&s.default.Inst.showView(s.E_GameView.tryUse)},1e3)},onSettingsBtnDown:function(){r.default.Instance.openPanel()}}),cc._RF.pop()},{"./DataMgr":"DataMgr","./Managers/SoundMgr":"SoundMgr","./New/MixMgr":"MixMgr","./View/SettingView":"SettingView","./View/UIManager":"UIManager"}],BoxItem:[function(e,t,n){"use strict";cc._RF.push(t,"2c857jDU1pFALoopY+RSxEA","BoxItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../SDK/Script/VideoHint"),a=e("../DataMgr"),c=e("./OpenBoxMgr"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateNodes=[],t.priceLabel=null,t.boxSprite=null,t.spriteFrames=[],t.rewardNum=100,t.hasOpen=!1,t.isAdBox=!1,t}return i(t,e),t.prototype.reset=function(){this.hasOpen=!1,this.stateNodes[0].active=!0,this.stateNodes[1].active=!1,this.AdBox(!1)},t.prototype.setReward=function(e){this.rewardNum=e,this.priceLabel.string=this.rewardNum.toString(),this.boxSprite.spriteFrame=this.spriteFrames[0]},t.prototype.AdBox=function(e){void 0===e&&(e=!0),this.isAdBox=e,this.isAdBox?this.stateNodes[0].getComponent(cc.Sprite).spriteFrame=c.default.Instance.adBoxSprite:this.stateNodes[0].getComponent(cc.Sprite).spriteFrame=c.default.Instance.noAdBoxSprite},t.prototype.open=function(){if(this.hasOpen)SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("baoxiangyidakai"));else if(this.isAdBox){var e="OpenBox_SingleOpen_Ad";SDK.Mgr.Inst.event(e+"Click");var t=this,n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(e+"Success"),t.openReal(!1),a.default.Instance.videoAdTimes++):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"Cancel"),s.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(e+"NoAd"))};SDK.Mgr.Inst.showVideo(n)}else c.default.Instance.restTime<=0?SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("kaixiangyiyongwan")):this.openReal()},t.prototype.openReal=function(e){var t=this;void 0===e&&(e=!0),c.default.Instance.openBox(e),this.hasOpen=!0,this.scheduleOnce(function(){t.stateNodes[0].active=!1,t.stateNodes[1].active=!0,a.default.Instance.coinNum+=t.rewardNum},.1)},r([p([cc.Node])],t.prototype,"stateNodes",void 0),r([p(cc.Label)],t.prototype,"priceLabel",void 0),r([p(cc.Sprite)],t.prototype,"boxSprite",void 0),r([p([cc.SpriteFrame])],t.prototype,"spriteFrames",void 0),r([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../SDK/Script/VideoHint":"VideoHint","../DataMgr":"DataMgr","./OpenBoxMgr":"OpenBoxMgr"}],CRNode:[function(e,t,n){"use strict";cc._RF.push(t,"d7bebL1jhhPwaB4haypl7fe","CRNode");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touchCount=0,t.preTime=0,t.hasShow=!1,t}return i(t,e),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.getLocationX()<100&&t.getLocationY()<100&&!e.hasShow&&((new Date).getTime()-e.preTime<200?(e.touchCount++,e.touchCount>=10&&(e.hasShow=!0,e.touchCount=0,SDK.Base.Event.emit("PrivacyPause"),cc.assetManager.resources.load("SDK/CRINFO",function(e,t){if(null==e){var n=decodeURIComponent("%E6%9C%AC%E6%B8%B8%E6%88%8F%E7%89%88%E6%9D%83%E5%BD%92%E5%B1%9E%E4%BA%8E%0A%E8%8B%8F%E5%B7%9E%E9%9D%92%E8%9C%82%E4%BA%92%E5%A8%B1%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8"),o=decodeURIComponent("%E8%81%94%E7%B3%BB%E9%82%AE%E7%AE%B1%3A%20%EF%BD%84%EF%BD%85%EF%BD%96%EF%BC%A0%EF%BD%91%EF%BD%86%EF%BD%8A%EF%BD%8F%EF%BD%99%EF%BC%8E%EF%BD%83%EF%BD%8F%EF%BD%8D");t.data.getChildByName("Label1").getComponent(cc.Label).string=n,t.data.getChildByName("Label2").getComponent(cc.Label).string=o;var i=cc.instantiate(t);cc.director.getScene().getChildByName("Canvas").addChild(i)}}))):e.touchCount=0,e.preTime=(new Date).getTime())},this)},r([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],CameraManager:[function(e,t){"use strict";cc._RF.push(t,"6062bMAB2RNS6vgbB+eHKmu","CameraManager"),window.CameraManager={Instance:null},cc.Class({extends:cc.Component,properties:{CameraTarget:cc.Node,IsSyncTargetHeight:{default:!1},HeightOffset:0,FollowOffset:cc.Vec3},onLoad:function(){CameraManager.Instance=this},lateUpdate:function(){var e;this.CameraTarget.parent&&LevelManager.Instance.AllowAvatarControllerMove&&(this.IsSyncTargetHeight?this.node.position=this.CameraTarget.position.add(this.FollowOffset):(e=cc.v3(this.CameraTarget.x,this.HeightOffset,this.CameraTarget.z),this.node.position=e.add(this.FollowOffset)))}}),cc._RF.pop()},{}],CoinMenu:[function(e,t,n){"use strict";cc._RF.push(t,"03e485+rClHUqITHxBmBM72","CoinMenu");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../SDK/Script/VideoHint"),a=e("../DataMgr"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t.addBtnNode=null,t._updateMoneyTick_coin=null,t}return i(t,e),t.prototype.onLoad=function(){a.GlobalEvent.on("CoinChange",this.UpdataCoinNum,this)},t.prototype.start=function(){this.UpdataCoinNum(0,a.default.Instance.coinNum,!1),this.addBtnNode&&(this.addBtnNode.active=SDK.Mgr.Inst.hasAds)},t.prototype.onDestroy=function(){a.GlobalEvent.off("CoinChange",this.UpdataCoinNum,this)},t.prototype.adBtnClick=function(){var e="AddCoin_Ad";SDK.Mgr.Inst.event(e+"Click");var t=function(n){n==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(e+"Success"),a.default.Instance.coinNum+=100,a.default.Instance.videoAdTimes++):n==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"Cancel"),s.default.Instance.openPanel(t)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(e+"NoAd"))};SDK.Mgr.Inst.showVideo(t)},t.prototype.UpdataCoinNum=function(e,t,n){if(void 0===n&&(n=!0),n){this._updateMoneyTick_coin&&(this.unschedule(this._updateMoneyTick_coin),this._updateMoneyTick_coin=null);for(var o=[],i=t-e,r=0;r<=4;r++)o.push(e+.25*i*r);var s=0,a=this;this._updateMoneyTick_coin=function(){a.coinLabel.string=o[s++].toString()},this.schedule(this._updateMoneyTick_coin,.1,4,.2)}else this.coinLabel.string=t.toString()},r([u(cc.Label)],t.prototype,"coinLabel",void 0),r([u(cc.Node)],t.prototype,"addBtnNode",void 0),r([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../SDK/Script/VideoHint":"VideoHint","../DataMgr":"DataMgr"}],ColourBackground:[function(e,t){"use strict";cc._RF.push(t,"93710ZUxuBJZp7ciHqtrJwL","ColourBackground");var n,o=(n=e("./Managers/SoundMgr"))&&n.__esModule?n:{default:n};window.ColourBackground={Instance:null},cc.Class({extends:cc.Component,properties:{UpdateFadeSpeed:100,DeathAudioClips:{type:[cc.AudioClip],default:[]},UpdateFlag:0},onLoad:function(){ColourBackground.Instance=this,this.node.active=!1},update:function(e){if(0!=this.UpdateFlag)switch(this.UpdateFlag){case 1:this.node.opacity>=255?(this.UpdateFlag=2,this.scheduleOnce(function(){this.UpdateFlag=3},1.2)):this.node.opacity+=this.UpdateFadeSpeed*e;break;case 3:this.node.opacity-=this.UpdateFadeSpeed*e,this.node.opacity<=0&&(this.UpdateFlag=0,this.node.active=!1)}},Show:function(e){void 0===e&&(e=cc.color(0,0,0)),this.unscheduleAllCallbacks(this),e.equals(cc.color(0,0,0))&&o.default.Instance.playSoundClip(this.DeathAudioClips[Math.round(Math.random()*this.DeathAudioClips.length-1)]),this.node.opacity=0,this.node.active=!0,this.node.color=e,this.UpdateFlag=1}}),cc._RF.pop()},{"./Managers/SoundMgr":"SoundMgr"}],Config:[function(e,t){"use strict";cc._RF.push(t,"6a667GlLhtL9IulQm7D4JDS","Config");var n,o,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});(function(e){var t=function(){function e(){this.appName="I Want To Be King",this.version="1.0.0",this.tdKey="A5FFB94DB8FE40A2A9C6E1B3BDA33D2C",this.umaKey="",this.umKey="",this.hasAds=!0,this.hasShare=!1,this.hasSvrCfg=!0,this.cloudStorage=!1,this.isBannerUp=!1,this.bannerScale=1,this.hasLocalized=!0,this.hasAdsReport=!1}return Object.defineProperty(e,"baseChannel_android",{get:function(){return SDK.Define.Channel.android_google},enumerable:!1,configurable:!0}),e.gameId="tobeking",e}();e.ChannelBase=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.openSop=!1,t.mediaId="",t.bannerId="",t.nativeBannerId="",t.nativeInsertId="",t.videoId="",t.customId=["","","",""],t.customStyle=[[.5,-40,1,-243,100],[.5,-200,.5,-670,450],[.5,-200,.5,220,450],[.5,-200,.5,-225,450]],t.boxBannerId="",t.boxPortalId="",t.boxDrawerId="",t}(t);e.OPPO=n;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.appKey="",t.appSecret="",t.pkgName="",t.bannerId="",t.insertId="",t.videoId="",t.nativeBannerId="",t.nativeInsertId="",t.boxBannerId="",t.boxPortalId="",t}(t);e.VIVO=o;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.appId="",t.bannerId="j1pcnpx5tu",t.insertId="",t.videoId="e7hm5vx799",t.nativeId="testu7m3hc4gvm",t.nativeInsertId="testu7m3hc4gvm",t.nativeInsertRate=.5,t}(t);e.HUAWEI=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerScale=.7,t}return i(t,e),t.appId="",t.mediaId="1640545857217757184",t.bannerId="1698586284462047232",t.insertId="1698593225409560576",t.videoId="1698591677447143424",t}(t);e.HONOR=s;var a=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasShare=!0,t}return i(n,e),n.appId="",n.bannerId="",n.insertId="",n.videoId="",n.shareTitle="",n.shareDesc="",n.shareImageUrl="https://qgame.996joy.com/res/image/share/"+t.gameId+"_1.png",n.shareTemplateId="",n.shareTopics=["\u6296\u97f3\u5c0f\u6e38\u620f"],n}(t);e.TT=a;var c=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasShare=!0,t}return i(n,e),n.hasNotice=!1,n.noticeId="",n.appId="",n.bannerId="",n.insertId="",n.videoId="",n.customId=[],n.customStyle=[],n.shareTitle="",n.shareImageUrl="https://qgame.996joy.com/res/image/share/"+t.gameId+"_1.png",n}(t);e.WX=c;var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.appId="",n.bannerId="",n.insertId="",n.videoId="",n.shareTitle="",n.shareImageUrl="https://qgame.996joy.com/res/image/share/"+t.gameId+"_1.png",n.blockId="",n.appBoxId="",n}(t);e.QQ=l;var u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasShare=!0,t}return i(n,e),n.appId="",n.insertId="",n.videoId="",n.shareTitle="",n.shareDesc="",n.shareImageUrl="https://qgame.996joy.com/res/image/share/"+t.gameId+"_1.png",n.shareTemplateId="",n.shareTopics=["\u5feb\u624b\u5c0f\u6e38\u620f"],n}(t);e.KS=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.appId="2021xxx",t.bannerId="ad_tiny_2021xxx",t.insertId="ad_tiny_2021xxx",t.videoId="ad_tiny_2021xxx",t}(t);e.Alipay=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(t);e.Box4399=h;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.appId="",t}(t);e.M4399=d;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.appId="",t.bannerId="",t.insertId="",t.videoId="",t.nativeId="",t.boxIconId="",t.boxBannerId="",t.boxPortalId="",t.boxDrawerId="",t}(t);e.XIAOMI=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.appleId="6476474029",t.pkgName="com.lxgame.xwydgw",t}(t);e.IOS=g;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(t);e.ANDROID=y;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(t);e.Dev=v;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(t);e.View=m;var S=function(){function e(){}return Object.defineProperty(e,"baseKeys",{get:function(){if(null==this._baseKeys)switch(this._baseKeys=new t,SDK.Mgr.Inst.curChannel){case SDK.Define.Channel.view:this._baseKeys=new m;break;case SDK.Define.Channel.oppo:this._baseKeys=new n;break;case SDK.Define.Channel.vivo:this._baseKeys=new o;break;case SDK.Define.Channel.hw:this._baseKeys=new r;break;case SDK.Define.Channel.honor:this._baseKeys=new s;break;case SDK.Define.Channel.qq:this._baseKeys=new l;break;case SDK.Define.Channel.ks:this._baseKeys=new u;break;case SDK.Define.Channel.alipay:this._baseKeys=new p;break;case SDK.Define.Channel.tt:this._baseKeys=new a;break;case SDK.Define.Channel.wx:this._baseKeys=new c;break;case SDK.Define.Channel.box4399:this._baseKeys=new h;break;case SDK.Define.Channel.m4399:this._baseKeys=new d;break;case SDK.Define.Channel.xm:this._baseKeys=new f;break;case SDK.Define.Channel.ios:this._baseKeys=new g;break;case SDK.Define.Channel.android_oppo:case SDK.Define.Channel.android_vivo:case SDK.Define.Channel.android_hw:case SDK.Define.Channel.android_honor:case SDK.Define.Channel.android_xiaomi:case SDK.Define.Channel.android_mi_oversea:case SDK.Define.Channel.android_m4399:case SDK.Define.Channel.android_tt:case SDK.Define.Channel.android_233:case SDK.Define.Channel.android_google:case SDK.Define.Channel.android_mmy:this._baseKeys=new y}return this._baseKeys},enumerable:!1,configurable:!0}),e.baseChannel="view",e.promoData=null,e._baseKeys=null,e}();e.Base=S})(o||(o={})),window.Config=o,cc._RF.pop()},{}],ControllerJailPrefab:[function(e,t){"use strict";cc._RF.push(t,"47d61kedZZMH7EdxRes6gor","ControllerJailPrefab"),cc.Class({extends:cc.Component,properties:{TargetControllerSprite:cc.Sprite,TargetControllerSpriteFrames:{type:[cc.SpriteFrame],default:[]}},ChangeSpriteFrame:function(e){this.TargetControllerSprite.spriteFrame=this.TargetControllerSpriteFrames[e]}}),cc._RF.pop()},{}],CostomAd_Wx:[function(e,t,n){"use strict";cc._RF.push(t,"f63c9pl/l1M8oj7tKV1IhF6","CostomAd_Wx");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=0,t}return i(t,e),t.prototype.onEnable=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.wx&&SDK.Mgr.Inst.showCustom(this.id)},t.prototype.onDisable=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.wx&&SDK.Mgr.Inst.closeCustom(this.id)},r([c(cc.Integer)],t.prototype,"id",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CreateIcon:[function(e,t,n){"use strict";cc._RF.push(t,"e0be7MaiNJJ+o5b5Nbor/7i","CreateIcon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.triggerBtn=null,t}return i(t,e),t.prototype.start=function(){this.triggerBtn.active=!1,SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?!SDK.Mgr.Inst.hasIcon()&&SDK.Mgr.Inst.isAdOpen&&(this.triggerBtn.active=!0):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo&&!SDK.Mgr.Inst.hasIcon()&&SDK.Mgr.Inst.isAdOpen&&(this.triggerBtn.active=!0)},t.prototype.triggerBtnClick=function(){var e=this;SDK.Mgr.Inst.createIcon(function(t){t?(SDK.ToastMgr.Inst.showToast("\u684c\u9762\u56fe\u6807\u521b\u5efa\u6210\u529f"),SDK.Mgr.Inst.event("createIconSuccess"),e.triggerBtn.active=!1):(SDK.ToastMgr.Inst.showToast("\u684c\u9762\u56fe\u6807\u521b\u5efa\u5931\u8d25"),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo&&(e.triggerBtn.active=!1))})},r([c(cc.Node)],t.prototype,"triggerBtn",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],DataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"4f837LWDStAZb8KbaghAHEX","DataMgr");var o=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalEvent=void 0;var i=cc._decorator.ccclass;n.GlobalEvent=new cc.EventTarget;var r=function(){function e(){this.curLevel=0,this.maxSkin=15,this.maxLevelNum=15,this.isAdOn=!1}var t;return t=e,Object.defineProperty(e,"Instance",{get:function(){return null==t.instance&&(t.instance=new t,t.instance.init()),t.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeDelayTime",{get:function(){return SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?SDK.Mgr.Inst.isAdOpen?2:0:SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo?0:SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt?2.5:SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq?SDK.Mgr.Inst.isAdOpen?2:0:SDK.Mgr.Inst.curChannel==SDK.Define.Channel.wx&&SDK.Mgr.Inst.isAdOpen?2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coinNum",{get:function(){return cc.sys.localStorage.getItem("coinNum")||cc.sys.localStorage.setItem("coinNum",100),parseFloat(cc.sys.localStorage.getItem("coinNum"))},set:function(e){n.GlobalEvent.emit("CoinChange",this.coinNum,e,!0),cc.sys.localStorage.setItem("coinNum",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoAdTimes",{get:function(){return cc.sys.localStorage.getItem("videoAdTimes")||cc.sys.localStorage.setItem("videoAdTimes",0),parseFloat(cc.sys.localStorage.getItem("videoAdTimes"))},set:function(e){cc.sys.localStorage.setItem("videoAdTimes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curSkinNum",{get:function(){cc.sys.localStorage.getItem("skinNum")||cc.sys.localStorage.setItem("skinNum",0);var e=parseInt(cc.sys.localStorage.getItem("skinNum"));return e<0?e=0:e>this.maxSkin-1&&(e=this.maxSkin-1),e},set:function(e){cc.sys.localStorage.setItem("skinNum",e),n.GlobalEvent.emit("SkinChange")},enumerable:!1,configurable:!0}),e.prototype.hasSkin=function(e){return 0==e||"true"==cc.sys.localStorage.getItem("UnlockSkin_"+e)},e.prototype.setSkin=function(e,t){t&&SDK.Mgr.Inst.event("UnlockSkin_"+(e+1)),cc.sys.localStorage.setItem("UnlockSkin_"+e,t?"true":"false")},e.prototype.hasRate=function(){return"true"==cc.sys.localStorage.getItem("RateApp")},e.prototype.setRate=function(){SDK.Mgr.Inst.event("RateApp"),cc.sys.localStorage.setItem("RateApp","true")},Object.defineProperty(e.prototype,"audioVolume",{get:function(){return cc.sys.localStorage.getItem("audioVolume")||"0"==cc.sys.localStorage.getItem("audioVolume")||cc.sys.localStorage.setItem("audioVolume",1),parseInt(cc.sys.localStorage.getItem("audioVolume"))},set:function(e){cc.sys.localStorage.setItem("audioVolume",e),this.updateAudioVolume()},enumerable:!1,configurable:!0}),e.prototype.updateAudioVolume=function(){var e=this.audioVolume;console.log("audioVolume",this.audioVolume),cc.audioEngine.setMusicVolume(e),cc.audioEngine.setEffectsVolume(e)},e.prototype.setUp=function(){},e.prototype.init=function(){this.updateAudioVolume()},e.instance=void 0,e.isRestart=!1,t=o([i],e)}();n.default=r,cc._RF.pop()},{}],DeathController:[function(e,t){"use strict";cc._RF.push(t,"6ec5eC8PftA6ZHlZM4qq0wV","DeathController"),cc.Class({extends:cc.Component,properties:{DeathClothesObject:cc.Node,DeathWeaponObjects:[cc.Node],DeathYearObjects:[cc.Node]},DeathFunction:function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=-1),-1!=e&&this.DeathWeaponObjects[e]&&(this.DeathWeaponObjects[e].active=!0),t&&(this.DeathClothesObject.active=!0),n>=0){for(var o=0;o<this.DeathYearObjects.length;o++)null!=this.DeathYearObjects[o]&&(this.DeathYearObjects[o].active=!1);this.DeathYearObjects[n].active=!0}var i=this.node.parent.convertToWorldSpaceAR(this.node.position),r=LevelManager.Instance.SceneContentNode.convertToNodeSpaceAR(i);this.node.parent=LevelManager.Instance.SceneContentNode,this.node.position=r,this.node.setSiblingIndex(0),this.node.active=!0}}),cc._RF.pop()},{}],Demo:[function(e,t,n){"use strict";cc._RF.push(t,"9542cevahtNiaqMyiOpchwN","Demo");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function a(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("./MoreGame"),l=e("./Privacy"),u=e("./Privacy2"),p=e("./VideoHint"),h=cc._decorator,d=h.ccclass,f=h.property,g=h.requireComponent,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonsNode=null,t.windowNode=null,t}return i(t,e),t.prototype.onLoad=function(){this.buttonsNode.active=!0,this.initSDK()},t.prototype.initSDK=function(){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,SDK.Mgr.SetupSync()];case 1:return e.sent(),console.log("#### SDK Init Finish ####"),console.log("userId",SDK.Mgr.Inst.userId),console.log("province",SDK.Mgr.Inst.getLocation().province),console.log("city",SDK.Mgr.Inst.getLocation().city),console.log("provinceId",SDK.Mgr.Inst.getLocation().provinceId),console.log("ip",SDK.Mgr.Inst.getLocation().ip),this.cloudRank(),SDK.Rank.getNearRank(5,{success:function(e){console.log("getNearRank success",e)},fail:function(e){console.log("getNearRank fail, error = "+JSON.stringify(e))}}),[2]}})})},t.prototype.start=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.box4399&&this.login(),this.scheduleOnce(function(){SDK.ToastMgr.Inst.showToast("\u6e20\u9053\uff1a"+SDK.Mgr.Inst.curChannel)},.5),this.scheduleOnce(function(){},1)},t.prototype.getData=function(){return s(this,void 0,void 0,function(){var e,t;return a(this,function(n){switch(n.label){case 0:return(e={}).channel="oppo",e.appId="123456",e.posId="678910",e.type="back",[4,(t=new SDK.Util.Http(SDK.svrApi+"/ads/report",e)).Send("post","form")];case 1:return n.sent(),console.log("### http.text",t.text),t.error,[2]}})})},t.prototype.login=function(){window.gamebox.login({success:function(e){e.code?console.log("\u767b\u5f55\u6210\u529f\uff01"+e.code):console.log("\u767b\u5f55\u5931\u8d25\uff01"+e.errMsg)}})},t.prototype.showBanner=function(){SDK.ToastMgr.Inst.showToast("\u5c55\u793aBanner"),SDK.Mgr.Inst.showBanner()},t.prototype.closeBanner=function(){SDK.ToastMgr.Inst.showToast("\u5173\u95edBanner"),SDK.Mgr.Inst.closeBanner()},t.prototype.readyInsert=function(){var e=SDK.Mgr.Inst.canShowInsert();SDK.ToastMgr.Inst.showToast("\u63d2\u5c4f\u72b6\u6001\uff1a"+e)},t.prototype.showInsert=function(){SDK.ToastMgr.Inst.showToast("\u5c55\u793a\u63d2\u5c4f"),SDK.Mgr.Inst.showInsert(function(e){e==SDK.Define.AdsCode.finish?SDK.ToastMgr.Inst.showToast("\u63d2\u5c4f\u5c55\u793a\u6210\u529f"):SDK.ToastMgr.Inst.showToast("\u63d2\u5c4f\u5c55\u793a\u5931\u8d25")},!0)},t.prototype.readyVideo=function(){var e=SDK.Mgr.Inst.canShowVideo();SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u72b6\u6001\uff1a"+e)},t.prototype.showVideo=function(){SDK.ToastMgr.Inst.showToast("\u5c55\u793a\u89c6\u9891");var e="test_ads_";SDK.Mgr.Inst.event(e+"click");var t=function(n){n==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(e+"success"),SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u64ad\u653e\u6210\u529f")):n==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"cancel"),p.default.Instance.openPanel(t)):n==SDK.Define.AdsCode.refuse?(SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u6ca1\u6709\u770b\u5b8c\u54e6"),SDK.Mgr.Inst.event(e+"refuse")):(SDK.ToastMgr.Inst.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"),SDK.Mgr.Inst.event(e+"noAds"))};SDK.Mgr.Inst.showVideo(t)},t.prototype.showVideo2=function(){SDK.Mgr.Inst.showVideo2(function(){SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u64ad\u653e\u6210\u529f")},"test_ads")},t.prototype.event=function(){SDK.ToastMgr.Inst.showToast("\u89e6\u53d1\u4e8b\u4ef6\uff1aTestEvent"),SDK.Mgr.Inst.event("\u89e6\u53d1\u4e8b\u4ef6TestEvent")},t.prototype.share=function(){var e=this;SDK.ToastMgr.Inst.showToast("\u5206\u4eab"),SDK.Mgr.Inst.share(function(t){t==SDK.Define.ShareCode.success?e.scheduleOnce(function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt?SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u53d1\u5e03\u6210\u529f\uff0c\u83b7\u5f97\u5956\u52b1"):SDK.ToastMgr.Inst.showToast("\u5206\u4eab\u6210\u529f\uff0c\u83b7\u5f97\u5956\u52b1")},.5):t==SDK.Define.ShareCode.cancel||t==SDK.Define.ShareCode.fail?e.scheduleOnce(function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt?SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u53d1\u5e03\u5931\u8d25"):SDK.ToastMgr.Inst.showToast("\u5206\u4eab\u5931\u8d25")},.5):t==SDK.Define.ShareCode.tooShort?e.scheduleOnce(function(){SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u592a\u77ed\u4e86\u54e6,\u53d1\u5e03\u5931\u8d25\u5566")},.5):t==SDK.Define.ShareCode.pathNull&&e.scheduleOnce(function(){SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u4e0d\u5b58\u5728")},.5)})},t.prototype.rate=function(){SDK.ToastMgr.Inst.showToast("\u8bc4\u4ef7"),SDK.Mgr.Inst.rate(function(e){e?SDK.ToastMgr.Inst.showToast("\u8bc4\u4ef7\u6210\u529f"):SDK.ToastMgr.Inst.showToast("\u8bc4\u4ef7\u5931\u8d25")})},t.prototype.crateIcon=function(){SDK.ToastMgr.Inst.showToast("\u521b\u5efaIcon"),SDK.Mgr.Inst.createIcon(function(e){e?SDK.ToastMgr.Inst.showToast("Icon\u521b\u5efa\u6210\u529f"):SDK.ToastMgr.Inst.showToast("Icon\u521b\u5efa\u5931\u8d25")}),SDK.Mgr.Inst.showIcon()},t.prototype.jump=function(){SDK.ToastMgr.Inst.showToast("\u8df3\u8f6c"),SDK.Mgr.Inst.jump()},t.prototype.quit=function(){SDK.ToastMgr.Inst.showToast("\u5373\u5c06\u9000\u51fa"),this.scheduleOnce(function(){SDK.Mgr.Inst.quit()},1)},t.prototype.openUrl=function(){SDK.Mgr.Inst.openUrl("http://www.baidu.com")},t.prototype.showBoxBanner=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo&&SDK.Mini.OPPO.Extend.Inst.showBoxBanner()},t.prototype.showPortal=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?SDK.Mini.OPPO.Extend.Inst.showBoxPortal():SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq&&SDK.Mini.QQ.Extend.Inst.showAppBox()},t.prototype.privacy=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo?l.default.Instance.openContext():SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq?u.default.Instance.openPrivacy():SDK.Mgr.Inst.privacy()},t.prototype.agreement=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq?u.default.Instance.openAgreement():SDK.Mgr.Inst.agreement()},t.prototype.wxNotice=function(){var e=this;SDK.Mgr.Inst.curChannel==SDK.Define.Channel.wx&&SDK.Mini.WX.Extend.Inst.openNotice(function(t){console.log("success",t),e.scheduleOnce(function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.wx&&SDK.Mini.WX.Extend.Inst.setNoticeProgress(4)},1)})},t.prototype.setProvinceRank=function(){var e=SDK.Mgr.Inst.getLocation().provinceId;SDK.Rank.setProvinceRank(0,e,{success:function(e){console.log("setProvinceRank success",e)},fail:function(e){console.log("setProvinceRank fail, error = "+JSON.stringify(e))}})},t.prototype.getProvinceRank=function(){SDK.Rank.getProvinceRank(0,{success:function(e){console.log("getProvinceRank success",e)},fail:function(e){console.log("getProvinceRank fail, error = "+JSON.stringify(e))}})},t.prototype.cloudStorage=function(){SDK.Storage.Cloud.getStorage({key:"playerName",success:function(e){console.log("getStorage success",e)},fail:function(e){console.log("getStorage fail, error = "+JSON.stringify(e))}}),SDK.Storage.Cloud.setStorage({key:"playerName",value:"\u559d\u6c64\u662f\u4e00\u4ef6\u7f8e\u4e8b",success:function(e){console.log("setStorage success",e)},fail:function(e){console.log("setStorage fail, error = "+JSON.stringify(e))}}),SDK.Storage.Cloud.setStorage({key:"bestScore",value:659,success:function(e){console.log("setStorage success",e)},fail:function(e){console.log("setStorage fail, error = "+JSON.stringify(e))}}),SDK.Storage.Cloud.setStorage({key:"gameInfo",value:{level_id:28,level_name:"Boos\u6218",complete:!1},success:function(e){console.log("setStorage success",e)},fail:function(e){console.log("setStorage fail, error = "+JSON.stringify(e))}})},t.prototype.cloudRank=function(){SDK.Rank.setSocre(140,{success:function(e){console.log("setSocre success",e)},fail:function(e){console.log("setSocre fail, error = "+JSON.stringify(e))}}),SDK.Rank.setUserName("\u559d\u6c64\u662f\u4e00\u4ef6\u7f8e\u4e8b",{success:function(e){console.log("setUserName success",e)},fail:function(e){console.log("setUserName fail, error = "+JSON.stringify(e))}}),SDK.Rank.setAvatar("https://www.baidu.com/img/flexible/logo/pc/result.png",{success:function(e){console.log("setAvatar success",e)},fail:function(e){console.log("setAvatar fail, error = "+JSON.stringify(e))}})},r([f(cc.Node)],t.prototype,"buttonsNode",void 0),r([f(cc.Node)],t.prototype,"windowNode",void 0),r([d,g(c.default)],t)}(cc.Component);n.default=y,cc._RF.pop()},{"./MoreGame":"MoreGame","./Privacy":"Privacy","./Privacy2":"Privacy2","./VideoHint":"VideoHint"}],EN:[function(e,t){"use strict";cc._RF.push(t,"c47bczTKwtHMrcRLHFl4BML","EN"),window.Localized_Data_EN={jiazaizhong:"Loading...",gongxihuode:"Congratulations on getting",jinbi:"Coins",zanwuguanggao:"No Ads, wait a minute",jiasuchenggong:"Acceleration succes",huodemaikefeng:"Get microphone skin",baoxiangyidakai:"Box has been opened",kaixiangyiyongwan:"Unpacking times have been used up",yijingjiaguola:"Has been added",huodepifu:"Get skin",zhishaosanshuxing:"Add at least 3 attributes",jiesuochenggong:"Unlock successfully",shipinmeikanwan:"The video ads is not finished",pifuweijiesuo:"Skin is locked",pifugoumaichenggong:"Getting successfully",jinbibuzu:"Not enough coins",huodeshiyongpifu:"Getting trial skin",huodeyaoshui:"Getting elixir",jixutiaozhan:"Continue Game",endsuccess_1:"Congratulations, mind the frog",endsuccess_2:"Congratulations, mind the assassin",endsuccess_3:"Congratulations on becoming king",endfail_1:"Failed and will spend a lifetime in prison",endfail_2:"Failed and will spend a lifetime in prison",endfail_3:"Failed and will spend a lifetime in prison"},cc._RF.pop()},{}],EndLuckyGift:[function(e,t,n){"use strict";cc._RF.push(t,"4dc2bSD7UFEYbRBQ0FuohPY","EndLuckyGift");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./DataMgr"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel=null,t.clickPanel=null,t.showGiftPanel=null,t.clickBtn=null,t.progressBar=null,t.timeLabel=null,t.normalShareNode=null,t.timeCount=0,t.rewardNum=0,t.rewardLabel=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.freshTime=function(){this.timeLabel.string="<b>\u8fde\u7eed\u70b9\u51fb <color=#ff0000>"+this.timeCount+"</c> \u6b21"},t.prototype.openPanel=function(){this.panel.active=!0,this.clickPanel.active=!0,this.showGiftPanel.active=!1,this.progressBar.progress=.5,this.clickBtn.active=!0,this.rewardNum=0,this.timeCount=0,this.freshTime(),this.clickBtn.stopAllActions();var e=cc.scaleTo(.15,1.1).easing(cc.easeSineInOut()),t=cc.scaleTo(.15,1).easing(cc.easeSineInOut()),n=cc.delayTime(.2),o=cc.scaleTo(.15,1.1).easing(cc.easeSineInOut()),i=cc.scaleTo(.15,1).easing(cc.easeSineInOut()),r=cc.delayTime(1),s=cc.repeatForever(cc.sequence(e,t,n,o,i,r));this.clickBtn.runAction(s)},t.prototype.closePanel=function(){this.clickPanel.active=!1,this.showGiftPanel.active=!1,this.panel.active=!1},t.prototype.start=function(){},t.prototype.update=function(e){var t=this;this.progressBar.progress>0&&this.progressBar.progress<1&&(this.progressBar.progress-=.1*e,this.progressBar.progress<=0&&this.scheduleOnce(function(){t.closePanel()},.5))},t.prototype.addProgressClick=function(){var e=this;this.timeCount++,this.freshTime(),this.progressBar.progress+=.04,this.progressBar.progress>=1&&(this.clickBtn.active=!1,this.rewardNum=10*this.timeCount,this.rewardLabel.string="x"+this.rewardNum,this.scheduleOnce(function(){e.clickPanel.active=!1,e.showGiftPanel.active=!0},.5))},t.prototype.getBtnClick=function(){s.default.Instance.coinNum+=this.rewardNum,SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("gongxihuode")+" "+this.rewardNum+" "+Localized.Mgr.Inst.getString("jinbi")),this.closePanel()},t.Instance=null,r([l(cc.Node)],t.prototype,"panel",void 0),r([l(cc.Node)],t.prototype,"clickPanel",void 0),r([l(cc.Node)],t.prototype,"showGiftPanel",void 0),r([l(cc.Node)],t.prototype,"clickBtn",void 0),r([l(cc.ProgressBar)],t.prototype,"progressBar",void 0),r([l(cc.RichText)],t.prototype,"timeLabel",void 0),r([l(cc.Node)],t.prototype,"normalShareNode",void 0),r([l(cc.Label)],t.prototype,"rewardLabel",void 0),n=r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./DataMgr":"DataMgr"}],EndMgr:[function(e,t,n){"use strict";cc._RF.push(t,"1618aALuWFOuqFTKQHG3r/h","EndMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./DataMgr"),a=e("./New/OpenBoxMgr"),c=e("./RecorderPanel"),l=e("./View/UIManager"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel_fail=null,t.panel_success=null,t.failLable=null,t.successLable=null,t.juqingSprite=null,t.juqingSpriteFrame=[],t.hasBeingKing=!1,t.juqingArr1=[],t.juqingArr2=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.showSuccess=function(){var e=this;SDK.Base.Event.emit("PanelOpen"),n.showCount++,this.scheduleOnce(function(){a.default.Instance.openPanel(function(){SDK.Mgr.Inst.isAdOpen&&!s.default.Instance.hasRate()&&SDK.Mgr.Inst.gameTime>=120?e.toRate():SDK.Mgr.Inst.showInsertDelay(.5)})},.5),this.juqingArr2=[],this.juqingArr2.push(Localized.Mgr.Inst.getString("endsuccess_1")),this.juqingArr2.push(Localized.Mgr.Inst.getString("endsuccess_2")),this.juqingArr2.push(Localized.Mgr.Inst.getString("endsuccess_3")),c.default.GamePause=!0,this.panel_success.active=!0;var t=Math.floor(Math.random()*this.juqingSpriteFrame.length);this.juqingSprite.spriteFrame=this.juqingSpriteFrame[t];var o=Math.floor(Math.random()*this.juqingArr2.length);this.successLable.string=this.juqingArr2[o]},t.prototype.toRate=function(){this.scheduleOnce(function(){SDK.Mgr.Inst.rate(),s.default.Instance.setRate()},.5)},t.prototype.showFail=function(){SDK.Base.Event.emit("PanelOpen"),n.showCount++,n.showFailCount++,SDK.Mgr.Inst.showInsertDelay(.5),this.juqingArr1=[],this.juqingArr1.push(Localized.Mgr.Inst.getString("endfail_1")),this.juqingArr1.push(Localized.Mgr.Inst.getString("endfail_2")),this.juqingArr1.push(Localized.Mgr.Inst.getString("endfail_3")),this.panel_fail.active=!0,c.default.GamePause=!0;var e=Math.floor(Math.random()*this.juqingArr1.length);this.failLable.string=this.juqingArr1[e]},t.prototype.closePanel=function(){SDK.Base.Event.emit("PanelClose"),c.default.GamePause=!1,this.panel_fail.active&&(this.panel_fail.active=!1,n.showFailCount>1&&this.scheduleOnce(function(){l.default.Inst.showView(l.E_GameView.tryUse)},.5)),this.panel_success.active&&(this.panel_success.active=!1)},t.Instance=null,t.showCount=0,t.showFailCount=0,r([h(cc.Node)],t.prototype,"panel_fail",void 0),r([h(cc.Node)],t.prototype,"panel_success",void 0),r([h(cc.Label)],t.prototype,"failLable",void 0),r([h(cc.Label)],t.prototype,"successLable",void 0),r([h(cc.Sprite)],t.prototype,"juqingSprite",void 0),r([h([cc.SpriteFrame])],t.prototype,"juqingSpriteFrame",void 0),n=r([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./DataMgr":"DataMgr","./New/OpenBoxMgr":"OpenBoxMgr","./RecorderPanel":"RecorderPanel","./View/UIManager":"UIManager"}],GIFSprite:[function(e,t,n){"use strict";cc._RF.push(t,"52ed1ldqxBMWbe7MPQdFKPm","GIFSprite");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./GIF"),a=cc._decorator,c=a.ccclass,l=a.requireComponent,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._path="",t.sprite=null,t._index=0,t}return i(t,e),Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(e){null!=e&&(this._path=e,this.innerPath=e.toString(),this.clear(),this.applayChange())},enumerable:!1,configurable:!0}),t.prototype.setInnerPath=function(e){this.innerPath=e,this.clear(),this.applayChange()},t.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite),this.setInnerPath(this.path.toString())},t.prototype.setDefaultSpriteFrame=function(e){this.sprite.spriteFrame=e},t.prototype.inited=function(){var e=this;this._index++,this._index>=this._spriteFrames.length&&(this._index=0);var t=this._spriteFrames[this._index];this.sprite.spriteFrame=t;var n=this._delays[this._index];!n||n<.01?n=.06:n*=.01,this.scheduleOnce(function(){e.inited()},n)},t.prototype.getType=function(){return s.FileType.UNKNOWN},t.prototype.applayChange=function(){var e=this,t=s.GIFCache.getInstance();if(this.innerPath){var n=function(n,o){n?cc.error("gif\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"):o instanceof cc.Texture2D?e.setDefaultSpriteFrame(new cc.SpriteFrame(o)):(e._delays=o.delays,e._spriteFrames=o.spriteFrames,e._spriteFrames=o.spriteFrames,e._positions=o.positions,e.setDefaultSpriteFrame(o.spriteFrames[0]),e.scheduleOnce(function(){e.inited()},.1),e._inited=!0,t.addItemFrame(e.innerPath,o))},o=s.FileType.UNKNOWN,i=t.get(this.innerPath);i?o=i.type:(o=this.getType(),t.addItemType(this.innerPath,o)),o==s.FileType.GIF?t.hasFrame(this.innerPath)?n(null,i.frameData):cc.loader.load({url:this.innerPath,type:"gif"},n):cc.loader.load(this.innerPath,n)}},t.prototype.clear=function(){this.unscheduleAllCallbacks(),this._index=0,this._inited=null,this._delays=null,this._spriteFrames=null},r([c,l(cc.Sprite)],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./GIF":"GIF"}],GIF:[function(e,t,n){"use strict";cc._RF.push(t,"52eedBsjrpBrKOtcNxjdJXh","GIF"),Object.defineProperty(n,"__esModule",{value:!0}),n.GIFCache=n.GIF=n.FileHead=n.FileType=void 0;var o,i=e("./LZW");(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PNG=1]="PNG",e[e.JPG=2]="JPG",e[e.GIF=3]="GIF",e[e.WEBP=4]="WEBP"})(o=n.FileType||(n.FileType={}));var r=function(){function e(){}return e.IMAGE_PNG="89504e47",e.IMAGE_JPG="ffd8ff",e.IMAGE_GIF="474946",e.RIFF="52494646",e.WEBP_RIFF=e.RIFF,e.WEBP_WEBP="57454250",e}();n.FileHead=r;var s=function(){function e(){this._offset=0,this._info={header:"",frames:[],comment:""},this._delays=[],this._spriteFrames=[],this._canvas=null,this._context=null,this.id="GIF",this.async=!0}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this._buffer},set:function(e){this.clear(),this._buffer=e,this._view=new Uint8Array(e)},enumerable:!1,configurable:!0}),e.prototype.handle=function(e,t){this.buffer=e.content,this.getHeader(),this.getScrDesc(),this.getTexture(),0==this._spriteFrames.length?t(new Error("gif\u52a0\u8f7d\u5931\u8d25,\u5e27\u957f\u5ea6\u4e3a0")):t(null,{delays:this._delays,spriteFrames:this._spriteFrames,length:this._info.frames.length})},e.detectFormat=function(e){return-1!=e.indexOf(r.IMAGE_GIF)?o.GIF:-1!=e.indexOf(r.IMAGE_PNG)?o.PNG:-1!=e.indexOf(r.IMAGE_JPG)?o.JPG:-1!=e.indexOf(r.WEBP_RIFF)&&-1!=e.indexOf(r.WEBP_WEBP)?o.WEBP:o.UNKNOWN},e.bytes2HexString=function(e){for(var t="",n=0;n<e.length;n++){var o,i=e[n];1==(o=i<0?(255+i+1).toString(16):i.toString(16)).length&&(o="0"+o),t+=o}return t},e.prototype.getTexture=function(){for(var e=0,t=0,n=this._info.frames;t<n.length;t++){var o=n[t];this.decodeFrame2Texture(o,e++)}},e.prototype.getSpriteFrame=function(e){return this._spriteFrames[e]?this._spriteFrames[e]:this.decodeFrame2Texture(this._info.frames[e],e)},e.prototype.decodeFrame=function(e){var t=this._context.getImageData(e.img.x,e.img.y,e.img.w,e.img.h);return e.img.m?this._tab=e.img.colorTab:this._tab=this._info.colorTab,i.default.decode(e.img.srcBuf,e.img.codeSize).forEach(function(n,o){t.data[4*o]=this._tab[3*n],t.data[4*o+1]=this._tab[3*n+1],t.data[4*o+2]=this._tab[3*n+2],t.data[4*o+3]=255,e.ctrl.t&&n==e.ctrl.tranIndex&&(t.data[4*o+3]=0)}.bind(this)),t},e.prototype.mergeFrames=function(e,t){var n=t;if(e)for(var o=0;o<n.data.length;o+=4)0==n.data[o+3]&&(n.data[o]=this._lastData.data[o],n.data[o+1]=this._lastData.data[o+1],n.data[o+2]=this._lastData.data[o+2],n.data[o+3]=this._lastData.data[o+3]);return n},e.prototype.dataUrl2SpriteFrame=function(e){var t=new cc.Texture2D,n=new cc.SpriteFrame,o=new Image;return o.src=e,t.initWithElement(o),n.setTexture(t),n},e.prototype.date2SpriteFrame=function(e,t,n){var o=new cc.RenderTexture,i=new cc.SpriteFrame;return o.initWithData(e.data,cc.Texture2D.PixelFormat.RGBA8888,t,n),i.setTexture(o),i},e.prototype.putImageDataJSB=function(e,t,n,o){var i=this,r=function(){for(var o=0;o<e.height;o++)for(var r=0;r<e.width;r++){var s=4*o*e.width+4*r,a=4*(o+n)*i._lastData.width+4*(r+t);0!=e.data[s+3]&&(i._lastData.data[a]=e.data[s],i._lastData.data[a+1]=e.data[s+1],i._lastData.data[a+2]=e.data[s+2],i._lastData.data[a+3]=e.data[s+3])}},s=function(){for(var o=0;o<i._lastData.height;o++)for(var r=0;r<i._lastData.width;r++){var s=4*o*i._lastData.width+4*r,a=4*(o-n)*e.width+4*(r-t),c=!1;(r<t||r>t+e.width)&&(c=!0),(o<n||o>n+e.height)&&(c=!0),c?(i._lastData.data[s+0]=0,i._lastData.data[s+1]=0,i._lastData.data[s+2]=0,i._lastData.data[s+3]=0):(i._lastData.data[s+0]=e.data[a+0],i._lastData.data[s+1]=e.data[a+1],i._lastData.data[s+2]=e.data[a+2],i._lastData.data[s+3]=e.data[a+3])}};4==e.data[0]&&0==e.data[1]&&0==e.data[2]&&0==e.data[3]||(1==o.ctrl.disp||0==o.ctrl.disp?r():2==o.ctrl.disp?s():function(){for(var t=0,n=0;n<e.height;n+=2){for(var o=0,i=0;i<e.width;i++){var r=4*n*e.width+4*i;0==e.data[r+3]&&o++}if(o/e.width>.1&&t++,t/(e.height/2)>.6)return!0}return!1}()?s():r())},e.prototype.putImageDataWeb=function(e,t){var n;if(1==t.ctrl.disp||0==t.ctrl.disp){this._context.putImageData(e,t.img.x,t.img.y,0,0,t.img.w,t.img.h);var o=this._context.getImageData(0,0,this._canvas.width,this._canvas.height),i=this._lastData;n=this.mergeFrames(i,o)}else this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.putImageData(e,t.img.x,t.img.y,0,0,t.img.w,t.img.h),n=this._context.getImageData(0,0,this._canvas.width,this._canvas.height);return this._context.putImageData(n,0,0),this._lastData=n,this._canvas.toDataURL()},e.prototype.decodeFrame2Texture=function(e,t){this._context||(this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._canvas.width=e.img.w,this._canvas.height=e.img.h);var n=this.decodeFrame(e);this._delays[t]=e.ctrl.delay;var o=this.putImageDataWeb(n,e);return this._spriteFrames[t]=this.dataUrl2SpriteFrame(o),this._spriteFrames[t]},e.prototype.read=function(e){return this._view.slice(this._offset,this._offset+=e)},e.prototype.getHeader=function(){this._info.header="",this.read(6).forEach(function(e){this._info.header+=String.fromCharCode(e)}.bind(this))},e.prototype.getScrDesc=function(){var e=this.read(7);this._info.w=e[0]+(e[1]<<8),this._info.h=e[2]+(e[3]<<8),this._info.m=1&e[4]>>7,this._info.cr=7&e[4]>>4,this._info.s=1&e[4]>>3,this._info.pixel=7&e[4],this._info.bgColor=e[5],this._info.radio=e[6],this._info.m&&(this._info.colorTab=this.read(3*(2<<this._info.pixel))),this.decode()},e.prototype.decode=function(){var e=[],t=this.read(1);switch(t[0]){case 33:this.extension();break;case 44:for(t=this.read(9),this._frame.img={x:t[0]+(t[1]<<8),y:t[2]+(t[3]<<8),w:t[4]+(t[5]<<8),h:t[6]+(t[7]<<8),colorTab:0},this._frame.img.m=1&t[8]>>7,this._frame.img.i=1&t[8]>>6,this._frame.img.s=1&t[8]>>5,this._frame.img.r=3&t[8]>>3,this._frame.img.pixel=7&t[8],this._frame.img.m&&(this._frame.img.colorTab=this.read(3*(2<<this._frame.img.pixel))),this._frame.img.codeSize=this.read(1)[0],e=[];;){if(!(t=this.read(1))[0]){this._frame.img.srcBuf=e,this.decode();break}this.read(t[0]).forEach(function(t){e.push(t)})}break;case 59:console.log("The end.",this._offset,this.buffer.byteLength)}},e.prototype.extension=function(){var e=this.read(1);switch(e[0]){case 255:if(11!=this.read(1)[0])throw new Error("\u89e3\u6790\u51fa\u9519");for(this._info.appVersion="",this.read(11).forEach(function(e){this._info.appVersion+=String.fromCharCode(e)}.bind(this));;){if(!(e=this.read(1))[0]){this.decode();break}this.read(e[0])}break;case 249:if(4!=this.read(1)[0])throw new Error("\u89e3\u6790\u51fa\u9519");if(e=this.read(4),this._frame={},this._frame.ctrl={disp:7&e[0]>>2,i:1&e[0]>>1,t:1&e[0],delay:e[1]+(e[2]<<8),tranIndex:e[3]},this._info.frames.push(this._frame),0!=this.read(1)[0])throw new Error("\u89e3\u6790\u51fa\u9519");this.decode();break;case 254:(e=this.read(1))[0]&&(this.read(e[0]).forEach(function(e){this._info.comment+=String.fromCharCode(e)}),0==this.read(1)[0]&&this.decode())}},e.prototype.clear=function(){this._tab=null,this._view=null,this._frame=null,this._offset=0,this._info={header:"",frames:[],comment:""},this._lastData=null,this._delays=[],this._spriteFrames=[],this._canvas=null,this._context=null},e}();n.GIF=s;var a=function(){function e(){this.gifFrameMap={}}return e.getInstance=function(){return e.instance||(e.instance=new e,cc.loader.addDownloadHandlers({gif:cc.loader.downloader.extMap.binary}),cc.loader.addLoadHandlers({gif:function(e,t){(new s).handle(e,t)}})),e.instance},e.prototype.preloadGif=function(e){try{e.words&&e.words.forEach(function(e){-1!=e.indexOf(".gif")&&cc.loader.load(e.img,function(){})}),e.classes&&e.classes.forEach(function(e){-1!=e.indexOf(".gif")&&cc.loader.load(e.img,function(){})})}catch(t){cc.log(t)}},e.prototype.addItemFrame=function(e,t){if(1==this.has(e)){var n=this.get(e);n.referenceCount++,n.frameData=t}else{var i={referenceCount:0,type:o.GIF,frame:{}};this.gifFrameMap[e]=i}},e.prototype.addItemType=function(e,t){if(this.has(e))this.get(e).type=t;else{var n={referenceCount:0,type:t,frame:null};this.gifFrameMap[e]=n}},e.prototype.add=function(e,t){this.has(e)||(this.gifFrameMap[e]=t)},e.prototype.get=function(e){return this.gifFrameMap[e]},e.prototype.has=function(e){return null!=this.gifFrameMap[e]},e.prototype.hasFrame=function(e){var t=this.get(e);return null!=t&&null!=t.frameData},e.prototype.relase=function(e){this.has(e)&&(this.gifFrameMap[e]=void 0,cc.loader.release(e))},e.prototype.releaseAll=function(){for(var e in this.gifFrameMap)cc.loader.release(e);this.gifFrameMap={}},e.instance=null,e}();n.GIFCache=a,cc._RF.pop()},{"./LZW":"LZW"}],GiftBoxMgr:[function(e,t,n){"use strict";cc._RF.push(t,"0b4492A2GVCRq0wq3EJCT0z","GiftBoxMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../SDK/Script/VideoHint"),a=e("./DataMgr"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.giftNodeParent=null,t.giftNodes=[],t.hasGetGift=!1,t.targetTime=0,t.restTime=0,t.openGiftPanel=null,t.timerLabel=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this,cc.sys.localStorage.getItem("HasGetGift")||cc.sys.localStorage.setItem("HasGetGift","false"),cc.sys.localStorage.getItem("HasUseAddSpeed")||cc.sys.localStorage.setItem("HasUseAddSpeed","false"),cc.sys.localStorage.getItem("GiftTime")||cc.sys.localStorage.setItem("GiftTime",0),this.hasGetGift="true"==cc.sys.localStorage.getItem("HasGetGift")},t.prototype.start=function(){if(!this.hasGetGift&&SDK.Mgr.Inst.hasAds){this.giftNodes[0].active=!0,this.giftNodes[1].active=!1,this.giftNodes[2].active=!1;var e=this.giftNodes[0].getChildByName("Box");e.stopAllActions();var t=cc.rotateTo(.15,15).easing(cc.easeSineInOut()),n=cc.rotateTo(.15,-15).easing(cc.easeSineInOut()),o=cc.rotateTo(.15,15).easing(cc.easeSineInOut()),i=cc.rotateTo(.15,-15).easing(cc.easeSineInOut()),r=(i=cc.rotateTo(.15,0).easing(cc.easeSineInOut()),cc.delayTime(2)),s=cc.repeatForever(cc.sequence(t,n,o,i,r));e.runAction(s)}},t.prototype.update=function(){this.giftNodes[1].active&&(this.timerLabel.string=this.formatTimeFull(this.restTime))},t.prototype.getCurTimeSecends=function(){var e=new Date;return Math.floor(e.getTime()/1e3)},t.prototype.formatTimeFull=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=e-3600*t-60*n;return t.toString()+":"+("0"+n).substr(-2)+":"+("0"+o).substr(-2)},t.prototype.FreshBox=function(){if(!this.hasGetGift){this.targetTime=parseInt(cc.sys.localStorage.getItem("GiftTime"));var e=this.getCurTimeSecends();0==this.targetTime?(this.giftNodes[0].active=!0,this.giftNodes[1].active=!1,this.giftNodes[2].active=!1):this.targetTime>e?(this.giftNodes[0].active=!1,this.giftNodes[1].active=!0,this.giftNodes[2].active=!1,this.restTime=this.targetTime-e):(this.giftNodes[0].active=!1,this.giftNodes[1].active=!1,this.giftNodes[2].active=!0)}},t.prototype.ShowBox=function(){!this.hasGetGift&&SDK.Mgr.Inst.hasAds&&(SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.wx?this.giftNodeParent.active=!0:SDK.Mgr.Inst.showCustom(0))},t.prototype.HideBox=function(){this.giftNodeParent.active=!1,SDK.Mgr.Inst.curChannel==SDK.Define.Channel.wx&&SDK.Mgr.Inst.closeCustom(0)},t.prototype.getGiftClickForAd=function(){var e=this,t="OpenGift_Ad";SDK.Mgr.Inst.event(t+"Click");var n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"Success"),cc.sys.localStorage.setItem("HasUseAddSpeed","true"),e.openGiftClick()):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(t+"Cancel"),s.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(t+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.getGiftClick=function(){SDK.Mgr.Inst.event("openGiftFree"),cc.sys.localStorage.setItem("GiftTime",this.getCurTimeSecends()+7200),this.targetTime=parseInt(cc.sys.localStorage.getItem("GiftTime")),this.FreshBox()},t.prototype.addSpeedClick=function(){var e=this,t="AddSpeed_Ad";SDK.Mgr.Inst.event(t+"Click");var n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"Success"),e.targetTime=parseInt(cc.sys.localStorage.getItem("GiftTime")),e.targetTime-=1800,cc.sys.localStorage.setItem("GiftTime",e.targetTime),e.FreshBox(),cc.sys.localStorage.setItem("HasUseAddSpeed","true"),SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("jiasuchenggong"))):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(t+"Cancel"),s.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(t+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.openGiftClick=function(){this.openGiftPanel.active=!0},t.prototype.getSkinBtnClick=function(){this.openGiftPanel.active=!1,cc.sys.localStorage.setItem("HasGetGift","true"),this.hasGetGift=!0,this.unscheduleAllCallbacks(),this.HideBox(),SDK.Mgr.Inst.event("MicSkinSuccess"),a.default.Instance.curSkinNum=2,null!=KillerController.Instance&&(KillerController.Instance.freshSkin(),SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("huodemaikefeng")))},t.prototype.getSkinBtnAdClick=function(){var e=this,t="GetSkin_Ad";SDK.Mgr.Inst.event(t+"Click");var n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"Success"),e.getSkinBtnClick()):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(t+"Cancel"),s.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(t+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.closeSkinPanel=function(){this.openGiftPanel.active=!1},t.Instance=null,r([u(cc.Node)],t.prototype,"giftNodeParent",void 0),r([u([cc.Node])],t.prototype,"giftNodes",void 0),r([u(cc.Node)],t.prototype,"openGiftPanel",void 0),r([u(cc.Label)],t.prototype,"timerLabel",void 0),n=r([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../SDK/Script/VideoHint":"VideoHint","./DataMgr":"DataMgr"}],HintNode:[function(e,t,n){"use strict";cc._RF.push(t,"9f493gEF/VINKhfxNmOyGsr","HintNode");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hintNode=null,t}return i(t,e),t.prototype.start=function(){SDK.Mgr.Inst.isAdOpen&&(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.hintNode.active=!0)},t.prototype.onTouchStart=function(){this.node.destroy()},r([c(cc.Node)],t.prototype,"hintNode",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],JailSceneContent:[function(e,t){"use strict";cc._RF.push(t,"31ff4zUobBCR44mfJS74Yic","JailSceneContent");var n=r(e("../RecorderMgr")),o=r(e("../EndMgr")),i=r(e("../Managers/SoundMgr"));function r(e){return e&&e.__esModule?e:{default:e}}window.JailSceneContent={Instance:null};var s=e("LevelManager");cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node,ControllerJailPrefabs:{type:cc.Node,default:[]},SkeletonObjects:{type:[cc.Node],default:[]}},onLoad:function(){JailSceneContent.Instance=this},Show:function(e){LevelManager.Instance.AllowAvatarControllerMove=!1,i.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[8]);for(var t=0;t<this.SkeletonObjects.length;t++)this.SkeletonObjects[t].active=!1;var r=Math.round(Math.random()*(this.SkeletonObjects.length-1));for(this.SkeletonObjects[r]&&(this.SkeletonObjects[r].active=!0),t=0;t<this.ControllerJailPrefabs.length;t++)null!=this.ControllerJailPrefabs[t]&&(this.ControllerJailPrefabs[t].active=!1);this.unscheduleAllCallbacks(),this.ControllerJailPrefabs[e].active=!0,this.scheduleOnce(function(){null!=this.ControllerJailPrefabs[e]&&this.ControllerJailPrefabs[e].getComponent(cc.Animation).play("ControllerJailPrefab")},.3),this.node.position=cc.v2(LevelManager.Instance.SceneMainCameraNode.x,this.node.y);var a=LevelManager.Instance.SceneMainCameraNode.position,c=cc.moveTo(.8,cc.v2(this.node.x,this.CameraTargetNode.y)),l=cc.delayTime(2.2),u=cc.moveTo(.8,a),p=cc.callFunc(function(){LevelManager.Instance.SceneMainAudioSource.play(),LevelManager.Instance.GameCurrentOperationScene=s.GameSceneBlockType.Lobby,LevelManager.Instance.AttackProgressBar.progress=0,LevelManager.Instance.AllowAvatarControllerMove=!0,LevelManager.Instance.GameAllowOperation=!0,null!=NPCKingController.Instance?NPCKingController.Instance.onJailSceneFinish():null!=KingController.Instance&&KingController.Instance.onJailSceneFinish(),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_google?(Math.random()<.2||null!=KingController.Instance?n.default.Instance.showSharePanel():o.default.Instance.showFail(),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&n.default.Instance.stopRecord()):(SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&n.default.Instance.stopRecord(),n.default.Instance.showSharePanel())}.bind(this)),h=cc.sequence([c,l,u,p]);CameraManager.Instance.node.runAction(h)}}),cc._RF.pop()},{"../EndMgr":"EndMgr","../Managers/SoundMgr":"SoundMgr","../RecorderMgr":"RecorderMgr",LevelManager:"LevelManager"}],KillerController:[function(e,t){"use strict";cc._RF.push(t,"683dexze81J4rV58WnMrf/B","KillerController");var n=l(e("./YaoshuiMgr")),o=l(e("./RecorderMgr")),i=l(e("./RecorderPanel")),r=l(e("./EndMgr")),s=l(e("./Managers/SoundMgr")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(void 0);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=o?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./DataMgr"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}window.KillerController={Instance:null};var u=e("LevelManager");cc.Class({extends:cc.Component,properties:{ControllerType:{type:cc.Enum(u.AvatarControllerType),default:u.AvatarControllerType.BlackKiller},ControllerAnimation:cc.Animation,ControllerHeadSprite:cc.Sprite,ControllerHandSprite:cc.Sprite,ControllerMHandRoot:cc.Node,DefaultMHandAngle:0,WuqiSkins:[cc.SpriteFrame],HeadLevelSpriteFrames:[cc.SpriteFrame]},onLoad:function(){KillerController.Instance=this,this.freshSkin(),a.GlobalEvent.on("SkinChange",this.freshSkin,this)},start:function(){LevelManager.Instance.GameCurrentOperationMode=u.GameOperationMode.Attack,this.DefaultMHandAngle=this.ControllerMHandRoot.angle,LevelManager.Instance.HealthProgressBar.progress=0},SkinChange:function(){this.freshSkin()},freshSkin:function(){this.ControllerHandSprite.spriteFrame=this.WuqiSkins[a.default.Instance.curSkinNum]},onDestroy:function(){KillerController.Instance=null,a.GlobalEvent.off("SkinChange",this.freshSkin,this)},update:function(e){if(!i.default.GamePause){if(LevelManager.Instance.GameAllowOperation){var t=LevelManager.Instance.AttackProgressBar.progress;t>=0&&t<.35?this.ControllerHeadSprite.spriteFrame=this.HeadLevelSpriteFrames[0]:t>=.35&&t<.65?this.ControllerHeadSprite.spriteFrame=this.HeadLevelSpriteFrames[1]:t>=.65&&t<=1&&(this.ControllerHeadSprite.spriteFrame=this.HeadLevelSpriteFrames[2])}if(LevelManager.Instance.AllowAvatarControllerMove&&NPCKingController.Instance&&(this.node.position.sub(NPCKingController.Instance.node.position).mag()>=LevelManager.Instance.AvatarControllerDistanceMinLimit?this.node.x+=LevelManager.Instance.AvatarControllerFastMoveSpeed*e:this.node.x+=LevelManager.Instance.AvatarControllerMoveSpeed*e),t<=0)this.ControllerMHandRoot.angle=this.DefaultMHandAngle;else{if(!LevelManager.Instance.GameAllowOperation)return;t<1&&(this.ControllerMHandRoot.angle+=LevelManager.Instance.KillerAttackHandMoveSpeed,0==t.toFixed(2)&&s.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[1]))}}},AFUNC_KillColourBackground:function(){s.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[9]),ColourBackground.Instance.Show();var e=this;this.scheduleOnce(function(){var t=cc.instantiate(AssetManager.Instance.ControllerPrefabs[1]);t.parent=LevelManager.Instance.SceneContentNode,t.position=NPCKingController.Instance.node.position,NPCKingController.Instance.Death(e.ControllerType),LevelManager.Instance.CreateRandomNPCKiller(),n.default.Instance.ShowYaoshui(),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_google?(r.default.Instance.hasBeingKing?Math.random()>.7?o.default.Instance.showSharePanel():r.default.Instance.showSuccess():(r.default.Instance.hasBeingKing=!0,r.default.Instance.showSuccess()),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&o.default.Instance.stopRecord()):(SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&o.default.Instance.stopRecord(),o.default.Instance.showSharePanel()),e.node.destroy()},1)},onNonSafeKingDiscoverFunction:function(){LevelManager.Instance.SceneMainAudioSource.stop(),LevelManager.Instance.GameCurrentOperationScene=u.GameSceneBlockType.Jail,LevelManager.Instance.AllowAvatarControllerMove=!1,LevelManager.Instance.GameAllowOperation=!1,LevelManager.Instance.CreateArmyController(this.node,this.ControllerType),s.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[4]),this.scheduleOnce(function(){s.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[5])},1),this.ControllerAnimation.play("DiscoverJail")},onSafeKingDiscoverFunction:function(){LevelManager.Instance.AttackProgressBar.progress=0,this.ControllerAnimation.play("Stay"),s.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[6])},onSafeKingDiscoverFunctionOver:function(){this.ControllerAnimation.play("Walk")}}),cc._RF.pop()},{"./DataMgr":"DataMgr","./EndMgr":"EndMgr","./Managers/SoundMgr":"SoundMgr","./RecorderMgr":"RecorderMgr","./RecorderPanel":"RecorderPanel","./YaoshuiMgr":"YaoshuiMgr",LevelManager:"LevelManager"}],KingController:[function(e,t){"use strict";cc._RF.push(t,"ce8b97sAJtD86GzWt4CKlwk","KingController");var n=i(e("./RecorderPanel")),o=i(e("./Managers/SoundMgr"));function i(e){return e&&e.__esModule?e:{default:e}}window.KingController={Instance:null};var r=e("LevelManager"),s=e("DeathController"),a=null;cc.Class({extends:cc.Component,properties:{AllowKingAgeChange:{default:!0},DeathController:s,ControllerAnimation:cc.Animation,ControllerDrinkHand:cc.Node,ControllerHeadAgeSprite:{type:cc.Sprite,default:null},ControllerHeadAgeSpriteFrames:{type:[cc.SpriteFrame],default:[]}},onLoad:function(){KingController.Instance=this},start:function(){CameraManager.Instance.CameraTarget=this.node,LevelManager.Instance.GameCurrentOperationMode=r.GameOperationMode.Defense,LevelManager.Instance.GameAllowOperation=!0,LevelManager.Instance.KingBackHeadSpriteNode.active=!0},onDestroy:function(){KingController.Instance=null},update:function(e){n.default.GamePause||LevelManager.Instance.AllowAvatarControllerMove&&(this.node.x+=LevelManager.Instance.AvatarControllerMoveSpeed*e)},lateUpdate:function(){if(this.AllowKingAgeChange){var e=LevelManager.Instance.HealthProgressBar.progress;e>.92&&e<=1?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[0]:e>.85&&e<=.92?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[1]:e>.78&&e<=.85?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[2]:e>.72&&e<=.78?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[3]:e>.68&&e<=.72?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[4]:e>.63&&e<=.68?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[5]:e>.58&&e<=.63?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[6]:e>.55&&e<=.58?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[7]:e>.52&&e<=.55?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[8]:e>.48&&e<=.52?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[9]:e>.45&&e<=.48?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[10]:e>.4&&e<=.45?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[11]:e>.34&&e<=.4?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[12]:e>.28&&e<=.34?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[13]:e>.22&&e<=.28?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[14]:e>.16&&e<=.22?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[15]:e>.1&&e<=.16?this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[16]:e>0&&e<=.1&&(this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[17])}},LeftLookDiscover:function(){this.node.position.sub(NPCKillerController.Instance.node.position).mag()>=LevelManager.Instance.AvatarControllerDistanceMinLimit||(LevelManager.Instance.AllowAvatarControllerMove=!1,this.ControllerAnimation.play("LeftLook"),o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[7]),LevelManager.Instance.KingBackHeadSpriteNode.active=!1,this.unschedule(a),a=function(){this.LeftLookDiscoverOver()},this.scheduleOnce(a,LevelManager.Instance.AllowKingLeftLookTime),NPCKillerController.Instance.onKingDiscoverFunction())},LeftLookDiscoverOver:function(){LevelManager.Instance.GameCurrentOperationScene!=r.GameSceneBlockType.Jail&&(LevelManager.Instance.KingBackHeadSpriteNode.active=!0,this.unschedule(a),LevelManager.Instance.AllowAvatarControllerMove=!0,LevelManager.Instance.PointerIsDown=!1,this.ControllerAnimation.play("Walk"),NPCKillerController.Instance.onKingDiscoverFunctionOver())},Death:function(e,t){void 0===t&&(t=!1),LevelManager.Instance.KingBackHeadSpriteNode.active=!1;var n=0,o=LevelManager.Instance.HealthProgressBar.progress;o>.7&&o<=1?n=0:o>.5&&o<=.7?n=1:o>.2&&o<=.5?n=2:o>0&&o<=.2&&(n=3),this.DeathController.DeathFunction(e,t,n),this.node.destroy()},OldDeath:function(){ColourBackground.Instance.Show(),o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[10]),LevelManager.Instance.KingBackHeadSpriteNode.active=!1;var e=this;this.scheduleOnce(function(){switch(e.DeathController.DeathFunction(-1,!1,3),NPCKillerController.Instance.ControllerType){case r.AvatarControllerType.YellowKiller:(t=cc.instantiate(AssetManager.Instance.KingControllerPrefabs[3])).parent=LevelManager.Instance.SceneContentNode,t.position=e.node.position;break;case r.AvatarControllerType.GreenDrinkSteward:(t=cc.instantiate(AssetManager.Instance.KingControllerPrefabs[5])).parent=LevelManager.Instance.SceneContentNode,t.position=e.node.position;break;default:var t;(t=cc.instantiate(AssetManager.Instance.KingControllerPrefabs[3])).parent=LevelManager.Instance.SceneContentNode,t.position=e.node.position}var n=cc.instantiate(AssetManager.Instance.ControllerPrefabs[2]);n.parent=LevelManager.Instance.SceneContentNode,n.position=cc.v2(e.node.x-1500,e.node.y),NPCKillerController.Instance.node.destroy(),LevelManager.Instance.GameAllowOperation=!0,LevelManager.Instance.AllowAvatarControllerMove=!0,e.node.destroy()},1)},DrinkRedWine:function(){this.AllowKingAgeChange=!1,LevelManager.Instance.GameAllowOperation=!1,LevelManager.Instance.AllowAvatarControllerMove=!1,this.ControllerAnimation.play("Drink"),this.scheduleOnce(function(){ColourBackground.Instance.Show(cc.color(255,255,128)),this.scheduleOnce(function(){this.ControllerAnimation.play("Walk"),LevelManager.Instance.HealthProgressBar.node.active=!1,this.ControllerHeadAgeSprite.spriteFrame=this.ControllerHeadAgeSpriteFrames[0],NPCKillerController.Instance.AllowCurrentControllerMove=!1,NPCKillerController.Instance.ControllerMHandRoot&&(NPCKillerController.Instance.ControllerMHandRoot.angle=NPCKillerController.Instance.DefaultMHandAngle),NPCKillerController.Instance.ControllerHeadSprite&&(NPCKillerController.Instance.ControllerHeadSprite.spriteFrame=NPCKillerController.Instance.HeadLevelSpriteFrames[0]),NPCKillerController.Instance.ControllerAnimation.play("Walk"),LevelManager.Instance.AllowAvatarControllerMove=!0,this.ControllerDrinkHand.active=!1,this.scheduleOnce(function(){NPCKillerController.Instance.destroy()},4.5),this.scheduleOnce(function(){LevelManager.Instance.CreateRandomNPCKiller(),LevelManager.Instance.GameAllowOperation=!0},5)},1)},3.2)},DrinkGreenWine:function(){LevelManager.Instance.GameAllowOperation=!1,LevelManager.Instance.AllowAvatarControllerMove=!1,this.ControllerAnimation.play("Drink"),this.scheduleOnce(function(){ColourBackground.Instance.Show(),this.scheduleOnce(function(){this.Death(r.AvatarControllerType.GreenDrinkSteward);var e=cc.instantiate(AssetManager.Instance.KingControllerPrefabs[r.AvatarControllerType.GreenDrinkSteward]);e.parent=LevelManager.Instance.SceneContentNode,e.position=KingController.Instance.node.position;var t=cc.instantiate(AssetManager.Instance.ControllerPrefabs[2]);t.parent=LevelManager.Instance.SceneContentNode,t.position=cc.v2(this.node.x-700,this.node.y),NPCKillerController.Instance.node.destroy(),LevelManager.Instance.GameAllowOperation=!0,LevelManager.Instance.AllowAvatarControllerMove=!0},1)},3.2)},onJailSceneFinish:function(){this.LeftLookDiscoverOver()}}),cc._RF.pop()},{"./Managers/SoundMgr":"SoundMgr","./RecorderPanel":"RecorderPanel",DeathController:"DeathController",LevelManager:"LevelManager"}],KingStoryLobbySceneBlockCheckPoint:[function(e,t){"use strict";cc._RF.push(t,"f77e0cfBEdGwZok6DIX19ip","KingStoryLobbySceneBlockCheckPoint");var n=e("LevelManager");e("KingController"),cc.Class({extends:cc.Component,properties:{},onBeginContact:function(){LevelManager.Instance.GameCurrentOperationMode==n.GameOperationMode.Defense&&(LevelManager.Instance.onKingEnterKingStoryLobbyDoor(),this.node.destroy())}}),cc._RF.pop()},{KingController:"KingController",LevelManager:"LevelManager"}],LZW:[function(e,t,n){"use strict";cc._RF.push(t,"e054f13wvpNrZOOYDkya+6Y","LZW"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.decode=function(e,t){var n=1<<t,o=n+1,i=t+1,r=[],s=0;function a(){var e;for(r=[],i=t+1,e=0;e<n;e++)r[e]=[e];r[n]=[],r[o]=null}function c(t){var n,o=0;for(n=0;n<t;n++)e[s>>3]&1<<(7&s)&&(o|=1<<n),s++;return o}return function(){for(var e,t,s=[];;)if(t=e,(e=c(i))!=n){if(e==o)break;if(e<r.length)t!==n&&r.push(r[t].concat(r[e][0]));else{if(e!==r.length)throw new Error("LZW\u89e3\u6790\u51fa\u9519");r.push(r[t].concat(r[t][0]))}s.push.apply(s,r[e]),r.length===1<<i&&i<12&&i++}else a();return s}()},e}();n.default=o,cc._RF.pop()},{}],LevelManager:[function(e,t){"use strict";cc._RF.push(t,"3d5e4nZjG5BP55eqz4dWeWE","LevelManager");var n=r(e("../GiftBoxMgr")),o=r(e("../YaoshuiMgr")),i=r(e("../RecorderPanel"));function r(e){return e&&e.__esModule?e:{default:e}}window.LevelManager={Instance:null};var s=e("LevelSceneManager"),a=cc.Enum({Lobby:0,Jail:1,Story:2}),c=cc.Enum({Attack:0,Defense:1}),l=cc.Enum({OldKing:0,BlackKing:1,BlackKiller:2,YellowKiller:3,RedDrinkSteward:4,GreenDrinkSteward:5,Clown:6,Woman:7,Army:8,Master:9,Girl:10,Dancer:11});cc.Enum({TooYoung:0,Young:1,Old:2,TooOld:3}),t.exports={GameSceneBlockType:a,GameOperationMode:c,AvatarControllerType:l},cc.Class({extends:cc.Component,properties:{SceneMainAudioSource:cc.AudioSource,SceneMainCameraNode:cc.Node,SceneCanvasContentNode:cc.Node,SceneBlockContentNode:cc.Node,SceneContentNode:cc.Node,KingBackHeadSpriteNode:cc.Node,AllowAvatarControllerMove:{default:!0},GameAllowOperation:{default:!0},PointerIsDown:{default:!1},GameCurrentOperationScene:{type:a,default:a.Lobby},_GameCurrentOperationMode:{type:c,default:c.Attack},GameCurrentOperationMode:{get:function(){return this._GameCurrentOperationMode},set:function(e){this._GameCurrentOperationMode=e,this.onGameCurrentOperationModeChange()}},RestartGameContent:cc.Node,BackgroundRaycast:cc.Node,AttackProgressBar:cc.ProgressBar,HealthProgressBar:cc.ProgressBar,AttackProgressBarMoveSpeed:0,HealthProgressBarMoveSpeed:0,LevelProgressNode:cc.Node,levelCount:1,levelCountLabels:{type:[cc.Label],default:[]},AvatarControllerMoveSpeed:0,AvatarControllerFastMoveSpeed:0,KillerAttackHandMoveSpeed:0,AllowKingLeftLookTime:2,AvatarControllerDistanceMinLimit:500,GameCreateNPCKillerIndex:0},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,LevelManager.Instance=this},addLevel:function(e){var t=this;this.levelCount+=e,0==e?(this.levelCountLabels[0].string=(this.levelCount-1).toString(),this.levelCountLabels[1].string=this.levelCount.toString(),this.levelCountLabels[2].string=(this.levelCount+1).toString()):this.scheduleOnce(function(){t.levelCountLabels[0].string=(t.levelCount-1).toString(),t.levelCountLabels[1].string=t.levelCount.toString(),t.levelCountLabels[2].string=(t.levelCount+1).toString()},1.5)},update:function(e){if(this.GameAllowOperation)switch(this.GameCurrentOperationMode){case c.Attack:if(this.PointerIsDown){if(KillerController.Instance.node.position.sub(NPCKingController.Instance.node.position).mag()>=this.AvatarControllerDistanceMinLimit)return;if(this.AttackProgressBar.progress<1){if(NPCKingController.Instance.CurrentIsDiscover)return;this.AttackProgressBar.progress+=this.AttackProgressBarMoveSpeed*e}else this.AttackProgressBar.progress=1,this.GameAllowOperation=!1,KillerController.Instance.ControllerAnimation.play("Attack")}break;case c.Defense:if(!this.AllowAvatarControllerMove||i.default.GamePause)return;if(this.HealthProgressBar.progress<0)return;this.HealthProgressBar.progress-=this.HealthProgressBarMoveSpeed*e,this.HealthProgressBar.progress<0&&(this.AllowAvatarControllerMove=!1,this.GameAllowOperation=!1,KingController.Instance.ControllerAnimation.pause(),this.scheduleOnce(function(){KingController.Instance.ControllerAnimation.play("OldDeath")},.5))}},onRaycastTouchDown:function(){if(this.GameAllowOperation)switch(this.PointerIsDown=!0,this.GameCurrentOperationMode){case c.Attack:if(KillerController.Instance.node.position.sub(NPCKingController.Instance.node.position).mag()>=this.AvatarControllerDistanceMinLimit)return;break;case c.Defense:KingController.Instance.LeftLookDiscover()}},onRaycastTouchUp:function(){if(this.PointerIsDown)switch(this.node.emit("click",this),this.PointerIsDown=!1,this.GameCurrentOperationMode){case c.Attack:this.GameAllowOperation&&this.AttackProgressBar.progress<1&&(this.AttackProgressBar.progress=0);break;case c.Defense:KingController.Instance.LeftLookDiscoverOver()}},onKingEnterKingStoryLobbyDoor:function(){this.HealthProgressBar.node.active&&this.HealthProgressBar.progress<=.2?(this.AllowAvatarControllerMove=!1,this.GameAllowOperation=!1,KingController.Instance.ControllerAnimation.pause(),this.scheduleOnce(function(){KingController.Instance.ControllerAnimation.play("")},1.5)):(ColourBackground.Instance.Show(cc.color(255,255,255)),this.scheduleOnce(function(){this.GameAllowOperation=!1,LevelSceneManager.Instance.StartStoryScene(s.GameStorySceneType.King),KingController.Instance.node.active=!1,NPCKillerController.Instance.node.active=!1},1))},onGameOver:function(){this.RestartGameContent.active=!0,KingController.Instance&&KingController.Instance.node.destroy(),NPCKillerController.Instance&&NPCKillerController.Instance.node.destroy(),this.AttackProgressBar.node.active=!1,n.default.Instance.HideBox(),this.HealthProgressBar.node.active=!1,this.LevelProgressNode.active=!1,this.enabled=!1},CreateArmyController:function(e,t){var n=cc.instantiate(AssetManager.Instance.ControllerPrefabs[8]);n.parent=this.SceneContentNode,n.position=cc.v2(e.x-800,e.y);var o=n.getComponent("ArmyGroupController");o.TargetAvatarNode=e,o.TargetAvatarControllerType=t},CreateRandomNPCKiller:function(){if(null==NPCKillerController.Instance){var e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[3]);switch(5==this.GameCreateNPCKillerIndex&&(this.GameCreateNPCKillerIndex=6),this.GameCreateNPCKillerIndex){case 0:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[3]);break;case 1:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[6]);break;case 2:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[5]);break;case 3:e=this.HealthProgressBar.node.active?cc.instantiate(AssetManager.Instance.ControllerPrefabs[4]):cc.instantiate(AssetManager.Instance.ControllerPrefabs[3]);break;case 4:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[7]);break;case 5:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[9]);break;case 6:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[10]);break;case 7:e=cc.instantiate(AssetManager.Instance.ControllerPrefabs[11])}this.GameCreateNPCKillerIndex++,this.GameCreateNPCKillerIndex>=8&&(this.GameCreateNPCKillerIndex=0),e.parent=this.SceneContentNode;var t=KingController.Instance.node.position;t.x-=1300,e.position=t}},onGameCurrentOperationModeChange:function(){switch(this.AttackProgressBar.progress=0,this.HealthProgressBar.progress=1,this.GameCurrentOperationMode){case c.Attack:this.AttackProgressBar.node.active=!0,n.default.Instance.ShowBox(),this.HealthProgressBar.node.active=!1,this.LevelProgressNode.active=!1,o.default.Instance.Hide();break;case c.Defense:this.AttackProgressBar.node.active=!1,n.default.Instance.HideBox(),this.HealthProgressBar.node.active=!0,this.LevelProgressNode.active=!0,this.addLevel(0)}}}),cc._RF.pop()},{"../GiftBoxMgr":"GiftBoxMgr","../RecorderPanel":"RecorderPanel","../YaoshuiMgr":"YaoshuiMgr",LevelSceneManager:"LevelSceneManager"}],LevelSceneManager:[function(e,t){"use strict";cc._RF.push(t,"35f870/oKVDEK4PwGpiGAYq","LevelSceneManager"),window.LevelSceneManager={Instance:null};var n=cc.Enum({Lobby:0,KingStoryLobby:1}),o=cc.Enum({King:0,WC:1,Love:2,BadKing_Girl:3,Dancer:4});t.exports={GameSceneBlockPrefabType:n,GameStorySceneType:o},cc.Class({extends:cc.Component,properties:{CreatSceneBlockInterval:5300,ScenesObjectParent:cc.Node,isCreateScene:!1,GameSceneBlockPrefabs:{type:[cc.Prefab],default:[]},GameCurrentSceneObjects:{type:[cc.Node],default:[]},GameStorySceneObjects:{type:[cc.Node],default:[]}},onLoad:function(){LevelSceneManager.Instance=this},CreateNextScene:function(e){var t=this;if(!this.isCreateScene){var n;this.isCreateScene=!0,this.scheduleOnce(function(){t.isCreateScene=!1},1),n=null!=this.GameCurrentSceneObjects[1]?this.GameCurrentSceneObjects[1].position:this.GameCurrentSceneObjects[0].position;var o=cc.instantiate(this.GameSceneBlockPrefabs[e]);o.parent=this.ScenesObjectParent,o.x+=n.x+this.CreatSceneBlockInterval,null!=this.GameCurrentSceneObjects[0]&&null!=this.GameCurrentSceneObjects[1]?(this.GameCurrentSceneObjects[0].destroy(),this.GameCurrentSceneObjects[0]=this.GameCurrentSceneObjects[1],this.GameCurrentSceneObjects[1]=o):this.GameCurrentSceneObjects[1]=o}},StartStoryScene:function(e){LevelManager.Instance.onGameOver(),this.GameStorySceneObjects[e].active=!0}}),cc._RF.pop()},{}],Loading:[function(e,t,n){"use strict";cc._RF.push(t,"4169973Ja1HxqI8v7aE42Cb","Loading");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./Privacy"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=null,t.progressLabel=null,t.initComplete=!1,t.loadComplete=!1,t.progressNum=0,t.progressRun=0,t.timeCount=5,t.jumpScene="GameScene",t.privacyPause=!1,t.hasJump=!1,t.isAgree=!0,t.hintLabel=null,t}return i(t,e),t.prototype.onLoad=function(){cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.XIAOMI_GAME||cc.sys.platform==cc.sys.BYTEDANCE_GAME||cc.sys.platform==cc.sys.HUAWEI_GAME||cc.sys.platform==cc.sys.WECHAT_GAME?this.init():this.initFinish()},t.prototype.start=function(){SDK.Mgr.Inst.event(SDK.Define.Event.loadingStart),SDK.Base.Event.on("PrivacyPause",this.PrivacyPause,this),SDK.Base.Event.on("PrivacyResume",this.PrivacyResume,this)},t.prototype.onDestroy=function(){SDK.Base.Event.off("PrivacyPause",this.PrivacyPause,this),SDK.Base.Event.off("PrivacyResume",this.PrivacyResume,this)},t.prototype.PrivacyPause=function(){this.privacyPause=!0},t.prototype.PrivacyResume=function(){this.privacyPause=!1},t.prototype.login=function(){window.gamebox.login({success:function(e){e.code?console.log("\u767b\u5f55\u6210\u529f\uff01"+e.code):console.log("\u767b\u5f55\u5931\u8d25\uff01"+e.errMsg)}})},t.prototype.loginBtnClick=function(){cc.sys.platform===cc.sys.HUAWEI_GAME&&(SDK.Mgr.Inst.getSdk().hasLogin||SDK.Mgr.Inst.getSdk().reLogin())},t.prototype.init=function(){var e=this,t=[],n=[],o=0,i=0,r=function(){o==t.length&&i==n.length&&e.initFinish()};cc.sys.platform===cc.sys.OPPO_GAME?t=["bundle","frame","main"]:cc.sys.platform===cc.sys.VIVO_GAME?t=["bundle","frame","main"]:cc.sys.platform===cc.sys.BYTEDANCE_GAME?n=["bundle"]:cc.sys.platform===cc.sys.WECHAT_GAME?t=["bundle","frame","main"]:cc.sys.platform===cc.sys.XIAOMI_GAME?t=["bundle","frame","main"]:cc.sys.platform===cc.sys.HUAWEI_GAME&&(t=["bundle","frame","main"]),t.forEach(function(e){cc.loader.downloader.loadSubpackage(e,function(t){t?console.log("%%%%%%% loadSubpackage "+e+" load err",t):(console.log("%%%%%%% loadSubpackage "+e+" load successfully"),o++,r())})}),n.forEach(function(e){cc.assetManager.loadBundle(e,function(t){t?console.log("####### loadBundle "+e+" load err",t):(console.log("####### loadBundle "+e+" load successfully"),i++,r())})})},t.prototype.initFinish=function(){if(this.initComplete=!0,this.loadScene("GameScene"),this.progress.node.active=!0,SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.xm)if(cc.sys.localStorage.getItem("PrivacyConfirm"))console.log("PrivacyConfirm",!0);else{var e=this;cc.resources.load("SDK/Privacy",function(t,n){if(null==t){var o=n,i=cc.instantiate(o);cc.director.getScene().getChildByName("Canvas").addChild(i),e.scheduleOnce(function(){s.default.Instance.openPanel()},.1)}else console.log("err",t)})}},t.prototype.update=function(e){if(this.initComplete&&!this.privacyPause){if(cc.sys.platform===cc.sys.HUAWEI_GAME&&!SDK.Mgr.Inst.getSdk().hasLogin)return this.timeCount+=e,void(this.timeCount>8&&(this.timeCount=0,SDK.ToastMgr.Inst.showToast("\u8d26\u53f7\u672a\u767b\u5f55,\u8bf7\u5148\u767b\u5f55\u8d26\u53f7")));this.progressRun<this.progressNum&&(this.progressRun+=.01,this.progress.progress=this.progressRun,this.progressLabel.string=parseInt(100*this.progressRun+"")+"%"),this.progressRun>=1&&!this.hasJump&&(this.hasJump=!0,cc.director.loadScene(this.jumpScene),SDK.Mgr.Inst.event("LoadingFinish"))}},t.prototype.loadScene=function(e){var t=this;cc.director.preloadScene(e,function(e,n){e/n>t.progressNum&&(t.progressNum=e/n)},function(){t.loadComplete=!0})},r([l(cc.ProgressBar)],t.prototype,"progress",void 0),r([l(cc.Label)],t.prototype,"progressLabel",void 0),r([l(cc.Label)],t.prototype,"hintLabel",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./Privacy":"Privacy"}],LobbySceneBlockCheckPoint:[function(e,t){"use strict";cc._RF.push(t,"58e14iGRztFuIrFqHEjwj/v","LobbySceneBlockCheckPoint");var n=e("LevelManager"),o=e("LevelSceneManager");cc.Class({extends:cc.Component,properties:{},onBeginContact:function(){this.node.destroy(),LevelManager.Instance.GameCurrentOperationMode==n.GameOperationMode.Defense&&LevelManager.Instance.HealthProgressBar.progress<=.55?LevelSceneManager.Instance.CreateNextScene(o.GameSceneBlockPrefabType.KingStoryLobby):LevelManager.Instance.GameCurrentOperationMode!=n.GameOperationMode.Defense||LevelManager.Instance.HealthProgressBar.node.active||LevelManager.Instance.AttackProgressBar.node.active?LevelSceneManager.Instance.CreateNextScene(o.GameSceneBlockPrefabType.Lobby):LevelSceneManager.Instance.CreateNextScene(o.GameSceneBlockPrefabType.KingStoryLobby)}}),cc._RF.pop()},{LevelManager:"LevelManager",LevelSceneManager:"LevelSceneManager"}],Localized_Label:[function(e,t,n){"use strict";cc._RF.push(t,"c2525gn/YtNmb6xDMbscXBh","Localized_Label");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.key="label_key",t}return i(t,e),t.prototype.start=function(){this.label=this.getComponent(cc.Label),Localized.Event.on("LANGUAGE_CHANGE",this.languageChange,this),this.languageChange()},t.prototype.onDestroy=function(){Localized.Event.off("LANGUAGE_CHANGE",this.languageChange,this)},t.prototype.languageChange=function(){if(this.label){var e=Localized.Mgr.Inst.getString(this.key);e&&(this.label.string=e)}},r([c(cc.String)],t.prototype,"key",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Localized_Sprite:[function(e,t,n){"use strict";cc._RF.push(t,"f5664M+PWZApaKgF8FKFiz5","Localized_Sprite");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.frames=[],t}return i(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),Localized.Event.on("LANGUAGE_CHANGE",this.languageChange,this),this.languageChange()},t.prototype.onDestroy=function(){Localized.Event.off("LANGUAGE_CHANGE",this.languageChange,this)},t.prototype.languageChange=function(){if(this.sprite){var e=Localized.Mgr.Inst.curLanguageId;e>=0&&e<this.frames.length&&(this.sprite.spriteFrame=this.frames[e])}},r([c([cc.SpriteFrame])],t.prototype,"frames",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Localized:[function(e,t){"use strict";var n;cc._RF.push(t,"8cdd4ZHBd1EUJCyWxEzEHw3","Localized"),function(e){e.version="1.0.0",e.Event=new cc.EventTarget;var t=function(){function t(){this._language="en",this._languageId=0,this.data=null}return Object.defineProperty(t.prototype,"curLanguage",{get:function(){return this._language},set:function(t){switch(t){case"en":this._language="en",this._languageId=0,this.data=window.Localized_Data_EN;break;case"zh":this._language="zh",this._languageId=1,this.data=window.Localized_Data_ZH;break;case"ru":this._language="ru",this._languageId=2,this.data=window.Localized_Data_EN;break;case"ar":this._language="ar",this._languageId=3,this.data=window.Localized_Data_EN;break;default:this._language="en",this._languageId=0,this.data=window.Localized_Data_EN}e.Event.emit("LANGUAGE_CHANGE")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curLanguageId",{get:function(){return this._languageId},set:function(e){switch(this._languageId=e,e){case 0:this.curLanguage="en";break;case 1:this.curLanguage="zh";break;case 2:this.curLanguage="ru";break;case 3:this.curLanguage="ar";break;default:this.curLanguage="en"}},enumerable:!1,configurable:!0}),t.prototype.getString=function(e){return this.data[e]},Object.defineProperty(t,"Inst",{get:function(){return null==t._INST&&(t._INST=new t),t._INST},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this.curLanguage=e},t}();e.Mgr=t,e.Launcher||(e.Launcher={}),setTimeout(function(){Config.Base.baseKeys.hasLocalized&&t.Inst.init(cc.sys.LANGUAGE_ENGLISH)},100)}(n||(n={})),window.Localized=n,cc._RF.pop()},{}],MixController:[function(e,t,n){"use strict";cc._RF.push(t,"6e2c37jcOFHup0j//h9Beyt","MixController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./MixMgr"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mixAni=[],t.states=[!1,!1,!1,!1],t.leftSprite=null,t.rightSprite1=null,t.rightSprite2=null,t.leftFrames=[],t.rightFrames=[],t}return i(t,e),t.prototype.start=function(){},t.prototype.food1Click=function(){this.states[0]?SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("yijingjiaguola")):(this.states[0]=!0,this.mixAni[0].play(),this.scheduleOnce(function(){s.default.Instance.addMixNum()},2))},t.prototype.food2Click=function(){this.states[1]?SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("yijingjiaguola")):(this.states[1]=!0,this.mixAni[1].play(),this.scheduleOnce(function(){s.default.Instance.addMixNum()},2))},t.prototype.food3Click=function(){this.states[2]?SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("yijingjiaguola")):(this.states[2]=!0,this.mixAni[2].play(),this.scheduleOnce(function(){s.default.Instance.addMixNum()},2))},t.prototype.food4Click=function(){this.states[3]?SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("yijingjiaguola")):(this.states[3]=!0,this.mixAni[3].play(),this.scheduleOnce(function(){s.default.Instance.addMixNum()},2))},r([l([cc.Animation])],t.prototype,"mixAni",void 0),r([l(cc.Sprite)],t.prototype,"leftSprite",void 0),r([l(cc.Sprite)],t.prototype,"rightSprite1",void 0),r([l(cc.Sprite)],t.prototype,"rightSprite2",void 0),r([l([cc.SpriteFrame])],t.prototype,"leftFrames",void 0),r([l([cc.SpriteFrame])],t.prototype,"rightFrames",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./MixMgr":"MixMgr"}],MixMgr:[function(e,t,n){"use strict";cc._RF.push(t,"a0abdogcjZOMZzgTaOzof6T","MixMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../SDK/Script/VideoHint"),a=e("../DataMgr"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel=null,t.closeBtn=null,t.showPanelCloseBtn=null,t.bowlSprites=[],t.bowlSprite=null,t.controllerNode=null,t.controllerParent=null,t.mixNum=0,t.mixShowPanel=null,t.getSkinBtn=null,t.skinSprite=null,t.skinFrames=[],t.skinIndex=-1,t.menuMixBtn=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.start=function(){-1!=this.getUnlockSkin()&&SDK.Mgr.Inst.hasAds||(this.menuMixBtn.active=!1)},t.prototype.openPanel=function(){},t.prototype.closePanel=function(){this.panel.active=!1,this.controllerParent.destroyAllChildren()},t.prototype.getUnlockSkin=function(){var e=[9,10,11,12];e.sort(function(){return.5-Math.random()});for(var t=0;t<e.length;t++)if(!a.default.Instance.hasSkin(e[t]))return e[t];return-1},t.prototype.openFinishPanel=function(){this.mixShowPanel.active=!0,this.skinIndex=this.getUnlockSkin(),this.skinSprite.spriteFrame=this.skinFrames[this.skinIndex-9]},t.prototype.addMixNum=function(){this.mixNum++,this.mixNum<4&&(this.bowlSprite.spriteFrame=this.bowlSprites[this.mixNum])},t.prototype.getBtnClick=function(){this.realGetSkin(),this.controllerParent.destroyAllChildren()},t.prototype.cancelBtnClick=function(){this.mixShowPanel.active=!1},t.prototype.realGetSkin=function(){this.mixShowPanel.active=!1,a.default.Instance.setSkin(this.skinIndex,!0),a.default.Instance.curSkinNum=this.skinIndex,SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("huodepifu")),-1==this.getUnlockSkin()&&(this.menuMixBtn.active=!1)},t.prototype.mixBtnClick=function(){if(this.mixNum<3)SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zhishaosanshuxing"));else{var e="MixEnd_Ad";SDK.Mgr.Inst.event(e+"Click");var t=this,n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(e+"Success"),t.openFinishPanel(),t.panel.active=!1,t.controllerParent.destroyAllChildren()):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"Cancel"),s.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(e+"NoAd"))};SDK.Mgr.Inst.showVideo(n)}},t.Instance=null,t.showMix=!1,r([u(cc.Node)],t.prototype,"panel",void 0),r([u(cc.Node)],t.prototype,"closeBtn",void 0),r([u(cc.Node)],t.prototype,"showPanelCloseBtn",void 0),r([u([cc.SpriteFrame])],t.prototype,"bowlSprites",void 0),r([u(cc.Sprite)],t.prototype,"bowlSprite",void 0),r([u(cc.Prefab)],t.prototype,"controllerNode",void 0),r([u(cc.Node)],t.prototype,"controllerParent",void 0),r([u(cc.Node)],t.prototype,"mixShowPanel",void 0),r([u(cc.Node)],t.prototype,"getSkinBtn",void 0),r([u(cc.Sprite)],t.prototype,"skinSprite",void 0),r([u([cc.SpriteFrame])],t.prototype,"skinFrames",void 0),r([u(cc.Node)],t.prototype,"menuMixBtn",void 0),n=r([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../SDK/Script/VideoHint":"VideoHint","../DataMgr":"DataMgr"}],MoreGame:[function(e,t,n){"use strict";cc._RF.push(t,"35a9fykfyxC1bqeo/11bRzV","MoreGame");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.triggerBtn=null,t.triggerBtn2=null,t}return i(t,e),t.prototype.start=function(){var e=this;this.triggerBtn.active=!1,this.triggerBtn2.active=!1,SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?SDK.Mgr.Inst.isAdOpen&&this.schedule(function(){SDK.Mini.OPPO.Extend.Inst.boxPortalReady()&&(e.triggerBtn.active=!0)},.3):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq?(this.triggerBtn.active=!0,SDK.Mgr.Inst.isAdOpen&&this.scheduleOnce(function(){e.triggerBtn.active=!0},1)):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo&&(this.triggerBtn2.active=!0)},t.prototype.triggerBtnClick=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?(SDK.Mini.OPPO.Extend.Inst.showBoxPortal(),this.triggerBtn.active=!1):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq?(SDK.Mini.QQ.Extend.Inst.showAppBox(),this.triggerBtn.active=!1):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo&&SDK.Mgr.Inst.jump()},r([c(cc.Node)],t.prototype,"triggerBtn",void 0),r([c(cc.Node)],t.prototype,"triggerBtn2",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],NPCKillerController:[function(e,t){"use strict";cc._RF.push(t,"48792WNRgRKcry5/N52Ucu+","NPCKillerController");var n=i(e("./RecorderPanel")),o=i(e("./Managers/SoundMgr"));function i(e){return e&&e.__esModule?e:{default:e}}window.NPCKillerController={Instance:null};var r=e("LevelManager"),s=e("LevelSceneManager");cc.Class({extends:cc.Component,properties:{ControllerDiscoverFlag:7,ControllerType:{type:cc.Enum(r.AvatarControllerType),default:r.AvatarControllerType.BlackKiller},DefaultMHandAngle:0,StayGameObject:cc.Node,ControllerAttackProgress:0,ControllerAnimation:cc.Animation,ControllerMHandRoot:cc.Node,AllowCurrentControllerMove:{default:!0},_ControllerAttackOperation:{default:!1},ControllerAttackOperation:{get:function(){return this._ControllerAttackOperation},set:function(e){this._ControllerAttackOperation=e}},ControllerIsAttacked:{default:!1},ControllerHeadSprite:cc.Sprite,HeadLevelSpriteFrames:[cc.SpriteFrame]},onLoad:function(){NPCKillerController.Instance=this},start:function(){this.ControllerMHandRoot&&(this.DefaultMHandAngle=this.ControllerMHandRoot.angle),this.scheduleOnce(this.RandomKillerAnims,2)},onDestroy:function(){NPCKillerController.Instance=null},update:function(e){if(!n.default.GamePause){var t;if(KingController.Instance&&(t=this.node.position.sub(KingController.Instance.node.position).mag()),this.ControllerAttackOperation){if(!KingController.Instance)return;LevelManager.Instance.HealthProgressBar.progress>=.1&&t<LevelManager.Instance.AvatarControllerDistanceMinLimit&&(this.ControllerAttackProgress+=LevelManager.Instance.AttackProgressBarMoveSpeed*e)}var o=this.ControllerAttackProgress;if(this.ControllerHeadSprite&&LevelManager.Instance.GameAllowOperation&&null!=this.HeadLevelSpriteFrames[0]&&(o>=0&&o<.35?this.ControllerHeadSprite.spriteFrame=this.HeadLevelSpriteFrames[0]:o>=.35&&o<.65?this.ControllerHeadSprite.spriteFrame=this.HeadLevelSpriteFrames[1]:o>=.65&&o<=1&&(this.ControllerHeadSprite.spriteFrame=this.HeadLevelSpriteFrames[2])),LevelManager.Instance.AllowAvatarControllerMove&&this.AllowCurrentControllerMove){if(!KingController.Instance)return;t>=LevelManager.Instance.AvatarControllerDistanceMinLimit?this.node.x+=LevelManager.Instance.AvatarControllerFastMoveSpeed*e:this.node.x+=LevelManager.Instance.AvatarControllerMoveSpeed*e}if(this.ControllerMHandRoot)if(o<=0)this.ControllerMHandRoot.angle=this.DefaultMHandAngle;else{if(!LevelManager.Instance.GameAllowOperation)return;o<1&&(this.ControllerMHandRoot.angle+=LevelManager.Instance.KillerAttackHandMoveSpeed)}if(o>=1){if(o=1,this.ControllerIsAttacked)return;this.ControllerIsAttacked=!0,this.ControllerAnimation.play("Attack")}}},RandomKillerAnims:function(){this.unschedule(this.RandomKillerAnimsCallback),this.RandomKillerAnimsCallback=this.scheduleOnce(function(){this.RandomKillerAnims()},Math.round(Math.round(3*Math.random()+2))),this.ControllerAttackOperation=!0},onKingDiscoverFunction:function(){switch(this.ControllerType){case r.AvatarControllerType.RedDrinkSteward:case r.AvatarControllerType.GreenDrinkSteward:case r.AvatarControllerType.Clown:case r.AvatarControllerType.Woman:case r.AvatarControllerType.Girl:case r.AvatarControllerType.Dancer:return void this.DiscoverJail()}var e=Math.round(10*Math.random());this.ControllerAttackOperation=!1,this.ControllerAttackProgress>=.45&&e>=this.ControllerDiscoverFlag?this.DiscoverJail():this.DiscoverStay()},onKingDiscoverFunctionOver:function(){LevelManager.Instance.GameCurrentOperationScene!=r.GameSceneBlockType.Jail&&this.ControllerAnimation.play("Walk")},DiscoverJail:function(){LevelManager.Instance.addLevel(1),LevelManager.Instance.SceneMainAudioSource.stop(),LevelManager.Instance.GameCurrentOperationScene=r.GameSceneBlockType.Jail,LevelManager.Instance.AllowAvatarControllerMove=!1,LevelManager.Instance.GameAllowOperation=!1,LevelManager.Instance.CreateArmyController(this.node,this.ControllerType),o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[4]),this.ControllerAnimation.play("DiscoverJail"),this.scheduleOnce(function(){o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[5])},1),this.ControllerAttackProgress=0},DiscoverStay:function(){if(LevelManager.Instance.GameCurrentOperationScene!=r.GameSceneBlockType.Jail){switch(this.ControllerType){case r.AvatarControllerType.YellowKiller:o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[6])}this.ControllerMHandRoot&&(this.ControllerMHandRoot.angle=this.DefaultMHandAngle),this.ControllerAnimation.play("Stay"),this.ControllerAttackOperation=!1,this.ControllerAttackProgress=0}},AFUNC_KillColourBackground:function(){switch(o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[9]),this.ControllerType){case r.AvatarControllerType.Woman:case r.AvatarControllerType.RedDrinkSteward:case r.AvatarControllerType.GreenDrinkSteward:ColourBackground.Instance.Show(cc.color(255,255,255));break;case r.AvatarControllerType.Master:ColourBackground.Instance.Show(cc.color(5,200,0));break;case r.AvatarControllerType.Girl:ColourBackground.Instance.Show(cc.color(255,57,210));break;default:ColourBackground.Instance.Show()}this.scheduleOnce(function(){switch(this.ControllerType){case r.AvatarControllerType.Clown:KingController.Instance.Death(this.ControllerType,!0),this.ControllerAnimation.play("GetCrown"),this.scheduleOnce(function(){ColourBackground.Instance.Show(cc.color(255,255,255))},1.8),this.scheduleOnce(function(){this.node.active=!1,LevelSceneManager.Instance.StartStoryScene(s.GameStorySceneType.WC)},2.3);break;case r.AvatarControllerType.Woman:this.node.active=!1,LevelSceneManager.Instance.StartStoryScene(s.GameStorySceneType.Love);break;case r.AvatarControllerType.RedDrinkSteward:KingController.Instance.DrinkRedWine(),this.StayGameObject&&(this.StayGameObject.active=!1);break;case r.AvatarControllerType.GreenDrinkSteward:KingController.Instance.DrinkGreenWine(),this.StayGameObject&&(this.StayGameObject.active=!1);break;case r.AvatarControllerType.Master:LevelManager.Instance.SceneMainAudioSource.stop(),LevelManager.Instance.onGameOver(!1);var e=cc.instantiate(AssetManager.Instance.OtherPrefabs[0]);e.parent=LevelManager.Instance.SceneContentNode,e.position=KingController.Instance.node.position,this.ControllerAnimation.play("Killed"),KingController.Instance.node.destroy(),LevelManager.Instance.GameAllowOperation=!1,LevelManager.Instance.AllowAvatarControllerMove=!1;break;case r.AvatarControllerType.Girl:this.ControllerAnimation.play("Killed"),LevelManager.Instance.GameAllowOperation=!1,this.scheduleOnce(function(){ColourBackground.Instance.Show(cc.color(0,0,0))},1),this.scheduleOnce(function(){LevelSceneManager.Instance.StartStoryScene(s.GameStorySceneType.BadKing_Girl)},1.5);break;case r.AvatarControllerType.Dancer:this.node.active=!1,LevelSceneManager.Instance.StartStoryScene(s.GameStorySceneType.Dancer);break;default:KingController.Instance.Death(this.ControllerType);var t=cc.instantiate(AssetManager.Instance.KingControllerPrefabs[this.ControllerType]);t.parent=LevelManager.Instance.SceneContentNode,t.position=KingController.Instance.node.position;var n=cc.instantiate(AssetManager.Instance.ControllerPrefabs[2]);n.parent=LevelManager.Instance.SceneContentNode,n.position=cc.v2(this.node.x-700,this.node.y),this.node.destroy()}},1)}}),cc._RF.pop()},{"./Managers/SoundMgr":"SoundMgr","./RecorderPanel":"RecorderPanel",LevelManager:"LevelManager",LevelSceneManager:"LevelSceneManager"}],NPCKingController:[function(e,t){"use strict";cc._RF.push(t,"75e9dkU4rhERab5E2YqTFnp","NPCKingController");var n=i(e("./RecorderPanel")),o=i(e("./Managers/SoundMgr"));function i(e){return e&&e.__esModule?e:{default:e}}window.NPCKingController={Instance:null};var r=e("LevelManager"),s=e("DeathController");cc.Class({extends:cc.Component,properties:{DeathController:s,ControllerAnimation:cc.Animation,_CurrentIsDiscover:!1,CurrentIsDiscover:{get:function(){return this._CurrentIsDiscover},set:function(e){this._CurrentIsDiscover=e,this.onControllerDiscoverStatusChange()}}},onLoad:function(){NPCKingController.Instance=this},start:function(){CameraManager.Instance.CameraTarget=this.node,this.scheduleOnce(this.RandomKingAnims,2)},onDestroy:function(){NPCKingController.Instance=null},update:function(e){n.default.GamePause||LevelManager.Instance.AllowAvatarControllerMove&&(this.node.x+=LevelManager.Instance.AvatarControllerMoveSpeed*e)},Death:function(e){this.DeathController.DeathFunction(e),this.node.destroy()},RandomKingAnims:function(){if(this.unschedule(this.RandomKingAnimsCallback),this.RandomKingAnimsCallback=this.scheduleOnce(function(){this.RandomKingAnims()},Math.round(Math.round(5*Math.random()+3))),!(KillerController.Instance.node.position.sub(this.node.position).mag()>=LevelManager.Instance.AvatarControllerDistanceMinLimit||LevelManager.Instance.AttackProgressBar.progress>=.82||this.CurrentIsDiscover)){this.ControllerAnimation.play("Walk");var e=Math.round(Math.round(14*Math.random()));e>=0&&e<=2?this.ControllerAnimation.play("Walk"):e>=3&&e<=5?this.ControllerAnimation.play("FastLeftLook"):e>=6&&e<=7?this.ControllerAnimation.play("UpLook"):e>=8&&e<=9?this.ControllerAnimation.play("Cough"):e>=10&&e<=13&&this.ControllerAnimation.play("LeftLook")}},AFUNC_LeftLook:function(){LevelManager.Instance.AttackProgressBar.progress>=.82||(o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[7]),LevelManager.Instance.AllowAvatarControllerMove=!1,LevelManager.Instance.GameAllowOperation=!1,this.CurrentIsDiscover=!0,this.unschedule(this.AFUNC_LeftLookOverCallback),this.AFUNC_LeftLookOverCallback=this.scheduleOnce(this.AFUNC_LeftLookOver,Math.round(Math.round(2*Math.random()+2))))},AFUNC_LeftLookOver:function(){LevelManager.Instance.AttackProgressBar.progress>=.9||LevelManager.Instance.GameCurrentOperationScene!=r.GameSceneBlockType.Jail&&(LevelManager.Instance.AllowAvatarControllerMove=!0,LevelManager.Instance.GameAllowOperation=!0,this.ControllerAnimation.play("Walk"),this.CurrentIsDiscover=!1)},AFUNC_Cough:function(){o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[2])},onControllerDiscoverStatusChange:function(){this.CurrentIsDiscover?LevelManager.Instance.AttackProgressBar.progress>0?KillerController.Instance.onNonSafeKingDiscoverFunction():KillerController.Instance.onSafeKingDiscoverFunction():KillerController.Instance.onSafeKingDiscoverFunctionOver()},onJailSceneFinish:function(){this.AFUNC_LeftLookOver()}}),cc._RF.pop()},{"./Managers/SoundMgr":"SoundMgr","./RecorderPanel":"RecorderPanel",DeathController:"DeathController",LevelManager:"LevelManager"}],NativeAdBase:[function(e,t,n){"use strict";cc._RF.push(t,"fb87aixhIlIfK4BUPum+QYA","NativeAdBase");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAd_Node"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.requireComponent,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoShow=!0,t.autoFresh=!0,t.delay=0,t.cmp=null,t}return i(t,e),t.prototype.onLoad=function(){this.cmp=this.node.getComponent(s.NativeAd_Node)},t.prototype.canShow=function(){return!1},t.prototype.initData=function(e,t,n,o,i){this.cmp.title&&(this.cmp.title.string=e),this.cmp.desc&&(this.cmp.desc.string=t),this.cmp.iconSprite&&(n?SDK.Util.Helper.loadImage(this.cmp.iconSprite,n):o&&SDK.Util.Helper.loadImage(this.cmp.iconSprite,o)),this.cmp.mainSprite&&(o?SDK.Util.Helper.loadImage(this.cmp.mainSprite,o,i):n&&SDK.Util.Helper.loadImage(this.cmp.mainSprite,n,i))},t.prototype.show=function(){this.cmp.adNode&&(this.cmp.adNode.active=!0),this.cmp.closeBtn&&(this.cmp.closeBtn.active=!0),this.cmp.extentBtns.forEach(function(e){e.active=!0})},t.prototype.click=function(){},t.prototype.close=function(){this.cmp.adNode&&(this.cmp.adNode.active=!1),this.cmp.closeBtn&&(this.cmp.closeBtn.active=!1),this.cmp.extentBtns.forEach(function(e){e.active=!1})},r([l(cc.Boolean)],t.prototype,"autoShow",void 0),r([l(cc.Boolean)],t.prototype,"autoFresh",void 0),r([l(cc.Float)],t.prototype,"delay",void 0),r([c,u(s.NativeAd_Node)],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./NativeAd_Node":"NativeAd_Node"}],NativeAdButtonTrigger:[function(e,t,n){"use strict";cc._RF.push(t,"30d9doGrVhOupg1Fx7Qu0xh","NativeAdButtonTrigger");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAd_Oppo"),a=e("./NativeAd_Oppo_Android"),c=e("./NativeAd_Xiaomi"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyName="nullKeyNativeProbability",t.nativeAdNode=null,t.nativeAd_Base=null,t}return i(t,e),t.prototype.start=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?this.nativeAd_Base=this.nativeAdNode.getComponent(s.default):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo?this.nativeAd_Base=this.nativeAdNode.getComponent(a.default):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.xm&&(this.nativeAd_Base=this.nativeAdNode.getComponent(c.default)),SDK.Mgr.Inst.isAdOpen&&SDK.Mgr.Inst.onlineParam[this.keyName]&&console.log("####### keyName:"+this.keyName+"###### hasKey:"+SDK.Mgr.Inst.onlineParam[this.keyName])},t.prototype.triggerBtnClick=function(){SDK.Mgr.Inst.isAdOpen&&SDK.Mgr.Inst.onlineParam[this.keyName]&&Math.random()<SDK.Mgr.Inst.onlineParam[this.keyName]&&this.nativeAd_Base&&this.nativeAd_Base.click()},r([p(cc.String)],t.prototype,"keyName",void 0),r([p(cc.Node)],t.prototype,"nativeAdNode",void 0),r([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"./NativeAd_Oppo":"NativeAd_Oppo","./NativeAd_Oppo_Android":"NativeAd_Oppo_Android","./NativeAd_Xiaomi":"NativeAd_Xiaomi"}],NativeAdHideTrigger:[function(e,t,n){"use strict";cc._RF.push(t,"f6c50EG6w1PDIKbNlPml9Hk","NativeAdHideTrigger");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAd_Oppo"),a=e("./NativeAd_Oppo_Android"),c=e("./NativeAd_Xiaomi"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.waitKeyName="nativeAdHideWait",t.scaleKeyName="nativeAdHideScale",t.cdKeyName="nativeAdHideCD",t.strongKeyName="nativeAdHideStrong",t.triggerNode=null,t.triggerEvent=null,t.cdTime=60,t.nativeAd_Base=null,t}return i(t,e),t.prototype.start=function(){var e=this;SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo?this.nativeAd_Base=this.getComponent(s.default):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo?this.nativeAd_Base=this.getComponent(a.default):SDK.Mgr.Inst.curChannel==SDK.Define.Channel.xm&&(this.nativeAd_Base=this.getComponent(c.default)),this.triggerNode.on(cc.Node.EventType.TOUCH_START.toString(),this.btnClickStart,this),this.triggerNode.on(cc.Node.EventType.TOUCH_END.toString(),this.btnClickEnd,this),this.triggerNode.on(cc.Node.EventType.TOUCH_CANCEL.toString(),this.btnClickCancel,this),SDK.Mgr.Inst.isAdOpen&&(SDK.Mgr.Inst.onlineParam[this.waitKeyName]?this.scheduleOnce(function(){SDK.Mgr.Inst.onlineParam[e.scaleKeyName]&&(e.triggerNode.scaleX=SDK.Mgr.Inst.onlineParam[e.scaleKeyName][0],e.triggerNode.scaleY=SDK.Mgr.Inst.onlineParam[e.scaleKeyName][1],console.log("nativeAdHideTriggerScale",JSON.stringify(SDK.Mgr.Inst.onlineParam[e.scaleKeyName])))},SDK.Mgr.Inst.onlineParam[this.waitKeyName]):SDK.Mgr.Inst.onlineParam[this.scaleKeyName]&&(this.triggerNode.scaleX=SDK.Mgr.Inst.onlineParam[this.scaleKeyName][0],this.triggerNode.scaleY=SDK.Mgr.Inst.onlineParam[this.scaleKeyName][1],console.log("nativeAdHideTriggerScale",JSON.stringify(SDK.Mgr.Inst.onlineParam[this.scaleKeyName]))),SDK.Mgr.Inst.onlineParam[this.cdKeyName]&&(this.cdTime=SDK.Mgr.Inst.onlineParam[this.cdKeyName],console.log("nativeAdHideTriggerCD",SDK.Mgr.Inst.onlineParam[this.cdKeyName]))),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo?this.triggerNode.active=!0:this.triggerNode.active=!1},t.prototype.onDestroy=function(){this.triggerNode.off(cc.Node.EventType.TOUCH_START.toString(),this.btnClickStart,this),this.triggerNode.off(cc.Node.EventType.TOUCH_END.toString(),this.btnClickEnd,this),this.triggerNode.off(cc.Node.EventType.TOUCH_CANCEL.toString(),this.btnClickCancel,this)},t.prototype.btnClickStart=function(){console.log("btnClickStart"),this.btnClick()},t.prototype.btnClickEnd=function(){console.log("btnClickEnd"),SDK.Mgr.Inst.isAdOpen&&1==SDK.Mgr.Inst.onlineParam[this.strongKeyName]&&(console.log("btnClickEndTrigger"),this.btnClick())},t.prototype.btnClickCancel=function(){console.log("btnClickCancel"),SDK.Mgr.Inst.isAdOpen&&1==SDK.Mgr.Inst.onlineParam[this.strongKeyName]&&(console.log("btnClickCancelTrigger"),this.btnClick())},t.prototype.btnClick=function(){var e=this;this.nativeAd_Base&&this.nativeAd_Base.click(),this.triggerEvent&&this.triggerEvent.emit([]),SDK.Mgr.Inst.isAdOpen&&SDK.Mgr.Inst.onlineParam&&(this.triggerNode.scale=1,SDK.Mgr.Inst.onlineParam[this.scaleKeyName]&&this.scheduleOnce(function(){e.triggerNode.scaleX=SDK.Mgr.Inst.onlineParam[e.scaleKeyName][0],e.triggerNode.scaleY=SDK.Mgr.Inst.onlineParam[e.scaleKeyName][1]},this.cdTime))},r([p(cc.Node)],t.prototype,"triggerNode",void 0),r([p(cc.Component.EventHandler)],t.prototype,"triggerEvent",void 0),r([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"./NativeAd_Oppo":"NativeAd_Oppo","./NativeAd_Oppo_Android":"NativeAd_Oppo_Android","./NativeAd_Xiaomi":"NativeAd_Xiaomi"}],NativeAdTrigger_Oppo:[function(e,t,n){"use strict";cc._RF.push(t,"4a504WjCK9NHpTRuZwsj/UP","NativeAdTrigger_Oppo");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAd_Oppo"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyName="nullKeyNativeProbability",t.nativeAd_Oppo=null,t}return i(t,e),t.prototype.start=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo&&SDK.Mgr.Inst.isAdOpen&&SDK.Mgr.Inst.customData&&console.log("####### keyName:"+this.keyName+"###### hasKey:"+SDK.Mgr.Inst.customData[this.keyName])},t.prototype.triggerBtnClick=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo&&SDK.Mgr.Inst.isAdOpen&&SDK.Mgr.Inst.customData&&SDK.Mgr.Inst.customData[this.keyName]&&Math.random()<SDK.Mgr.Inst.customData[this.keyName]&&this.nativeAd_Oppo.click()},r([l(cc.String)],t.prototype,"keyName",void 0),r([l(s.default)],t.prototype,"nativeAd_Oppo",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./NativeAd_Oppo":"NativeAd_Oppo"}],NativeAd_Huawei_Single:[function(e,t,n){"use strict";cc._RF.push(t,"75dc0bpp0REZbybl4VJeVDA","NativeAd_Huawei_Single");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.extentBtnLables=[],t.nativeAd=null,t.curNativeData=null,t}return i(t,e),t.prototype.start=function(){var e=this;if(cc.sys.platform==cc.sys.HUAWEI_GAME){setTimeout(function(){e.init()},1e3*this.delay);var t=this;qg.onShow(function(){t.curNativeData&&t.nativeAd&&(console.log("\u4e0a\u62a5\u4e8b\u4ef6",t.curNativeData.adId),t.nativeAd.reportAdShow({adId:t.curNativeData.adId}))})}},t.prototype.init=function(){this.nativeAd=qg.createNativeAd({adUnitId:Config.HUAWEI.nativeInsertId}),this.nativeAd.setTagForChildProtection(-1),this.nativeAd.setTagForUnderAgeOfPromise(-1),this.nativeAd.setAdContentClassification("A"),this.nativeAd.setNonPersonalizedAd(0);var e=this;this.scheduleOnce(function(){e.nativeAd.load()},.1);var t="";this.nativeAd.onLoad(function(n){try{n.adList.forEach(function(n){t=JSON.stringify(n),e.curNativeData=JSON.parse(t)})}catch(o){console.error("error",JSON.stringify(o))}}),this.nativeAd.onError(function(e){e&&console.log("NativeUIAd: ",Config.HUAWEI.nativeInsertId,", OnError",JSON.stringify(e))})},t.prototype.canShow=function(){return null!=this.curNativeData},t.prototype.show=function(t){var n=this;if(void 0===t&&(t=!0),cc.sys.platform==cc.sys.HUAWEI_GAME)if(this.canShow()){for(var o=0;o<this.extentBtnLables.length;o++)this.curNativeData.clickBtnTxt&&(this.extentBtnLables[o].string=this.curNativeData.clickBtnTxt);var i=this;console.log("\u4e0a\u62a5\u4e8b\u4ef6",i.curNativeData.adId),this.nativeAd.reportAdShow({adId:i.curNativeData.adId}),e.prototype.show.call(this),e.prototype.initData.call(this,this.curNativeData.title,this.curNativeData.source,this.curNativeData.icon,this.curNativeData.imgUrlList.length>0?this.curNativeData.imgUrlList[0]:null,function(t){t?(e.prototype.show.call(n),i.nativeAd.reportAdShow({adId:i.curNativeData.adId})):n.close()})}else if(t){var r=this,s=function(){r.canShow()&&(r.unschedule(s),r.show())};this.schedule(s,.1,30)}},t.prototype.click=function(){cc.sys.platform==cc.sys.HUAWEI_GAME&&(this.nativeAd&&this.curNativeData&&this.nativeAd.reportAdClick({adId:this.curNativeData.adId}),this.close())},t.prototype.close=function(){cc.sys.platform==cc.sys.HUAWEI_GAME&&this.node&&this.node.isValid&&this.node.destroy()},r([l([cc.Label])],t.prototype,"extentBtnLables",void 0),r([c],t)}(s.default);n.default=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Huawei:[function(e,t,n){"use strict";cc._RF.push(t,"138e1j+7qhLJZY94sy4vWMY","NativeAd_Huawei");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.needProtect=!1,t.nativeAd=null,t.curNativeData=null,t.extentBtnLables=[],t}return i(t,e),t.prototype.onEnable=function(){var e=this;if(SDK.Mgr.Inst.curChannel==SDK.Define.Channel.hw){this.autoShow&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.init()},this.delay),this.autoFresh&&this.schedule(function(){e.init()},SDK.Mgr.Inst.nativeFreshTime+1,cc.macro.REPEAT_FOREVER,this.delay));var t=this;qg.onShow(function(){t.curNativeData&&t.nativeAd&&t.cmp.adNode&&t.cmp.adNode.active&&(console.log("\u4e0a\u62a5\u4e8b\u4ef6",t.curNativeData.adId),t.nativeAd.reportAdShow({adId:t.curNativeData.adId}))})}},t.prototype.init=function(){this.nativeAd&&(this.nativeAd.offLoad(),this.nativeAd.offError(),this.nativeAd=null),this.curNativeData=null,this.nativeAd=qg.createNativeAd({adUnitId:Config.HUAWEI.nativeId}),this.nativeAd.setTagForChildProtection(-1),this.nativeAd.setTagForUnderAgeOfPromise(-1),this.nativeAd.setAdContentClassification("A"),this.nativeAd.setNonPersonalizedAd(0);var e=this;this.scheduleOnce(function(){e.nativeAd.load()},.1);var t="";this.nativeAd.onLoad(function(n){try{n.adList.forEach(function(n){t=JSON.stringify(n),e.curNativeData=JSON.parse(t)})}catch(o){console.error("error",JSON.stringify(o))}}),this.nativeAd.onError(function(e){e&&console.log("NativeUIAd: ",Config.HUAWEI.nativeInsertId,", OnError",JSON.stringify(e))}),this.scheduleOnce(function(){e.show()},.2)},t.prototype.canShow=function(){return this.needProtect?null!=this.curNativeData&&SDK.Mgr.Inst.isAdOpen:null!=this.curNativeData},t.prototype.show=function(){if(this.canShow()){this.cmp.adNode&&(this.cmp.adNode.active=!0),this.cmp.closeBtn&&(this.cmp.closeBtn.active=!0);for(var e=0;e<this.cmp.extentBtns.length;e++)this.cmp.extentBtns[e].active=!0;for(this.cmp.title&&(this.cmp.title.string=this.curNativeData.title),this.cmp.desc&&(this.cmp.desc.string=this.curNativeData.source),e=0;e<this.extentBtnLables.length;e++)this.curNativeData.clickBtnTxt&&(this.extentBtnLables[e].string=this.curNativeData.clickBtnTxt);this.cmp.mainSprite&&(this.curNativeData.imgUrlList&&this.curNativeData.imgUrlList.length>0?SDK.Util.Helper.loadImage(this.cmp.mainSprite,this.curNativeData.imgUrlList[0]):this.curNativeData.icon&&SDK.Util.Helper.loadImage(this.cmp.mainSprite,this.curNativeData.icon)),console.log("\u4e0a\u62a5\u4e8b\u4ef6",this.curNativeData.adId),this.nativeAd.reportAdShow({adId:this.curNativeData.adId})}else{var t=this,n=function(){t.canShow()&&(t.unschedule(n),t.show())};this.schedule(n,.2,25)}},t.prototype.click=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.hw&&(this.nativeAd&&this.curNativeData&&this.nativeAd.reportAdClick({adId:this.curNativeData.adId}),this.close())},t.prototype.close=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.hw&&(this.cmp.adNode&&(this.cmp.adNode.active=!1),this.cmp.closeBtn&&(this.cmp.closeBtn.active=!1),this.cmp.extentBtns.forEach(function(e){e.active=!1}))},r([l(cc.Boolean)],t.prototype,"needProtect",void 0),r([l(cc.Label)],t.prototype,"extentBtnLables",void 0),r([c],t)}(s.default);n.default=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Node:[function(e,t,n){"use strict";cc._RF.push(t,"5769140f3dAbaUxqdHyVz4W","NativeAd_Node");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.NativeAd_Node=void 0;var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adNode=null,t.title=null,t.desc=null,t.iconSprite=null,t.mainSprite=null,t.closeBtn=null,t.adBtn=null,t.extentBtns=[],t.nativeBaseArr=[],t}return i(t,e),t.prototype.start=function(){this.nativeBaseArr=this.node.getComponents(s.default)},t.prototype.click=function(){this.nativeBaseArr.forEach(function(e){e.click()})},t.prototype.close=function(){this.nativeBaseArr.forEach(function(e){e.close()})},r([l(cc.Node)],t.prototype,"adNode",void 0),r([l(cc.Label)],t.prototype,"title",void 0),r([l(cc.Label)],t.prototype,"desc",void 0),r([l(cc.Sprite)],t.prototype,"iconSprite",void 0),r([l(cc.Sprite)],t.prototype,"mainSprite",void 0),r([l(cc.Node)],t.prototype,"closeBtn",void 0),r([l(cc.Node)],t.prototype,"adBtn",void 0),r([l([cc.Node])],t.prototype,"extentBtns",void 0),r([c],t)}(cc.Component);n.NativeAd_Node=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Oppo_Android_Single:[function(e,t,n){"use strict";cc._RF.push(t,"488e5pBdTJCzKE49mqhA8bg","NativeAd_Oppo_Android_Single");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.needProtect=!1,t.nativeItem=null,t.showState=0,t.keyName="closeBtnNativeProbability",t}return i(t,e),t.prototype.onEnable=function(){var e=this;SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo&&(this.needProtect&&!SDK.Mgr.Inst.isAdOpen&&this.hide(),SDK.Base.Event.on("onFreshNativeAdData",this.onFresh,this),SDK.Base.Event.on("onGetNativeAd",this.onGetAD,this),this.autoShow&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.show()},this.delay),this.autoFresh&&this.schedule(function(){e.show()},SDK.Mgr.Inst.nativeFreshTime+1,cc.macro.REPEAT_FOREVER,this.delay)))},t.prototype.onDisable=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo&&(SDK.Base.Event.off("onFreshNativeAdData",this.onFresh,this),SDK.Base.Event.off("onGetNativeAd",this.onGetAD,this))},t.prototype.onFresh=function(e){this.nativeItem&&e==this.nativeItem.adId&&this.show()},t.prototype.onGetAD=function(){1==this.showState&&this.show()},t.prototype.canShow=function(){return SDK.Mgr.Inst.getAds().hasNative()},t.prototype.show=function(){if(this.showState=1,this.canShow()){this.showState=2;var t=SDK.Mgr.Inst.getAds().getNative();this.nativeItem=t,this.nativeItem.show(),e.prototype.show.call(this),e.prototype.initData.call(this,this.nativeItem.title,this.nativeItem.desc,this.nativeItem.iconUrl,this.nativeItem.imgUrl)}else{var n=this,o=function(){n.canShow()&&(n.unschedule(o),n.show())};this.schedule(o,.2,25)}},t.prototype.click=function(){this.nativeItem&&(this.hide(),SDK.Mgr.Inst.getAds().clickNative(),this.nativeItem.click())},t.prototype.hide=function(){this.node&&this.node.isValid&&this.node.destroy()},t.prototype.close=function(){SDK.Mgr.Inst.isAdOpen&&SDK.Mgr.Inst.onlineParam[this.keyName]&&Math.random()<SDK.Mgr.Inst.onlineParam[this.keyName]&&this.click(),SDK.Mgr.Inst.getAds().closeNative(),this.hide()},r([l(cc.Boolean)],t.prototype,"needProtect",void 0),r([c],t)}(s.default);n.default=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Oppo_Android:[function(e,t,n){"use strict";cc._RF.push(t,"e3a7fj/ug1P+6n3MQYamCTe","NativeAd_Oppo_Android");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nativeItem=null,t.showState=0,t}return i(t,e),t.prototype.onEnable=function(){var e=this;SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo&&(SDK.Base.Event.on("onFreshNativeAdData",this.onFresh,this),SDK.Base.Event.on("onGetNativeAd",this.onGetAD,this),this.autoShow&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.show()},this.delay),this.autoFresh&&this.schedule(function(){e.show()},SDK.Mgr.Inst.nativeFreshTime+1,cc.macro.REPEAT_FOREVER,this.delay)))},t.prototype.onDisable=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.android_oppo&&(SDK.Base.Event.off("onFreshNativeAdData",this.onFresh,this),SDK.Base.Event.off("onGetNativeAd",this.onGetAD,this))},t.prototype.onFresh=function(e){this.nativeItem&&e==this.nativeItem.adId&&this.show()},t.prototype.onGetAD=function(){1==this.showState&&this.show()},t.prototype.canShow=function(){return SDK.Mgr.Inst.getAds().hasNative()},t.prototype.show=function(){if(this.showState=1,this.canShow()){this.showState=2;var t=SDK.Mgr.Inst.getAds().getNative();this.nativeItem=t,this.nativeItem.show(),e.prototype.show.call(this),e.prototype.initData.call(this,this.nativeItem.title,this.nativeItem.desc,this.nativeItem.iconUrl,this.nativeItem.imgUrl)}else{var n=this,o=function(){n.canShow()&&(n.unschedule(o),n.show())};this.schedule(o,.2,25)}},t.prototype.click=function(){this.nativeItem&&(e.prototype.close.call(this),SDK.Mgr.Inst.getAds().clickNative(),this.nativeItem.click())},t.prototype.close=function(){SDK.Mgr.Inst.getAds().closeNative(),e.prototype.close.call(this)},r([c],t)}(s.default));n.default=l,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Oppo_Single:[function(e,t,n){"use strict";cc._RF.push(t,"426c1XbOLxK3pjSbXk37ngp","NativeAd_Oppo_Single");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.posID="",t.nativeAd=null,t.nativeDataArr=[],t.curNativeData=null,t}return i(t,e),t.prototype.start=function(){var e=this;cc.sys.platform==cc.sys.OPPO_GAME&&setTimeout(function(){e.init()},1e3*this.delay)},t.prototype.init=function(){this.nativeAd=qg.createNativeAd({posId:this.posID});var e=this;setTimeout(function(){e.nativeAd.load()},200),setInterval(function(){e.nativeDataArr.length<5?e.nativeAd.load():console.log("NativeUIAd Has ",e.nativeDataArr.length)},5e3),this.nativeAd.onLoad(function(t){console.log("NativeUIAd: ",e.posID,JSON.stringify(t.adList)),t.adList.forEach(function(t){e.nativeDataArr.push(t)})}),this.nativeAd.onError(function(t){t&&console.log("NativeUIAd: ",e.posID,", OnError",JSON.stringify(t))})},t.prototype.canShow=function(){return this.nativeDataArr.length>0},t.prototype.show=function(t){if(void 0===t&&(t=!0),cc.sys.platform==cc.sys.OPPO_GAME)if(this.canShow())this.curNativeData=this.nativeDataArr.pop(),this.nativeAd.reportAdShow({adId:this.curNativeData.adId}),e.prototype.show.call(this),e.prototype.initData.call(this,this.curNativeData.title,this.curNativeData.desc,this.curNativeData.icon,this.curNativeData.imgUrlList.length>0?this.curNativeData.imgUrlList[0]:null);else if(t){var n=this,o=function(){n.canShow()&&(n.unschedule(o),n.show())};this.schedule(o,.1,30)}},t.prototype.click=function(){this.nativeAd&&this.curNativeData&&this.nativeAd.reportAdClick({adId:this.curNativeData.adId})},t.prototype.close=function(){e.prototype.close.call(this)},r([l(cc.String)],t.prototype,"posID",void 0),r([c],t)}(s.default);n.default=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Oppo:[function(e,t,n){"use strict";cc._RF.push(t,"72db6cFJaVKGLBuOpVyr/9N","NativeAd_Oppo");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.needProtect=!1,t.autoClick=!1,t.hideAd=!1,t.nativeItem=null,t.showState=0,t}return i(t,e),t.prototype.onEnable=function(){var e=this;cc.sys.platform==cc.sys.OPPO_GAME&&(SDK.Base.Event.on("onFreshNativeAdData",this.onFresh,this),SDK.Base.Event.on("onGetNativeAd",this.onGetAD,this),this.autoShow&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.show()},this.delay),this.autoFresh&&this.schedule(function(){e.show()},SDK.Mgr.Inst.nativeFreshTime+1,cc.macro.REPEAT_FOREVER,this.delay)))},t.prototype.onDisable=function(){cc.sys.platform==cc.sys.OPPO_GAME&&(SDK.Base.Event.off("onFreshNativeAdData",this.onFresh,this),SDK.Base.Event.off("onGetNativeAd",this.onGetAD,this))},t.prototype.onFresh=function(e){this.nativeItem&&e==this.nativeItem.adId&&this.show()},t.prototype.onGetAD=function(){1==this.showState&&this.show()},t.prototype.canShow=function(){return this.needProtect?SDK.Mgr.Inst.getAds().hasNative()&&SDK.Mgr.Inst.isAdOpen:SDK.Mgr.Inst.getAds().hasNative()},t.prototype.show=function(){var t=this;if(this.showState=1,this.canShow()){if(this.autoClick){if(1!=SDK.Mgr.Inst.onlineParam.nativeAutoJump)return void this.node.destroy();this.scheduleOnce(function(){t.click(),t.node.destroy()},.5)}this.showState=2;var n=SDK.Mgr.Inst.getAds().getNative();this.nativeItem=n,this.nativeItem.show(),e.prototype.show.call(this),e.prototype.initData.call(this,this.nativeItem.title,this.nativeItem.desc,this.nativeItem.iconUrl,this.nativeItem.imgUrl),this.hideAd&&SDK.Mgr.Inst.isAdOpen&&(this.cmp.title&&(this.cmp.title.node.active=!1),this.cmp.desc&&(this.cmp.desc.node.active=!1),this.cmp.iconSprite&&(this.cmp.iconSprite.node.active=!1),this.cmp.mainSprite&&(this.cmp.mainSprite.node.active=!1),this.cmp.adBtn&&(this.cmp.adBtn.active=!1)),this.scheduleOnce(function(){t.cmp.mainSprite&&(null!=t.cmp.mainSprite.spriteFrame||SDK.Mgr.Inst.isAdOpen||e.prototype.close.call(t))},2)}else{var o=this,i=function(){o.canShow()&&(o.unschedule(i),o.show())};this.schedule(i,.2,25)}},t.prototype.click=function(){this.nativeItem&&(0==SDK.Mgr.Inst.onlineParam.nativeNotFresh&&this.close(),SDK.Mgr.Inst.getAds().clickNative(),this.nativeItem.click())},t.prototype.close=function(){e.prototype.close.call(this)},r([l(cc.Boolean)],t.prototype,"needProtect",void 0),r([l(cc.Boolean)],t.prototype,"autoClick",void 0),r([l(cc.Boolean)],t.prototype,"hideAd",void 0),r([c],t)}(s.default);n.default=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_View:[function(e,t,n){"use strict";cc._RF.push(t,"d8ca6Q5S/1FNanXKp38vn3m","NativeAd_View");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hideAd=!1,t}return i(t,e),t.prototype.start=function(){},t.prototype.click=function(){},t.prototype.close=function(){},r([l(cc.Boolean)],t.prototype,"hideAd",void 0),r([c],t)}(s.default);n.default=u,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Vivo:[function(e,t,n){"use strict";cc._RF.push(t,"c6020wOq69Kup0IBaoCm+fi","NativeAd_Vivo");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nativeItem=null,t}return i(t,e),t.prototype.onEnable=function(){var e=this;cc.sys.platform==cc.sys.VIVO_GAME&&this.autoShow&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.show()},this.delay),this.autoFresh&&this.schedule(function(){e.show()},SDK.Mgr.Inst.nativeFreshTime+1,cc.macro.REPEAT_FOREVER,this.delay))},t.prototype.canShow=function(){return SDK.Mgr.Inst.getAds().hasNative()&&SDK.Mgr.Inst.isAdOpen},t.prototype.show=function(){if(this.canShow()){var t=SDK.Mgr.Inst.getAds().getNative();this.nativeItem=t,this.nativeItem.show(),e.prototype.show.call(this),e.prototype.initData.call(this,this.nativeItem.title,this.nativeItem.desc,this.nativeItem.iconUrl,this.nativeItem.imgUrl)}else{var n=this,o=function(){n.canShow()&&(n.unschedule(o),n.show())};this.schedule(o,.2,25)}},t.prototype.click=function(){var e=this;this.nativeItem&&(this.nativeItem.click(),this.scheduleOnce(function(){e.show()},.1))},t.prototype.close=function(){e.prototype.close.call(this)},r([c],t)}(s.default));n.default=l,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeAd_Xiaomi:[function(e,t,n){"use strict";cc._RF.push(t,"abe61DhX7FP24uESXnlgWbd","NativeAd_Xiaomi");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NativeAdBase"),a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nativeItem=null,t}return i(t,e),t.prototype.onEnable=function(){var e=this;cc.sys.platform==cc.sys.XIAOMI_GAME&&this.autoShow&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.show()},this.delay),this.autoFresh&&this.schedule(function(){e.show()},SDK.Mgr.Inst.nativeFreshTime+1,cc.macro.REPEAT_FOREVER,this.delay))},t.prototype.canShow=function(){return SDK.Mgr.Inst.getAds().hasNative()&&SDK.Mgr.Inst.isAdOpen},t.prototype.show=function(){if(this.canShow()){var t=SDK.Mgr.Inst.getAds().getNative();this.nativeItem=t,this.nativeItem.show(),e.prototype.show.call(this),e.prototype.initData.call(this,this.nativeItem.title,this.nativeItem.desc,this.nativeItem.iconUrl,this.nativeItem.imgUrl)}else{var n=this,o=function(){n.canShow()&&(n.unschedule(o),n.show())};this.schedule(o,.2,25)}},t.prototype.click=function(){var e=this;this.nativeItem&&(this.nativeItem.click(),this.scheduleOnce(function(){e.show()},.1))},t.prototype.close=function(){e.prototype.close.call(this)},r([c],t)}(s.default));n.default=l,cc._RF.pop()},{"./NativeAdBase":"NativeAdBase"}],NativeBanner:[function(e,t,n){"use strict";cc._RF.push(t,"013cdjWZjxM65VtHF+Fn9xU","NativeBanner");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.count=0,t}return i(t,e),t.prototype.start=function(){SDK.Base.Event.on("PanelOpen",this.panelOpen,this),SDK.Base.Event.on("PanelClose",this.panelClose,this)},t.prototype.panelOpen=function(){this.count++,this.node.active=!1},t.prototype.panelClose=function(){this.count--,this.count<=0&&(this.node.active=!0)},r([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],NativeInsertAd:[function(e,t,n){"use strict";cc._RF.push(t,"3b3736cPWpL0KqOZo5dSUia","NativeInsertAd");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adNode=null,t.title=null,t.desc=null,t.iconSprite=null,t.mainSprite=null,t.insertItem=null,t.hasBanner=!1,t}return i(t,e),t.prototype.showInsert=function(e,t){void 0===t&&(t=!1),this.insertItem=e,this.insertItem.show(),this.hasBanner=t,this.adNode&&(this.adNode.active=!0),this.title&&(this.title.string=this.insertItem.title),this.desc&&(this.desc.string=this.insertItem.desc),this.iconSprite&&(this.insertItem.iconUrl?SDK.Util.Helper.loadImage(this.iconSprite,this.insertItem.iconUrl):this.insertItem.imgUrl&&SDK.Util.Helper.loadImage(this.iconSprite,this.insertItem.imgUrl)),this.mainSprite&&(this.insertItem.imgUrl?SDK.Util.Helper.loadImage(this.mainSprite,this.insertItem.imgUrl):this.insertItem.iconUrl&&SDK.Util.Helper.loadImage(this.mainSprite,this.insertItem.iconUrl))},t.prototype.click=function(){this.insertItem&&this.insertItem.click()},t.prototype.close=function(){this.adNode&&(this.adNode.active=!1),this.node.destroy()},r([c(cc.Node)],t.prototype,"adNode",void 0),r([c(cc.Label)],t.prototype,"title",void 0),r([c(cc.Label)],t.prototype,"desc",void 0),r([c(cc.Sprite)],t.prototype,"iconSprite",void 0),r([c(cc.Sprite)],t.prototype,"mainSprite",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],"NewScript - 001":[function(e,t){"use strict";cc._RF.push(t,"dc8e97/HMpO2okiw/YJe+38","NewScript - 001"),cc.Class({extends:cc.Component,properties:{speed:1,progressBarView:{type:cc.ProgressBar,default:null}},onLoad:function(){this._ping=!0,this.progressBarView.progress=0},update:function(e){this._updateProgressBar(this.progressBarView,e)},_updateProgressBar:function(e,t){var n=e.progress;n<1&&this._ping?n+=t*this.speed:(n-=t*this.speed,this._ping=n<=0),e.progress=n}}),cc._RF.pop()},{}],"NewScript - 002":[function(e,t){"use strict";cc._RF.push(t,"eee69I9jy1DZJQi05gpyh7h","NewScript - 002"),cc.Class({extends:cc.Component,properties:{num:1},start:function(){this.num=3},update:function(){cc.log(this.num),this.num++}}),cc._RF.pop()},{}],"NewScript - 003":[function(e,t){"use strict";cc._RF.push(t,"212f2UCsRhIvaqVf2HjJaMM","NewScript - 003"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.log(this.node.name)}}),cc._RF.pop()},{}],"NewScript - 004":[function(e,t){"use strict";cc._RF.push(t,"7bb23y4eDJOxZhVLS6Vh7WH","NewScript - 004"),cc.Class({extends:cc.Component,properties:{pfa:cc.Prefab},start:function(){var e;(e=cc.instantiate(this.pfa)).parent=this.node,e.destroy(),(e=cc.instantiate(this.pfa)).parent=this.node,e.destroy(),(e=cc.instantiate(this.pfa)).parent=this.node,e.destroy(),(e=cc.instantiate(this.pfa)).parent=this.node,e.destroy(),(e=cc.instantiate(this.pfa)).parent=this.node}}),cc._RF.pop()},{}],NewScript:[function(e,t){"use strict";cc._RF.push(t,"101e6+Hkq9BL5NEAvOwrBGN","NewScript");var n=e("LevelManager");cc.Class({extends:cc.Component,properties:{fftypa:{type:cc.Sprite,default:null},typa:{type:cc.Enum(n.GameSceneBlockType),default:n.GameSceneBlockType.Lobby}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){console.log("gsfgfs")},this)},start:function(){console.log(LevelManager.Instance.g_CreatSceneBlockLength)}}),cc._RF.pop()},{LevelManager:"LevelManager"}],NodeZIndexController:[function(e,t){"use strict";cc._RF.push(t,"1302fkISTFKLJIS08BOFBRP","NodeZIndexController"),cc.Class({extends:cc.Component,properties:{noa:cc.Node},start:function(){cc.log(this.noa.zIndex),this.noa.zIndex=1e4,cc.log(this.noa.zIndex)}}),cc._RF.pop()},{}],OpenBoxMgr:[function(e,t,n){"use strict";cc._RF.push(t,"b54ddPkNrFFYZUH2Noul/Cx","OpenBoxMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./BoxItem"),a=e("../DataMgr"),c=e("../../SDK/Script/VideoHint"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boxItems=[],t.adBtnNode=null,t.closeBtnNode=null,t.rewardArr=[100,100,150,150,200,200,300,300,500],t.restTime=3,t.itemParent=null,t.panel=null,t.adBoxSprite=null,t.noAdBoxSprite=null,t.callBack=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this,this.boxItems=this.itemParent.getComponentsInChildren(s.default)},t.prototype.openBox=function(e){var t=this;void 0===e&&(e=!0),n.openCount++,e&&this.restTime--,0==this.checkRestBox()&&this.closePanel(),this.scheduleOnce(function(){if(t.restTime<=0){if(t.adBtnNode.active=!0,t.closeBtnNode.active=!0,0==t.checkRestBox())t.closePanel();else if(t.checkRestBox()<=3)for(var e=0;e<t.boxItems.length;e++)t.boxItems[e].setReward(t.rewardArr[e])}else 0==t.checkRestBox()&&t.closePanel()},.5)},t.prototype.delayShowInsert=function(){this.scheduleOnce(function(){SDK.Mgr.Inst.showInsert()},.5)},t.prototype.checkRestBox=function(){var e=0;return this.boxItems.forEach(function(t){t.hasOpen||e++}),e},t.prototype.openPanel=function(e){this.panel.active=!0,this.callBack=e,this.resetPanel(),this.initData()},t.prototype.resetPanel=function(){this.restTime=3,this.adBtnNode.active=!1,this.closeBtnNode.active=!1;for(var e=0;e<this.boxItems.length;e++)this.boxItems[e].reset()},t.prototype.initData=function(){this.rewardArr.sort(function(){return.5-Math.random()});var e=[0,1,2,3,4,5,6,7,8];e.sort(function(){return.5-Math.random()});for(var t=0;t<this.boxItems.length;t++)this.boxItems[t].setReward(this.rewardArr[t]);if(n.openCount>1)for(t=0;t<3;t++)SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&this.boxItems[e[t]].AdBox(),SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo&&SDK.Mgr.Inst.isAdOpen&&this.boxItems[e[t]].AdBox()},t.prototype.adBtnClick=function(){var e="OpenBox_AddTimes_";SDK.Mgr.Inst.event(e+"ADClick");var t=this,n=function(o){if(o==SDK.Define.AdsCode.finish){if(SDK.Mgr.Inst.event(e+"ADSuccess"),t.restTime=3,t.adBtnNode.active=!1,t.closeBtnNode.active=!1,a.default.Instance.videoAdTimes++,t.checkRestBox()<=3)for(var i=0;i<t.boxItems.length;i++)t.boxItems[i].hasOpen||t.boxItems[i].AdBox(!1)}else o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"Cancel"),c.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(e+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.closePanel=function(){this.panel.active=!1,this.callBack&&(this.callBack(),this.callBack=null)},t.Instance=null,t.openCount=0,r([p(cc.Node)],t.prototype,"adBtnNode",void 0),r([p(cc.Node)],t.prototype,"closeBtnNode",void 0),r([p(cc.Node)],t.prototype,"itemParent",void 0),r([p(cc.Node)],t.prototype,"panel",void 0),r([p(cc.SpriteFrame)],t.prototype,"adBoxSprite",void 0),r([p(cc.SpriteFrame)],t.prototype,"noAdBoxSprite",void 0),n=r([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../SDK/Script/VideoHint":"VideoHint","../DataMgr":"DataMgr","./BoxItem":"BoxItem"}],OppoSOP:[function(e,t){"use strict";cc._RF.push(t,"63060C6N0FAlKSgQWC7tCq6","OppoSOP");var n,o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function a(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};(function(e){e.version="1.0.0",e.svrUrl="https://qgame.996joy.com/opposdk/api/game/key-act";var t=function(){function t(){this.deviceId=null,this.oaid=null}return Object.defineProperty(t,"Inst",{get:function(){return null==t._INST&&(t._INST=new t),t._INST},enumerable:!1,configurable:!0}),t.prototype.laucher=function(){if(cc.sys.platform==cc.sys.OPPO_GAME){var e=this;qg.getDeviceId?qg.getDeviceId({success:function(t){console.log("getDeviceId handling success : "+JSON.stringify(t)),t.deviceId&&(e.deviceId=t.deviceId),t.oaid&&(e.oaid=t.oaid)},fail:function(e,t){console.log("getDeviceId handling fail, code = "+t)}}):console.log("getDeviceId \u63a5\u53e3\u4e0d\u652f\u6301")}SDK.Base.Event.on(SDK.Define.OppoSOPAct.EventName,this.onAdsEvent,this)},t.prototype.onAdsEvent=function(e){console.log("onAdsEvent",e),this.deviceId?this.sendEvent(e):console.log("deviceId \u4e0d\u5b58\u5728")},t.prototype.sendEvent=function(t){return o(this,void 0,void 0,function(){var n,o;return i(this,function(){return n=JSON.stringify({imei:this.deviceId,adid:this.oaid,type:t}),(o=new XMLHttpRequest).onreadystatechange=function(){4==o.readyState&&(200==o.status?console.log(o.responseText):console.log("XMLHttpRequest error",o.status+" - "+o.responseText))},o.open("post",e.svrUrl,!0),o.setRequestHeader("Content-Type","application/json"),o.send(n),[2]})})},t}();e.Mgr=t,e.Launcher||(e.Launcher={}),setTimeout(function(){cc.sys.platform===cc.sys.OPPO_GAME&&Config.OPPO.openSop&&(console.log("OppoSOP version "+e.version),t.Inst.laucher())},200)})(n||(n={})),window.OppoSOP=n,cc._RF.pop()},{}],PadFit:[function(e,t,n){"use strict";cc._RF.push(t,"f98f8oUfURMKqEPfnUlb8cs","PadFit");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cavas=null,t.isLandscape=!0,t.isFitWidth=!0,t}return i(t,e),t.prototype.onLoad=function(){console.log("SDK.Util.Helper.getScreenAspectRatio",SDK.Util.Helper.getScreenAspectRatio),this.isLandscape?SDK.Util.Helper.getScreenAspectRatio>.5625&&(this.isFitWidth?(this.cavas.fitWidth=!0,this.cavas.fitHeight=!1):(this.cavas.fitWidth=!1,this.cavas.fitHeight=!0)):SDK.Util.Helper.getScreenAspectRatio<1.7778&&(this.isFitWidth?(this.cavas.fitWidth=!0,this.cavas.fitHeight=!1):(this.cavas.fitWidth=!1,this.cavas.fitHeight=!0))},r([c(cc.Canvas)],t.prototype,"cavas",void 0),r([c(cc.Boolean)],t.prototype,"isLandscape",void 0),r([c(cc.Boolean)],t.prototype,"isFitWidth",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Privacy2:[function(e,t,n){"use strict";cc._RF.push(t,"a8c5acOTFVNi62JZUZ/S+rw","Privacy2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel1=null,t.panel2=null,t.panel3=null,t.panel1_h=null,t.panel2_h=null,t.panel3_h=null,t.isHengPing=!1,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.start=function(){SDK.Base.Event.on("Privacy_OpenPanel2",this.openPanel,this),SDK.Base.Event.on("Privacy_OpenPrivacy",this.openPrivacy,this),SDK.Base.Event.on("Privacy_OpenAgreement",this.openAgreement,this),SDK.Util.Helper.getScreenAspectRatio<1&&(this.isHengPing=!0)},t.prototype.onDestroy=function(){SDK.Base.Event.off("Privacy_OpenPanel2",this.openPanel,this),SDK.Base.Event.off("Privacy_OpenPrivacy",this.openPrivacy,this),SDK.Base.Event.off("Privacy_OpenAgreement",this.openAgreement,this)},t.prototype.openPanel=function(){console.log("openPanel"),SDK.Base.Event.emit("PrivacyPause"),this.isHengPing?this.panel1_h.active=!0:this.panel1.active=!0},t.prototype.closePanel=function(){console.log("closePanel"),SDK.Base.Event.emit("PrivacyResume"),this.isHengPing?this.panel1_h.active=!1:this.panel1.active=!1},t.prototype.confirmBtnClick=function(){console.log("confirmBtnClick"),cc.sys.localStorage.setItem("PrivacyConfirm","true"),this.closePanel()},t.prototype.cancelBtnClick=function(){console.log("cancelBtnClick"),SDK.Mgr.Inst.quit()},t.prototype.openPrivacy=function(){console.log("openPrivacy"),this.isHengPing?(SDK.Mgr.Inst.closeBanner(),this.panel2_h.active=!0):this.panel2.active=!0},t.prototype.closePrivacy=function(){console.log("closePrivacy"),this.isHengPing?this.panel2_h.active=!1:this.panel2.active=!1},t.prototype.openAgreement=function(){console.log("openAgreement"),this.isHengPing?(SDK.Mgr.Inst.closeBanner(),this.panel3_h.active=!0):this.panel3.active=!0},t.prototype.closeAgreement=function(){console.log("closeAgreement"),this.isHengPing?this.panel3_h.active=!1:this.panel3.active=!1},t.Instance=null,r([c(cc.Node)],t.prototype,"panel1",void 0),r([c(cc.Node)],t.prototype,"panel2",void 0),r([c(cc.Node)],t.prototype,"panel3",void 0),r([c(cc.Node)],t.prototype,"panel1_h",void 0),r([c(cc.Node)],t.prototype,"panel2_h",void 0),r([c(cc.Node)],t.prototype,"panel3_h",void 0),n=r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Privacy:[function(e,t,n){"use strict";cc._RF.push(t,"42605TcNHVN2rWiEgCINeDr","Privacy");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel1=null,t.panel2=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.start=function(){SDK.Base.Event.on("Privacy_OpenPanel",this.openPanel,this),SDK.Base.Event.on("Privacy_OpenContext",this.openContext,this)},t.prototype.onDestroy=function(){SDK.Base.Event.off("Privacy_OpenPanel",this.openPanel,this),SDK.Base.Event.off("Privacy_OpenContext",this.openContext,this)},t.prototype.openPanel=function(){console.log("openPanel"),SDK.Base.Event.emit("PrivacyPause"),this.panel1.active=!0},t.prototype.closePanel=function(){console.log("closePanel"),SDK.Base.Event.emit("PrivacyResume"),this.panel1.active=!1},t.prototype.confirmBtnClick=function(){console.log("confirmBtnClick"),cc.sys.localStorage.setItem("PrivacyConfirm","true"),this.closePanel()},t.prototype.cancelBtnClick=function(){console.log("cancelBtnClick"),cc.game.end()},t.prototype.openContext=function(){console.log("openContext"),this.panel2.active=!0},t.prototype.closeContext=function(){console.log("closeContext"),this.panel2.active=!1},t.Instance=null,r([c(cc.Node)],t.prototype,"panel1",void 0),r([c(cc.Node)],t.prototype,"panel2",void 0),n=r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],PromoDrawer2:[function(e,t,n){"use strict";cc._RF.push(t,"4fc22zc+v1J5aNHb1RKsZzQ","PromoDrawer2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PromoNodeArrItem"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mDatas=null,t.itemList=[],t.prefab=null,t.layout=null,t.move=null,t.show=null,t.hide=null,t.maskNode=null,t.maxX=640,t.oppoClose=!1,t.offsetWidth=15,t.offsetHeight=10,t.moveSpeed=80,t.targetX=0,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){SDK.Mgr.Inst.hasPromoData&&(SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.oppo||SDK.Mgr.Inst.isAdOpen)?(this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData()):this.node.active=!1},t.prototype.setData=function(){var e=this.mDatas.content.length;if(e>0)for(var t=0,n=0;n<3;n++)for(var o=0;o<e;o++){var i=cc.instantiate(this.prefab);i.parent=this.layout,i.active=!0;var r=i.getComponent(s.default);null!=r&&this.itemList.push(r),r.setData(this.mDatas.content[o]);var a=(t%3-1)*(i.width+this.offsetWidth),c=(1-Math.floor(t/3))*(i.height+this.offsetHeight);i.setPosition(a,c),t++}},t.prototype.update=function(e){for(var t=this.mDatas.content.length,n=0;n<this.itemList.length;n++)if(this.itemList[n].pNode.setPosition(this.itemList[n].pNode.position.x,this.itemList[n].pNode.position.y+e*this.moveSpeed),this.itemList[n].pNode.position.y>2*(this.prefab.width+this.offsetWidth)){var o=this.itemList[n].pNode.position.y-t*(this.prefab.height+this.offsetHeight);this.itemList[n].pNode.setPosition(this.itemList[n].pNode.x,o)}if(this.move.position.x!=this.targetX){var i=this.targetX-this.move.position.x,r=3e3*e;i=i>0?Math.min(this.move.position.x+r,this.targetX):Math.max(this.move.position.x-r,this.targetX),this.move.position=new cc.Vec3(i,0),0==this.move.position.x&&(this.show.active=!0,this.hide.active=!1)}},t.prototype.Show=function(){this.targetX=this.maxX,this.show.active=!1,this.hide.active=!0,this.maskNode&&(this.maskNode.active=!0,this.maskNode.opacity=0,this.maskNode.runAction(cc.fadeTo(.3,180)))},t.prototype.Hide=function(){var e=this;this.targetX=0,this.maskNode&&this.maskNode.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.maskNode.active=!1})))},r([l(cc.Node)],t.prototype,"prefab",void 0),r([l(cc.Node)],t.prototype,"layout",void 0),r([l(cc.Node)],t.prototype,"move",void 0),r([l(cc.Node)],t.prototype,"show",void 0),r([l(cc.Node)],t.prototype,"hide",void 0),r([l(cc.Node)],t.prototype,"maskNode",void 0),r([l(cc.Boolean)],t.prototype,"oppoClose",void 0),r([l(cc.Float)],t.prototype,"offsetWidth",void 0),r([l(cc.Float)],t.prototype,"offsetHeight",void 0),r([l(cc.Float)],t.prototype,"moveSpeed",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./PromoNodeArrItem":"PromoNodeArrItem"}],PromoDrawer:[function(e,t,n){"use strict";cc._RF.push(t,"96d31lIojlP/YHg81gnuR3I","PromoDrawer");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PromoNodeArrItem"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mDatas=null,t.itemList=[],t.prefab=null,t.layout=null,t.move=null,t.show=null,t.hide=null,t.maskNode=null,t.maxX=640,t.oppoClose=!1,t.targetX=0,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){SDK.Mgr.Inst.hasPromoData?SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo&&this.oppoClose&&!SDK.Mgr.Inst.isAdOpen?this.node.active=!1:(this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData()):this.node.active=!1},t.prototype.setData=function(){if(this.mDatas.content.length>0)for(var e=0;e<Math.min(this.mDatas.content.length,9);e++){var t=cc.instantiate(this.prefab);t.parent=this.layout,t.active=!0;var n=t.getComponent(s.default);null!=n&&this.itemList.push(n),n.setData(this.mDatas.content[e])}},t.prototype.Show=function(){this.targetX=this.maxX,this.show.active=!1,this.hide.active=!0,this.maskNode&&(this.maskNode.active=!0,this.maskNode.opacity=0,this.maskNode.runAction(cc.fadeTo(.3,180)))},t.prototype.Hide=function(){var e=this;this.targetX=0,this.maskNode&&this.maskNode.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.maskNode.active=!1})))},t.prototype.update=function(e){if(this.move.position.x!=this.targetX){var t=this.targetX-this.move.position.x,n=3e3*e;t=t>0?Math.min(this.move.position.x+n,this.targetX):Math.max(this.move.position.x-n,this.targetX),this.move.position=new cc.Vec3(t,0),0==this.move.position.x&&(this.show.active=!0,this.hide.active=!1)}},r([l(cc.Node)],t.prototype,"prefab",void 0),r([l(cc.Node)],t.prototype,"layout",void 0),r([l(cc.Node)],t.prototype,"move",void 0),r([l(cc.Node)],t.prototype,"show",void 0),r([l(cc.Node)],t.prototype,"hide",void 0),r([l(cc.Node)],t.prototype,"maskNode",void 0),r([l(cc.Boolean)],t.prototype,"oppoClose",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./PromoNodeArrItem":"PromoNodeArrItem"}],PromoNodeArrItem:[function(e,t,n){"use strict";cc._RF.push(t,"5363b3u+UZFG7UlelEMVcyI","PromoNodeArrItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./Util/Gif/GIFSprite"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pNode=null,t.image=null,t.nameLabel=null,t.curData=null,t}return i(t,e),t.prototype.setData=function(e){this.curData=e,this.showData()},t.prototype.showData=function(){var e;SDK.Util.Helper.isGif(this.curData.imageUrl)?((e=this.image.getComponent(s.default))||(e=this.image.addComponent(s.default)),e.path=this.curData.imageUrl):((e=this.image.getComponent(s.default))&&e.clear(),SDK.Util.Helper.loadImage(this.image,this.curData.imageUrl)),this.nameLabel&&(this.nameLabel.string=this.curData.name),this.pNode.active=!0,this.pNode.stopAllActions(),SDK.Mgr.Inst.event("promoShow_"+this.curData.key)},t.prototype.click=function(){SDK.Mgr.Inst.event("promoClick_"+this.curData.key),SDK.Mgr.Inst.promo(this.curData,function(){})},r([l(cc.Node)],t.prototype,"pNode",void 0),r([l(cc.Sprite)],t.prototype,"image",void 0),r([l(cc.Label)],t.prototype,"nameLabel",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./Util/Gif/GIFSprite":"GIFSprite"}],PromoNodeArr:[function(e,t,n){"use strict";cc._RF.push(t,"ab17ah2k+BEgbzYuLOI2va3","PromoNodeArr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PromoNodeArrItem"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items=[],t.extentBtns=[],t.mDatas=null,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){if(SDK.Mgr.Inst.hasPromoData&&(SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.oppo||SDK.Mgr.Inst.isAdOpen)){this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData();for(var e=0;e<this.extentBtns.length;e++)this.extentBtns[e].active=!0}else this.node.active=!1},t.prototype.setData=function(){for(var e=0;e<this.items.length;e++)this.items[e].setData(this.mDatas.content[e])},r([l(s.default)],t.prototype,"items",void 0),r([l([cc.Node])],t.prototype,"extentBtns",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./PromoNodeArrItem":"PromoNodeArrItem"}],PromoNode:[function(e,t,n){"use strict";cc._RF.push(t,"f6e09THQkxH1KyoMWm8r0ay","PromoNode");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pNode=null,t.image=null,t.nameLabel=null,t.freshTime=5,t.mDatas=null,t.curData=null,t.pIndex=0,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){SDK.Mgr.Inst.hasPromoData&&(SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.oppo||SDK.Mgr.Inst.isAdOpen)?(this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData()):this.node.active=!1},t.prototype.setData=function(){0!=this.mDatas.content.length&&(this.pIndex=Math.floor(Math.random()*this.mDatas.content.length),this.pIndex>=this.mDatas.content.length&&(this.pIndex=0),this.curData=this.mDatas.content[this.pIndex],this.showData(),this.unschedule(this.changePromo),this.schedule(this.changePromo,this.freshTime))},t.prototype.showData=function(){SDK.Util.Helper.loadImage(this.image,this.curData.imageUrl),this.nameLabel.string=this.curData.name,this.pNode.active=!0,this.pNode.stopAllActions(),SDK.Mgr.Inst.event("promoShow_"+this.curData.key+(this.curData.imageId?"_"+this.curData.imageId:""))},t.prototype.changePromo=function(){0!=this.mDatas.content.length&&(this.pIndex++,this.pIndex>=this.mDatas.content.length&&(this.pIndex=0),this.curData=this.mDatas.content[this.pIndex],this.showData())},t.prototype.click=function(){var e=this;SDK.Mgr.Inst.event("promoClick_"+this.curData.key+(this.curData.imageId?"_"+this.curData.imageId:"")),SDK.Mgr.Inst.promo(this.curData,function(t){t&&(SDK.Mgr.Inst.event("promoJump_"+e.curData.key+(e.curData.imageId?"_"+e.curData.imageId:"")),e.unschedule(e.changePromo),e.schedule(e.changePromo,e.freshTime),e.changePromo())})},r([c(cc.Node)],t.prototype,"pNode",void 0),r([c(cc.Sprite)],t.prototype,"image",void 0),r([c(cc.Label)],t.prototype,"nameLabel",void 0),r([c({type:cc.Integer,displayName:"\u5237\u65b0\u65f6\u95f4"})],t.prototype,"freshTime",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],PromoSlider2:[function(e,t,n){"use strict";cc._RF.push(t,"423b5ea3gtBdq2fKZGN0UKE","PromoSlider2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PromoNodeArrItem"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mDatas=null,t.itemList=[],t.prefab=null,t.layout=null,t.scroll=!1,t.initPos=!1,t.showLeft=!1,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){SDK.Mgr.Inst.hasPromoData&&SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.oppo?(this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData()):this.node.active=!1},t.prototype.setData=function(){if(this.mDatas.content.length>0){for(var e=0;e<Math.min(this.mDatas.content.length,8);e++){var t=cc.instantiate(this.prefab);t.parent=this.layout,t.active=!0;var n=t.getComponent(s.default);null!=n&&this.itemList.push(n),n.setData(this.mDatas.content[e])}this.itemList.length>5&&(this.initPos=!0,this.scroll=!0)}},Object.defineProperty(t.prototype,"maxLeft",{get:function(){var e=(this.layout.height-this.layout.parent.height)/2;return this.scroll&&(e+=20),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRight",{get:function(){var e=(this.layout.parent.height-this.layout.height)/2;return this.scroll&&(e-=20),e},enumerable:!1,configurable:!0}),t.prototype.update=function(e){if(this.scroll){if(this.initPos){if(!(this.layout.height>0))return;this.layout.y=this.maxLeft,this.initPos=!1}this.layout.y<=this.maxRight?this.showLeft=!0:this.layout.y>=this.maxLeft&&(this.showLeft=!1),this.showLeft?this.layout.y+=50*e:this.layout.y-=50*e}else this.layout.y=this.maxLeft},r([l(cc.Node)],t.prototype,"prefab",void 0),r([l(cc.Node)],t.prototype,"layout",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./PromoNodeArrItem":"PromoNodeArrItem"}],PromoSlider:[function(e,t,n){"use strict";cc._RF.push(t,"0a615/Ao/dHIb+15Pajt3oI","PromoSlider");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PromoNodeArrItem"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mDatas=null,t.itemList=[],t.prefab=null,t.layout=null,t.scroll=!1,t.initPos=!1,t.showLeft=!1,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){SDK.Mgr.Inst.hasPromoData&&(SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.oppo||SDK.Mgr.Inst.isAdOpen)?(this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData()):this.node.active=!1},t.prototype.setData=function(){if(this.mDatas.content.length>0){for(var e=0;e<Math.min(this.mDatas.content.length,9);e++){var t=cc.instantiate(this.prefab);t.parent=this.layout,t.active=!0;var n=t.getComponent(s.default);null!=n&&this.itemList.push(n),n.setData(this.mDatas.content[e])}this.itemList.length>5&&(this.initPos=!0,this.scroll=!0)}},Object.defineProperty(t.prototype,"maxLeft",{get:function(){var e=(this.layout.width-this.layout.parent.width)/2;return this.scroll&&(e+=20),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRight",{get:function(){var e=(this.layout.parent.width-this.layout.width)/2;return this.scroll&&(e-=20),e},enumerable:!1,configurable:!0}),t.prototype.update=function(e){if(this.scroll){if(this.initPos){if(!(this.layout.width>0))return;this.layout.x=this.maxLeft,this.initPos=!1}this.layout.x<=this.maxRight?this.showLeft=!0:this.layout.x>=this.maxLeft&&(this.showLeft=!1),this.showLeft?this.layout.x+=50*e:this.layout.x-=50*e}else this.layout.x=this.maxLeft},r([l(cc.Node)],t.prototype,"prefab",void 0),r([l(cc.Node)],t.prototype,"layout",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./PromoNodeArrItem":"PromoNodeArrItem"}],PromoWall:[function(e,t,n){"use strict";cc._RF.push(t,"bacf6Hzz4hB0KA8IcLnxXk2","PromoWall");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PromoNodeArrItem"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mDatas=null,t.itemList=[],t.prefab=null,t.layout=null,t.offsetWidth=20,t.offsetHeight=20,t.moveSpeed=80,t}return i(t,e),t.prototype.onLoad=function(){SDK.Base.Event.on("getData",this.initData,this),this.initData()},t.prototype.onDestroy=function(){SDK.Base.Event.off("getData",this.initData,this)},t.prototype.initData=function(){SDK.Mgr.Inst.hasPromoData&&(SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.oppo||SDK.Mgr.Inst.isAdOpen)?(this.node.active=!0,this.mDatas=Config.Base.promoData,this.setData()):this.node.active=!1},t.prototype.setData=function(){var e=this.mDatas.content.length;if(e>0)for(var t=0;t<3;t++){this.mDatas.content.sort(function(){return Math.random()-.5});for(var n=0;n<e;n++){var o=cc.instantiate(this.prefab);o.parent=this.layout,o.active=!0;var i=o.getComponent(s.default);null!=i&&(null==this.itemList[t]&&(this.itemList[t]=[]),this.itemList[t].push(i)),i.setData(this.mDatas.content[n]);var r=((1-e)/2+n+t%2/2)*(o.width+this.offsetWidth),a=(1-t)*(o.height+this.offsetHeight);o.setPosition(r,a)}}},t.prototype.update=function(e){for(var t=this.mDatas.content.length,n=0;n<3;n++)for(var o=0;o<t;o++)if(this.itemList[n][o].pNode.setPosition(this.itemList[n][o].pNode.position.x-e*this.moveSpeed,this.itemList[n][o].pNode.position.y),this.itemList[n][o].pNode.position.x<-t/2*(this.prefab.width+this.offsetWidth)){var i=this.itemList[n][o].pNode.position.x+t*(this.prefab.width+this.offsetWidth);this.itemList[n][o].pNode.setPosition(i,this.itemList[n][o].pNode.y)}},r([l(cc.Node)],t.prototype,"prefab",void 0),r([l(cc.Node)],t.prototype,"layout",void 0),r([l(cc.Float)],t.prototype,"offsetWidth",void 0),r([l(cc.Float)],t.prototype,"offsetHeight",void 0),r([l(cc.Float)],t.prototype,"moveSpeed",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./PromoNodeArrItem":"PromoNodeArrItem"}],ProtectHide:[function(e,t,n){"use strict";cc._RF.push(t,"ad647kXYZVCUoxeKDsRwLRG","ProtectHide");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hideNode=null,t}return i(t,e),t.prototype.start=function(){SDK.Mgr.Inst.isAdOpen||(this.hideNode.active=!1)},r([c(cc.Node)],t.prototype,"hideNode",void 0),r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],QQBlockAd:[function(e,t,n){"use strict";cc._RF.push(t,"42305SoAc1Cz7R1TA7p9naq","QQBlockAd");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.BlockNum=n.Orientation=void 0;var s,a,c=cc._decorator,l=c.ccclass,u=c.property;(function(e){e[e["\u6a2a\u5411"]=0]="\u6a2a\u5411",e[e["\u7ad6\u5411"]=1]="\u7ad6\u5411"})(s=n.Orientation||(n.Orientation={})),function(e){e[e[" 1 "]=1]=" 1 ",e[e[" 2 "]=2]=" 2 ",e[e[" 3 "]=3]=" 3 ",e[e[" 4 "]=4]=" 4 ",e[e[" 5 "]=5]=" 5 "}(a=n.BlockNum||(n.BlockNum={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.orientation=s.\u6a2a\u5411,t.blockNum=a[" 5 "],t.qqBlockAd=null,t._orientation=["landscape","vertical"],t}return i(t,e),t.prototype.onEnable=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq&&this.qqBlockAd&&this.qqBlockAd.show()},t.prototype.onDisable=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq&&this.qqBlockAd&&this.qqBlockAd.hide()},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.createAd()},.1)},t.prototype.createAd=function(){var e=this;if(SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq){var t=qq.getSystemInfoSync(),n=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),o=n.x/cc.view.getDesignResolutionSize().width*t.screenWidth,i=(1-n.y/cc.view.getDesignResolutionSize().height)*t.screenHeight;cc.Canvas.instance.fitHeight?o=n.x/(cc.view.getDesignResolutionSize().height/t.screenHeight*t.screenWidth)*t.screenWidth:i=(1-n.y/(cc.view.getDesignResolutionSize().width/t.screenWidth*t.screenHeight))*t.screenHeight,this.qqBlockAd=qq.createBlockAd({adUnitId:Config.QQ.blockId,style:{left:o,top:i},size:this.blockNum,orientation:this._orientation[this.orientation]}),setTimeout(function(){e.qqBlockAd.show()},500),this.qqBlockAd.onError(function(e){console.log("onError",JSON.stringify(e))}),this.qqBlockAd.onResize(function(e){console.log("onResize",JSON.stringify(e))})}},t.prototype.onDestroy=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.qq&&this.qqBlockAd&&this.qqBlockAd.destroy()},r([u({type:cc.Enum(s),displayName:"\u6392\u5217\u65b9\u5411"})],t.prototype,"orientation",void 0),r([u({type:cc.Enum(a),displayName:"\u79ef\u6728\u6570\u91cf"})],t.prototype,"blockNum",void 0),r([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],RandomActiveOnce:[function(e,t){"use strict";cc._RF.push(t,"2912ay2Cu9MapS2GvBwjUuq","RandomActiveOnce"),cc.Class({extends:cc.Component,properties:{ActiveGroups:{type:cc.Node,default:[]}},start:function(){for(var e;e<=this.ActiveGroups.Length;e++)this.ActiveGroups[e].active=!1;var t=Math.round(Math.random()*(this.ActiveGroups.length-1));this.ActiveGroups[t]&&(this.ActiveGroups[t].active=!0)}}),cc._RF.pop()},{}],RaycastController:[function(e,t){"use strict";cc._RF.push(t,"330b0hJGpNHcaYgvFq2/4vv","RaycastController"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,LevelManager.Instance.onRaycastTouchDown,LevelManager.Instance,!0),this.node.on(cc.Node.EventType.TOUCH_END,LevelManager.Instance.onRaycastTouchUp,LevelManager.Instance,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,LevelManager.Instance.onRaycastTouchUp,LevelManager.Instance,!0)},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,LevelManager.Instance.onRaycastTouchDown,LevelManager.Instance,!0),this.node.off(cc.Node.EventType.TOUCH_END,LevelManager.Instance.onRaycastTouchUp,LevelManager.Instance,!0),this.node.off(cc.Node.EventType.TOUCH_CANCEL,LevelManager.Instance.onRaycastTouchUp,LevelManager.Instance,!0)}}),cc._RF.pop()},{}],RecorderMgr:[function(e,t,n){"use strict";cc._RF.push(t,"548b3VUMUVHJKHRxhaYr8+T","RecorderMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../SDK/Script/VideoHint"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shareNodes=[],t.sharePanelNode=null,t.rIndex=0,t.isCDTime=!1,t.closeBtn=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.showSharePanel=function(){if(SDK.Mgr.Inst.hasAds&&!this.isCDTime){this.scheduleOnce(function(){SDK.Mgr.Inst.showInsert()},.5),this.sharePanelNode.active=!0,SDK.Base.Event.emit("PanelOpen"),this.rIndex=Math.floor(Math.random()*this.shareNodes.length);for(var e=0;e<this.shareNodes.length;e++)this.shareNodes[e].active=e==this.rIndex}},t.prototype.closeSharePanel=function(){var e=this;this.sharePanelNode.active=!1,SDK.Base.Event.emit("PanelClose"),this.isCDTime=!0,this.scheduleOnce(function(){e.isCDTime=!1},20)},t.prototype.showVideo=function(){var e=this,t="SharePanel_Ad";SDK.Mgr.Inst.event(t+"Click");var n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"Success"),e.sharePanelNode.active=!1,SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("jiesuochenggong"))):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(t+"Cancel"),s.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(t+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.adBtnClick=function(){this.showVideo()},t.Instance=null,r([l([cc.Node])],t.prototype,"shareNodes",void 0),r([l(cc.Node)],t.prototype,"sharePanelNode",void 0),r([l(cc.Node)],t.prototype,"closeBtn",void 0),n=r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../SDK/Script/VideoHint":"VideoHint"}],RecorderPanel:[function(e,t,n){"use strict";cc._RF.push(t,"c1cd4Jn/sRGOaflCzSy56r5","RecorderPanel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.prototype.onEnable=function(){n.GamePause=!0},t.prototype.onDisable=function(){n.GamePause=!1},t.GamePause=!1,n=r([a],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],RestartContent:[function(e,t){"use strict";cc._RF.push(t,"2398aVe9B5G9alh4lPVJBBx","RestartContent");var n=i(e("./DataMgr")),o=i(e("./Managers/SoundMgr"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,onEnable:function(){SDK.Base.Event.emit("PanelOpen")},onRestartGameButtonDown:function(){o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[0]),n.default.isRestart=!0,this.reLoadGame()},reLoadGame:function(){SDK.Base.Event.emit("PanelClose"),cc.director.loadScene(cc.director.getScene().name)}}),cc._RF.pop()},{"./DataMgr":"DataMgr","./Managers/SoundMgr":"SoundMgr"}],SDK:[function(e,t){"use strict";cc._RF.push(t,"8f5cdg8699KppXg/k+4nknr","SDK");var n,o,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{c(o.next(e))}catch(t){r(t)}}function a(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};(function(t){t.version="1.4.5",t.svrRoot="https://qgame.996joy.com",t.svrApi=t.svrRoot+"/api2";var n,o,c,l,u,p,h,d,f=function(){function e(){this._openAd=!1,this._enterTime=0,this.nativeFreshTime=30,this.insertCDTime=30,this.onlineParam={},this.sdkAdapter=null,this.hasInit=!1,this.preMusicVolume=1,this.preEffectsVolume=1,this.bannerFreshTimer=-1,this.hasTriggerLoadingStart=!1,this.hasTriggerLoadingFinish=!1,this.hasTriggerEnterGame=!1}return Object.defineProperty(e.prototype,"curChannel",{get:function(){return Config.Base.baseChannel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"androidChannel",{get:function(){return Config.ChannelBase.baseChannel_android},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAds",{get:function(){return cc.sys.platform==cc.sys.HUAWEI_GAME?this.canShowVideo():this.curChannel==n.Channel.android_honor?this.canShowVideo():Config.Base.baseKeys.hasAds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasShare",{get:function(){return Config.Base.baseKeys.hasShare},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSvrCfg",{get:function(){return Config.Base.baseKeys.hasSvrCfg},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdOpen",{get:function(){return this._openAd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this.sdkAdapter.sdk.userId},enumerable:!1,configurable:!0}),e.prototype.updateUserId=function(n){Config.Base.baseKeys.cloudStorage&&(console.log("updateUserId",e.Inst.userId,n),t.Storage.Cloud.updateUserId({newUserId:n,success:function(e){console.log("updateStorageUserId success",JSON.stringify(e))},fail:function(e){console.log("updateStorageUserId fail, error = "+JSON.stringify(e))}}),t.Rank.updateUserId(n,{success:function(e){console.log("updateRankUserId success",JSON.stringify(e))},fail:function(e){console.log("updateRankUserId fail, error = "+JSON.stringify(e))}})),e.Inst.getSdk().updateUserId(n)},e.prototype.getSdk=function(){return this.sdkAdapter.sdk},e.prototype.getAds=function(){return this.sdkAdapter.ads},e.prototype.getLocation=function(){return this.sdkAdapter.location},Object.defineProperty(e.prototype,"closeDelayTime",{get:function(){return t.Mgr.Inst.curChannel==t.Define.Channel.vivo||t.Mgr.Inst.curChannel==t.Define.Channel.tt||t.Mgr.Inst.curChannel==t.Define.Channel.ks||t.Mgr.Inst.curChannel==t.Define.Channel.alipay||t.Mgr.Inst.curChannel==t.Define.Channel.ios||t.Mgr.Inst.curChannel==t.Define.Channel.box4399||t.Mgr.Inst.curChannel==t.Define.Channel.android_oppo||t.Mgr.Inst.curChannel==t.Define.Channel.android_vivo||t.Mgr.Inst.curChannel==t.Define.Channel.android_google?0:t.Mgr.Inst.curChannel==t.Define.Channel.view?.5:t.Mgr.Inst.isAdOpen?2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.laucher=function(t){t&&(Config.Base.baseChannel=t),this.curChannel==n.Channel.android&&(Config.Base.baseChannel=this.androidChannel),console.log("SDK Init === Channel: "+this.curChannel),setTimeout(function(){e.Inst.init()},200)},e.Setup=function(e){this.initCompleteCB=e,this.isInitComplete&&(this.initCompleteCB(),this.initCompleteCB=null)},e.SetupSync=function(){return r(this,void 0,Promise,function(){var e=this;return s(this,function(){return[2,new Promise(function(t){e.isInitComplete?t():e.initCompleteCB=t})]})})},e.prototype.init=function(){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return this.hasInit?[2]:(this.hasInit=!0,this.sdkAdapter=new o.Adapter(this.curChannel),Config.Base.baseKeys.umaKey&&p.UmaSdk.Inst.init(Config.Base.baseKeys.umaKey,this.curChannel),Config.Base.baseKeys.tdKey&&p.TDSdk.Inst.init(Config.Base.baseKeys.tdKey,this.curChannel),(Config.Base.baseKeys.umKey||cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD)&&p.UmengSdk.Inst.init(Config.Base.baseKeys.umKey,this.curChannel),this.hasSvrCfg?[4,this.getOnlineData()]:[3,2]);case 1:n.sent(),n.label=2;case 2:return y.Inst.init(),t=new Date,this._enterTime=Math.floor(t.getTime()/1e3),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),e.isInitComplete=!0,e.initCompleteCB&&(e.initCompleteCB(),e.initCompleteCB=null),[2]}})})},Object.defineProperty(e.prototype,"gameTime",{get:function(){var e=new Date;return Math.floor(e.getTime()/1e3)-this._enterTime},enumerable:!1,configurable:!0}),e.prototype.pauseMusic=function(){console.log("pauseMusic"),this.preMusicVolume=cc.audioEngine.getMusicVolume(),this.preEffectsVolume=cc.audioEngine.getEffectsVolume(),cc.audioEngine.pauseMusic(),cc.audioEngine.pauseAll(),cc.audioEngine.pauseAllEffects(),cc.audioEngine.setMusicVolume(0),cc.audioEngine.setEffectsVolume(0),o.Event.emit("PauseMusic")},e.prototype.resumeMusic=function(){console.log("resumeMusic"),cc.audioEngine.resumeMusic(),cc.audioEngine.resumeAll(),cc.audioEngine.resumeAllEffects(),cc.audioEngine.setMusicVolume(this.preMusicVolume),cc.audioEngine.setEffectsVolume(this.preEffectsVolume),o.Event.emit("ResumeMusic")},e.prototype.onKeyDown=function(e){switch(e.keyCode){case cc.macro.KEY.back:cc.sys.platform===cc.sys.ANDROID&&this.quit()}},e.prototype.reportAdData=function(e,n,o){return r(this,void 0,void 0,function(){var i;return s(this,function(r){switch(r.label){case 0:return(i={}).channel=this.curChannel,i.appId=e,i.posId=n,i.type=o,[4,new h.Http(t.svrApi+"/ads/report",i).Send("post","form")];case 1:return r.sent(),[2]}})})},e.prototype.getOnlineData=function(){return r(this,void 0,void 0,function(){var i,r,a,c,l,u,p,d,f;return s(this,function(s){switch(s.label){case 0:return(i={}).gameId=Config.ChannelBase.gameId,i.channel=this.curChannel,i.version=Config.Base.baseKeys.version,i.isWifi=this.getSdk().isWifi.toString(),[4,(r=new h.Http(t.svrApi+"/config/online",i)).Send("post","form")];case 1:if(s.sent(),null==r.error)if(1==(a=JSON.parse(r.text)).status){if(c=a.data,l=c.config,u=c.promo,p=c.protect,l&&(console.log("config",JSON.stringify(l)),e.Inst.onlineParam=l,l.insertCDTime&&(this.insertCDTime=parseFloat(l.insertCDTime),console.log("InsertCDTime",this.insertCDTime)),l.time_nativeAd&&(this.nativeFreshTime=l.time_nativeAd,console.log("nativeFreshTime",this.nativeFreshTime)),l.sys_promoState&&u&&(console.log("promo",JSON.stringify(u)),(d=new o.PromoData).isOpen=!0,u.forEach(function(e){var n=new o.PromoDataItem;n.key=e.key,n.name=e.name,n.imageId=e.imageId,n.imageUrl=t.svrRoot+"/res/image/icon/"+e.key+"_"+e.imageId+".png",n.param=e.param,d.content.push(n)}),Config.Base.promoData=d)),p){if(console.log("protect",JSON.stringify(p)),p.province)for(this.getLocation().province=p.province,f=0;f<n.ProvinceList.length;f++)if(this.getLocation().province.includes(n.ProvinceList[f])){this.getLocation().provinceId=f;break}p.city&&(this.getLocation().city=p.city),p.ip&&(this.getLocation().ip=p.ip),null!=p.openAd&&(this._openAd=p.openAd),console.log("isAdOpen",this.isAdOpen)}o.Event.emit("getData")}else console.warn(a.message);else console.warn(r.error);return[2]}})})},Object.defineProperty(e.prototype,"hasPromoData",{get:function(){return(t.Mgr.Inst.curChannel!=t.Define.Channel.tt||cc.sys.os!=cc.sys.OS_IOS)&&!(!Config.Base.promoData||!Config.Base.promoData.isOpen)},enumerable:!1,configurable:!0}),e.prototype.vibrate=function(){this.sdkAdapter.sdk.vibrate()},e.prototype.vibrateLong=function(){this.sdkAdapter.sdk.vibrateLong()},e.prototype.showBanner=function(n){var o=this;if(void 0===n&&(n=-1),this.hasAds)if(this.sdkAdapter.ads.showBanner(n),t.Mgr.Inst.curChannel==t.Define.Channel.vivo){if(t.Mgr.Inst.isAdOpen){if(e.Inst.onlineParam.bannerFreshTime){var i=e.Inst.onlineParam.bannerFreshTime;-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1),this.bannerFreshTimer=setInterval(function(){console.log("### Banner Auto Fresh",i),o.showBanner(n)},1e3*i)}}else if(e.Inst.onlineParam.bannerFreshTime_protect){var r=e.Inst.onlineParam.bannerFreshTime_protect;-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1),this.bannerFreshTimer=setInterval(function(){console.log("### Banner Auto Fresh",r),o.showBanner(n)},1e3*r)}}else if(e.Inst.onlineParam.bannerFreshTime){var s=e.Inst.onlineParam.bannerFreshTime;-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1),this.bannerFreshTimer=setInterval(function(){console.log("### Banner Auto Fresh",s),o.showBanner(n)},1e3*s)}},e.prototype.closeBanner=function(){this.hasAds&&(this.sdkAdapter.ads.closeBanner(),-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1))},e.prototype.showNormalBanner=function(n){var o=this;if(void 0===n&&(n=-1),this.hasAds)if(this.sdkAdapter.ads.showNormalBanner(n),t.Mgr.Inst.curChannel==t.Define.Channel.vivo){if(t.Mgr.Inst.isAdOpen){if(e.Inst.onlineParam.bannerFreshTime){var i=e.Inst.onlineParam.bannerFreshTime;-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1),this.bannerFreshTimer=setInterval(function(){console.log("### Banner Auto Fresh",i),o.showNormalBanner(n)},1e3*i)}}else if(e.Inst.onlineParam.bannerFreshTime_protect){var r=e.Inst.onlineParam.bannerFreshTime_protect;-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1),this.bannerFreshTimer=setInterval(function(){console.log("### Banner Auto Fresh",r),o.showNormalBanner(n)},1e3*r)}}else if(e.Inst.onlineParam.bannerFreshTime){var s=e.Inst.onlineParam.bannerFreshTime;-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1),this.bannerFreshTimer=setInterval(function(){console.log("### Banner Auto Fresh",s),o.showNormalBanner(n)},1e3*s)}},e.prototype.closeNormalBanner=function(){this.hasAds&&(this.sdkAdapter.ads.closeNormalBanner(),-1!=this.bannerFreshTimer&&(clearInterval(this.bannerFreshTimer),this.bannerFreshTimer=-1))},e.prototype.canShowInsert=function(){return!!this.hasAds&&this.sdkAdapter.ads.canShowInsert()},e.prototype.showInsert=function(t,o){void 0===o&&(o=!0),this.hasAds?this.curChannel!=n.Channel.view?this.sdkAdapter.ads.checkInsertCDTime()?this.sdkAdapter.ads.showInsert(t,o):console.log("\u63d2\u5c4fCD\u4e2d",e.Inst.gameTime-this.sdkAdapter.ads.preShowInsertTime+"/"+this.insertCDTime):t&&t(n.AdsCode.finish):t&&t(n.AdsCode.error)},e.prototype.showInsertDelay=function(e){var t=this;setTimeout(function(){t.showInsert()},1e3*e)},e.prototype.showInsertForce=function(e,t){void 0===t&&(t=!0),this.hasAds?this.curChannel!=n.Channel.view?this.sdkAdapter.ads.showInsert(e,t):e&&e(n.AdsCode.finish):e&&e(n.AdsCode.error)},e.prototype.canShowInsertNormal=function(){return!!this.hasAds&&this.sdkAdapter.ads.canShowInsertNormal()},e.prototype.showInsertNormal=function(t,o){void 0===o&&(o=!0),this.hasAds?this.curChannel!=n.Channel.view?this.sdkAdapter.ads.checkInsertCDTime()?this.sdkAdapter.ads.showInsert(t,o):console.log("\u63d2\u5c4fCD\u4e2d",e.Inst.gameTime-this.sdkAdapter.ads.preShowInsertTime+"/"+this.insertCDTime):t&&t(n.AdsCode.finish):t&&t(n.AdsCode.error)},e.prototype.showInsertNative=function(){this.hasAds&&this.curChannel!=n.Channel.view&&this.sdkAdapter.ads.showInsertNativeModel()},e.prototype.canShowVideo=function(){return!(cc.sys.platform!=cc.sys.HUAWEI_GAME&&this.curChannel!=n.Channel.android_honor&&!this.hasAds)&&this.sdkAdapter.ads.canShowVideo()},e.prototype.showVideo=function(e){this.hasAds?this.curChannel!=n.Channel.view?this.canShowVideo()?this.sdkAdapter.ads.showVideo(e):e&&e(n.AdsCode.error):e&&e(n.AdsCode.finish):e&&e(n.AdsCode.error)},e.prototype.showVideo2=function(e,i){if(i&&t.Mgr.Inst.event(i+"_click"),!this.hasAds)return i&&t.Mgr.Inst.event(i+"_click"),void t.ToastMgr.Inst.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");if(this.curChannel==n.Channel.view)return i&&t.Mgr.Inst.event(i+"_success"),void(e&&e());if(!navigator.onLine&&this.curChannel!=n.Channel.box4399)return i&&t.Mgr.Inst.event(i+"_click"),void t.ToastMgr.Inst.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");if(!this.canShowVideo())return i&&t.Mgr.Inst.event(i+"_click"),void t.ToastMgr.Inst.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");var r=function(n){n==t.Define.AdsCode.finish?(i&&t.Mgr.Inst.event(i+"_success"),e&&e()):n==t.Define.AdsCode.cancel?(i&&t.Mgr.Inst.event(i+"_cancel"),o.Event.emit("openVideoHintPanel",r)):n==t.Define.AdsCode.refuse?(i&&t.Mgr.Inst.event(i+"_refuse"),t.ToastMgr.Inst.showToast("\u89c6\u9891\u6ca1\u6709\u770b\u5b8c\u54e6")):(i&&t.Mgr.Inst.event(i+"_noAds"),t.ToastMgr.Inst.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"))};this.sdkAdapter.ads.showVideo(r)},e.prototype.hasCustom=function(e){return!(!this.hasAds||this.curChannel==n.Channel.view)&&this.sdkAdapter.ads.hasCustom(e)},e.prototype.showCustom=function(e,t){this.hasAds&&this.curChannel!=n.Channel.view&&this.sdkAdapter.ads.showCustom(e,t)},e.prototype.closeCustom=function(e){this.hasAds&&this.curChannel!=n.Channel.view&&this.sdkAdapter.ads.closeCustom(e)},e.prototype.canShowIcon=function(){return!!this.hasAds&&this.sdkAdapter.ads.canShowIcon()},e.prototype.showIcon=function(){this.hasAds&&this.sdkAdapter.ads.showIcon()},e.prototype.event=function(e,t){p.UmaSdk.Inst.event(e,t),p.TDSdk.Inst.event(e,t),p.UmengSdk.Inst.event(e)},e.prototype.levelStart=function(e){p.UmaSdk.Inst.levelStart(e),p.TDSdk.Inst.levelStart(e),p.UmengSdk.Inst.levelStart(e)},e.prototype.levelFinish=function(e){p.UmaSdk.Inst.levelFinish(e),p.TDSdk.Inst.levelFinish(e),p.UmengSdk.Inst.levelFinish(e)},e.prototype.levelFail=function(e){p.UmaSdk.Inst.levelFail(e),p.TDSdk.Inst.levelFail(e),p.UmengSdk.Inst.levelFail(e)},e.prototype.sysEvent_loadingStart=function(){this.hasTriggerLoadingStart||(this.hasTriggerLoadingStart=!0,this.event(n.Event.loadingStart))},e.prototype.sysEvent_loadingFinish=function(){this.hasTriggerLoadingFinish||(this.hasTriggerLoadingFinish=!0,this.event(n.Event.loadingFinish))},e.prototype.sysEvent_enterGame=function(){this.hasTriggerEnterGame||(this.hasTriggerEnterGame=!0,this.event(n.Event.enterGame))},e.prototype.canShare=function(){if(!this.hasShare)return!1;this.sdkAdapter.share.canShare()},e.prototype.share=function(e){this.curChannel!=n.Channel.view?this.hasShare?this.sdkAdapter.share.share(e):e&&e(n.ShareCode.error):e&&e(n.ShareCode.success)},e.prototype.shareNormal=function(e){this.curChannel!=n.Channel.view?this.hasShare?this.sdkAdapter.share.shareNormal(e):e&&e(n.ShareCode.error):e&&e(n.ShareCode.success)},e.prototype.startRecord=function(e){void 0===e&&(e=-1),this.curChannel!=n.Channel.view&&this.hasShare&&this.sdkAdapter.share.startRecord(e)},e.prototype.stopRecord=function(){this.curChannel!=n.Channel.view&&this.hasShare&&this.sdkAdapter.share.stopRecord()},e.prototype.hasIcon=function(){return this.sdkAdapter.sdk.hasIcon()},e.prototype.createIcon=function(e){this.curChannel!=n.Channel.view?this.sdkAdapter.sdk.createIcon(e):e&&e(!0)},e.prototype.promo=function(e,t){this.curChannel!=n.Channel.view?this.sdkAdapter.sdk.promo(e,t):t&&t(!0)},e.prototype.rate=function(e){this.sdkAdapter.sdk.rate(),e&&setTimeout(function(){e(!0)},500)},e.prototype.jump=function(){this.sdkAdapter.sdk.jump()},e.prototype.quit=function(){this.sdkAdapter.sdk.quit()},e.prototype.openUrl=function(e){this.sdkAdapter.sdk.openUrl(e)},e.prototype.privacy=function(){this.sdkAdapter.sdk.privacy()},e.prototype.agreement=function(){this.sdkAdapter.sdk.agreement()},e.initCompleteCB=null,e.isInitComplete=!1,e}();t.Mgr=f,function(e){(function(e){e.finish="finish",e.cancel="cancel",e.refuse="refuse",e.error="error"})(e.AdsCode||(e.AdsCode={})),function(e){e.loadingStart="sysEvent_loadingStart",e.loadingFinish="sysEvent_loadingFinish",e.enterGame="sysEvent_enterGame"}(e.Event||(e.Event={})),function(e){e.success="success",e.cancel="cancel",e.fail="fail",e.error="error",e.tooShort="tooShort",e.pathNull="pathNull"}(e.ShareCode||(e.ShareCode={})),function(e){e.view="view",e.oppo="oppo",e.vivo="vivo",e.hw="hw",e.honor="honor",e.xm="xm",e.tt="tt",e.wx="wx",e.qq="qq",e.ks="ks",e.alipay="alipay",e.box4399="box4399",e.m4399="m4399",e.ios="ios",e.android="android",e.android_view="view",e.android_oppo="android_oppo",e.android_vivo="android_vivo",e.android_hw="android_hw",e.android_honor="android_honor",e.android_xiaomi="android_xiaomi",e.android_mi_oversea="android_mi_oversea",e.android_m4399="android_m4399",e.android_tt="android_tt",e.android_233="android_233",e.android_google="android_google",e.android_mmy="android_mmy"}(e.Channel||(e.Channel={})),function(e){e.EventName="OppoSOPEvent",e.InsertShow="InsertShow",e.VideoShow="VideoShow",e.VideoFinish="VideoFinish"}(e.OppoSOPAct||(e.OppoSOPAct={})),function(e){e.show="show",e.click="click",e.back="back"}(e.AdsReportAct||(e.AdsReportAct={})),e.ProvinceList=["\u5e7f\u4e1c","\u6d59\u6c5f","\u6c5f\u82cf","\u56db\u5ddd","\u5c71\u4e1c","\u6e56\u5317","\u6cb3\u5357","\u798f\u5efa","\u6cb3\u5317","\u6e56\u5357","\u5317\u4eac","\u5b89\u5fbd","\u6c5f\u897f","\u8fbd\u5b81","\u5c71\u897f","\u4e0a\u6d77","\u91cd\u5e86","\u9655\u897f","\u65b0\u7586","\u4e91\u5357","\u5e7f\u897f","\u8d35\u5dde","\u5185\u8499\u53e4","\u9ed1\u9f99\u6c5f","\u5929\u6d25","\u5409\u6797","\u6d77\u5357","\u7518\u8083","\u5b81\u590f","\u9752\u6d77","\u897f\u85cf","\u9999\u6e2f","\u53f0\u6e7e","\u6fb3\u95e8"]}(n=t.Define||(t.Define={})),function(e){e.Event=new cc.EventTarget;e.Adapter=function(e){e==n.Channel.oppo?(this.sdk=new c.OPPO.Sdk,this.ads=new c.OPPO.Ads):e==n.Channel.vivo?(this.sdk=new c.VIVO.Sdk,this.ads=new c.VIVO.Ads):e==n.Channel.hw?(this.sdk=new c.HUAWEI.Sdk,this.ads=new c.HUAWEI.Ads):e==n.Channel.honor?(this.sdk=new c.HONOR.Sdk,this.ads=new c.HONOR.Ads):e==n.Channel.xm?(this.sdk=new c.XIAOMI.Sdk,this.ads=new c.XIAOMI.Ads):e==n.Channel.tt?(this.sdk=new c.TT.Sdk,this.ads=new c.TT.Ads,this.share=new c.TT.Share):e==n.Channel.wx?(this.sdk=new c.WX.Sdk,this.ads=new c.WX.Ads,this.share=new c.WX.Share):e==n.Channel.qq?(this.sdk=new c.QQ.Sdk,this.ads=new c.QQ.Ads,this.share=new c.QQ.Share):e==n.Channel.ks?(this.sdk=new c.KS.Sdk,this.ads=new c.KS.Ads,this.share=new c.KS.Share):e==n.Channel.alipay?(this.sdk=new c.Alipay.Sdk,this.ads=new c.Alipay.Ads):e==n.Channel.box4399?(this.sdk=new c.BOX4399.Sdk,this.ads=new c.BOX4399.Ads,this.share=new c.BOX4399.Share):e==n.Channel.m4399?(this.sdk=new c.M4399.Sdk,this.ads=new c.M4399.Ads):e==n.Channel.ios?(this.sdk=new u.Sdk,this.ads=new u.Ads):e==n.Channel.android_oppo?(this.sdk=new l.OPPO.Sdk,this.ads=new l.OPPO.Ads):e==n.Channel.android_vivo?this.ads=new l.VIVO.Ads:e==n.Channel.android_hw?this.ads=new l.HW.Ads:e==n.Channel.android_honor?(this.sdk=new l.Honor.Sdk,this.ads=new l.Honor.Ads):e==n.Channel.android_xiaomi?(this.sdk=new l.XIAOMI.Sdk,this.ads=new l.XIAOMI.Ads):e==n.Channel.android_mi_oversea?(this.sdk=new l.MI_OVERSEA.Sdk,this.ads=new l.MI_OVERSEA.Ads):e==n.Channel.android_m4399?(this.sdk=new l.M4399.Sdk,this.ads=new l.M4399.Ads):e==n.Channel.android_tt?this.ads=new l.TT.Ads:e==n.Channel.android_233?this.ads=new l.M233.Ads:e==n.Channel.android_google?(this.sdk=new l.GOOGLE.Sdk,this.ads=new l.GOOGLE.Ads):e==n.Channel.android_mmy&&(this.ads=new l.MMY.Ads),this.ads||(this.ads=new i),this.sdk||(this.sdk=new o),this.share||(this.share=new s),this.location||(this.location=new a)};var o=function(){function o(){this.hasInit=!1,this.hasLogin=!1,this._isWifi=!1,this._userId=null,this._version="1.0.0",this.protectList=[],this._init()}return Object.defineProperty(o.prototype,"userId",{get:function(){if(null==this._userId){var e="#userId#";if(!d.Local.hasKey(e)){for(var n=(new Date).getTime().toString(16);n.length<18;)n+=Math.floor(16*Math.random()).toString(16);var o="tempId_"+n;if(d.Local.setStorage(e,o),Config.Base.baseKeys.cloudStorage){var i="\u73a9\u5bb6"+o.slice(-8);t.Rank.setUserName(i,{success:function(e){console.log("setName success",e)},fail:function(e){console.log("setName fail, error = "+JSON.stringify(e))}})}}this._userId=d.Local.getStorage(e)}return this._userId},enumerable:!1,configurable:!0}),o.prototype.updateUserId=function(e){this._userId=e,d.Local.setStorage("#userId#",this._userId)},Object.defineProperty(o.prototype,"userName",{get:function(){return d.Local.hasKey("userName")?d.Local.getStorage("userName"):"\u73a9\u5bb6"+this.userId.substring(this.userId.length-8,this.userId.length)},set:function(t){d.Local.setStorage("userName",t),e.Event.emit("event_setName")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"userAvatar",{get:function(){return d.Local.hasKey("userAvatar")?d.Local.getStorage("userAvatar"):null},set:function(t){d.Local.setStorage("userAvatar",t),e.Event.emit("event_setAvatar")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isWifi",{get:function(){return this._isWifi},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),o.prototype._init=function(){this.hasInit||(this.hasInit=!0,this.init())},o.prototype.init=function(){cc.sys.platform==cc.sys.MOBILE_BROWSER&&(document.title=Config.Base.baseKeys.appName),this.login(),this.checkUpdate()},o.prototype.login=function(){},o.prototype.Login=function(e){this.hasLogin?e&&(e(),e=null):this.login(e)},o.prototype.onShow=function(){e.Event.emit("sys_event_onShow")},o.prototype.onHide=function(){e.Event.emit("sys_event_onHide")},o.prototype.checkUpdate=function(){},o.prototype.promo=function(){},o.prototype.rate=function(){},o.prototype.hasIcon=function(){return!1},o.prototype.createIcon=function(){},o.prototype.jump=function(){},o.prototype.pay=function(){},o.prototype.openUrl=function(e){cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&f.Inst.curChannel!=n.Channel.android_view?l.Bridge.Inst.callFunctionWithParam("OpenUrl",e):cc.sys.openURL(e)},o.prototype.quit=function(){cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&f.Inst.curChannel!=n.Channel.android_view?l.Bridge.Inst.callFunction("Quit"):cc.game.end()},o.prototype.vibrate=function(){cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&f.Inst.curChannel!=n.Channel.android_view&&l.Bridge.Inst.callFunction("Vibrate")},o.prototype.vibrateLong=function(){cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&f.Inst.curChannel!=n.Channel.android_view&&l.Bridge.Inst.callFunction("VibrateLong")},o.prototype.privacy=function(){cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&f.Inst.curChannel!=n.Channel.android_view?f.Inst.curChannel==n.Channel.android_mmy?cc.sys.openURL(t.svrRoot+"/game/web/"+f.Inst.curChannel+"/"+Config.ChannelBase.gameId+"/privacy.html"):cc.sys.openURL(t.svrRoot+"/game/web/"+f.Inst.curChannel+"/privacy.html"):cc.sys.openURL("https://sleepgame.github.io/privacy/")},o.prototype.agreement=function(){cc.sys.isNative&&cc.sys.platform==cc.sys.ANDROID&&f.Inst.curChannel!=n.Channel.android_view?f.Inst.curChannel==n.Channel.android_mmy?cc.sys.openURL(t.svrRoot+"/game/web/"+f.Inst.curChannel+"/"+Config.ChannelBase.gameId+"/agreement.html"):cc.sys.openURL(t.svrRoot+"/game/web/"+f.Inst.curChannel+"/agreement.html"):cc.sys.openURL("https://sleepgame.github.io/agreement/")},o}();e.SdkBase=o;var i=function(){function e(){this.hasInit=!1,this.preShowInsertTime=0,this.bannerAD=void 0,this.insertAD=void 0,this.videoAD=void 0,this.customADs=[],this.customADState=[],this.insertCallback=void 0,this.videoCallback=void 0,this.isInsertLoaded=!1,this.isVideoLoaded=!1,this._init()}return e.prototype._init=function(){this.hasInit||(this.hasInit=!0,Config.Base.baseKeys.hasAds&&this.init())},e.prototype.init=function(){},e.prototype.reInit=function(){},e.prototype.initBanner=function(){},e.prototype.showBanner=function(){},e.prototype.closeBanner=function(){},e.prototype.initNormalBanner=function(){},e.prototype.showNormalBanner=function(){},e.prototype.closeNormalBanner=function(){},e.prototype.canShowIcon=function(){return!1},e.prototype.showIcon=function(){},e.prototype.initInsert=function(){},e.prototype.canShowInsert=function(){return!1},e.prototype.checkInsertCDTime=function(){return f.Inst.gameTime-this.preShowInsertTime>=f.Inst.insertCDTime},e.prototype.showInsert=function(e,t){void 0===t&&(t=!0)},e.prototype.canShowInsertNormal=function(){return!1},e.prototype.showInsertNormal=function(e,t){void 0===t&&(t=!0)},e.prototype.showInsertNativeModel=function(e,t){void 0===t&&(t=!0)},e.prototype.initVideo=function(){},e.prototype.canShowVideo=function(){return!1},e.prototype.showVideo=function(){},e.prototype.initCustom=function(){},e.prototype.showCustom=function(){},e.prototype.hasCustom=function(){return!1},e.prototype.closeCustom=function(){},e.prototype.hasNative=function(){return!1},e.prototype.getNative=function(){return null},e.prototype.clickNative=function(){},e.prototype.closeNative=function(){},e}();e.AdsBase=i;var r=function(){function e(){}return e.prototype.show=function(){},e.prototype.click=function(){},e}();e.NativeBase=r;var s=function(){function e(){this.hasInit=!1,this._init()}return e.prototype._init=function(){this.hasInit||(this.hasInit=!0,this.init())},e.prototype.init=function(){},e.prototype.share=function(){},e.prototype.startRecord=function(e){void 0===e&&(e=-1)},e.prototype.recordClip=function(e,t){void 0===e&&(e=3),void 0===t&&(t=3)},e.prototype.stopRecord=function(e){void 0===e&&(e=!1)},e.prototype.canShare=function(){return!0},e.prototype.shareNormal=function(){},e}();e.ShareBase=s;e.PromoDataItem=function(){this.key="",this.name="",this.imageUrl="",this.param="",this.imageId=""};e.PromoData=function(){this.isOpen=!1,this.content=[]};var a=function(){this.province="",this.city="",this.ip="",this.provinceId=-1};e.LocationData=a}(o=t.Base||(t.Base={})),function(e){(function(e){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getWifiState=function(){var e=this;qg.getNetworkType({success:function(t){e._isWifi="wifi"==t.networkType,console.log("getWifiState:",t.networkType,e.isWifi)},fail:function(e){console.log("getWifiState fail:",e.errMsg)},complete:function(){}})},Object.defineProperty(n.prototype,"version",{get:function(){return qg.getSystemInfoSync().COREVersion},enumerable:!1,configurable:!0}),n.prototype.init=function(){var e=this;o.Event.on("LoadSubComplete",this.checkPrivacy,this);var t=this;qg.onShow(function(e){console.log("onShow"),t.onShow(),e&&e.referrerInfo&&e.referrerInfo.package&&f.Inst.event("jumpShowFrom_"+e.referrerInfo.package)}),qg.onHide(function(){console.log("onHide"),t.onHide()}),setTimeout(function(){var e=qg.getLaunchOptionsSync();console.log("getLaunchOptionsSync",JSON.stringify(e)),e&&e.referrerInfo&&e.referrerInfo.package&&f.Inst.event("jumpEnterFrom_"+e.referrerInfo.package)},500),cc.sys.localStorage.getItem("HasIcon")||cc.sys.localStorage.setItem("HasIcon","false"),qg.hasShortcutInstalled({success:function(e){0==e?(cc.sys.localStorage.setItem("HasIcon","false"),console.log("\u521d\u59cb\u5316 \u6ca1\u6709\u56fe\u6807")):(cc.sys.localStorage.setItem("HasIcon","true"),console.log("\u521d\u59cb\u5316 \u5df2\u521b\u5efa\u56fe\u6807"))},fail:function(){},complete:function(){}}),Config.Base.baseKeys.cloudStorage&&setTimeout(function(){e.login()},100),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){},fail:function(){},complete:function(){}}),setTimeout(function(){"function"==typeof qg.reportMonitor&&qg.reportMonitor("game_scene",0)},1e3),this.getWifiState(),qg.getDeviceId({success:function(e){console.log("getDeviceId handling success : "+JSON.stringify(e))},fail:function(e,t){console.log("getDeviceId handling fail, code = "+t)}})},n.prototype.checkPrivacy=function(){if(!cc.sys.localStorage.getItem("PrivacyConfirm")){if(!cc.resources)return void console.log("\u65e0resources\u6587\u4ef6\u5939");cc.assetManager.resources.load("SDK/Privacy",function(e,t){if(null==e){var n=cc.instantiate(t);cc.director.getScene().getChildByName("Canvas").addChild(n)}else console.log("error",JSON.stringify(e))})}},n.prototype.login=function(){if(console.log("login"),this.userId.startsWith("tempId_")){var e=this;qg.login({success:function(n){console.log("login success: ",JSON.stringify(n));var o="oppo_mini_"+n.uid;f.Inst.updateUserId(o),e.hasLogin=!0,e.userName=n.nickName,e.userAvatar=n.avatar,t.Rank.setUserName(n.nickName,{success:function(e){console.log("setName success",JSON.stringify(e))},fail:function(e){console.log("setName fail, error = "+JSON.stringify(e))}}),t.Rank.setAvatar(n.avatar,{success:function(e){console.log("setHeadImg success",JSON.stringify(e))},fail:function(e){console.log("setHeadImg fail, error = "+JSON.stringify(e))}})},fail:function(t){console.log("login fail: ",JSON.stringify(t)),e.hasLogin=!1}})}else this.hasLogin=!0},n.prototype.promo=function(e,t){qg.navigateToMiniGame({pkgName:e.param,path:"?source="+Config.ChannelBase.gameId,extraData:{from:Config.ChannelBase.gameId},success:function(){t&&t(!0)},fail:function(e){console.log(JSON.stringify(e)),t&&t(!1)}})},n.prototype.vibrate=function(){qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},n.prototype.vibrateLong=function(){qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},n.prototype.quit=function(){qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})},n.prototype.hasIcon=function(){return"true"==cc.sys.localStorage.getItem("HasIcon")},n.prototype.createIcon=function(e){var t=this;qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){setTimeout(function(){t.checkHasIcon(e)},100)},fail:function(t){console.log("installShortcut fail",JSON.stringify(t)),e(!1)},complete:function(){}}):e(!0)},fail:function(){},complete:function(){}})},n.prototype.checkHasIcon=function(e){qg.hasShortcutInstalled({success:function(t){0==t?(e(!1),cc.sys.localStorage.setItem("HasIcon","false"),console.log("\u6ca1\u6709\u56fe\u6807")):(e(!0),cc.sys.localStorage.setItem("HasIcon","true"),console.log("\u5df2\u521b\u5efa\u56fe\u6807"))},fail:function(){},complete:function(){}})},n.prototype.privacy=function(){cc.resources?cc.assetManager.resources.load("SDK/Privacy",function(e,t){if(null==e){var n=cc.instantiate(t);cc.director.getScene().getChildByName("Canvas").addChild(n),n.getComponent("Privacy").showPrivacy()}else console.log("error",JSON.stringify(e))}):console.log("\u65e0resources\u6587\u4ef6\u5939")},n}(o.SdkBase);e.Sdk=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nativeBanner=null,t}return i(t,e),Object.defineProperty(t.prototype,"bannerCloseTimesToday",{get:function(){var e=h.Helper.getTodayDate();return d.Local.getStorage("bannerTimes"+e)||d.Local.setStorage("bannerTimes"+e,0),parseInt(cc.sys.localStorage.getItem("bannerTimes"+e))},set:function(e){d.Local.setStorage("bannerTimes"+h.Helper.getTodayDate(),e)},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.initAds()},t.prototype.initAds=function(){var e=this;Config.OPPO.mediaId&&qg.initAdService({appId:Config.OPPO.mediaId,isDebug:!1,success:function(){a.Inst.init(),e.initNativeBanner(),e.initCustom(),setTimeout(function(){e.initInsert()},500)},fail:function(){console.log("initAdService fail")},complete:function(){}}),qg.onShow(function(){}),qg.onHide(function(){})},t.prototype.showBanner=function(){console.log("showBanner"),this.showNativeBanner()},t.prototype.closeBanner=function(){console.log("closeBanner"),this.closeNativeBanner(),this.closeNormalBanner()},t.prototype.initNativeBanner=function(){if(Config.OPPO.nativeBannerId){var e=qg.getSystemInfoSync(),t=Math.floor((e.screenWidth<e.screenHeight?e.screenWidth:e.screenHeight)*Config.Base.baseKeys.bannerScale);this.nativeBanner=qg.createCustomAd({adUnitId:Config.OPPO.nativeBannerId,style:{width:t}}),this.nativeBanner.onLoad(function(){console.log("\u6a21\u677fBanner\u5e7f\u544a \u52a0\u8f7d\u6210\u529f")}),this.nativeBanner.onShow(function(){console.log("\u6a21\u677fBanner\u5e7f\u544a \u663e\u793a")}),this.nativeBanner.onHide(function(){console.log("\u6a21\u677fBanner\u5e7f\u544a \u9690\u85cf")}),this.nativeBanner.onError(function(e){console.log("\u6a21\u677fBanner\u5e7f\u544a \u9519\u8bef",JSON.stringify(e))})}},t.prototype.showNativeBanner=function(){var e=this;Config.OPPO.nativeBannerId?this.nativeBanner?this.nativeBanner.show().then(function(){console.log("\u6a21\u677fBanner\u5e7f\u544a \u5c55\u793a\u6210\u529f"),e.closeNormalBanner()}).catch(function(t){console.log("\u6a21\u677fBanner\u5e7f\u544a \u5c55\u793a\u5931\u8d25",t.errCode,t.errMsg),e.closeNativeBanner(),e.showNormalBanner()}):(this.initNativeBanner(),this.showNormalBanner()):this.showNormalBanner()},t.prototype.closeNativeBanner=function(){this.nativeBanner&&this.nativeBanner.hide()},t.prototype.initNormalBanner=function(){if(this.bannerAD&&(this.bannerAD.offLoad(),this.bannerAD.offShow(),this.bannerAD.offHide(),this.bannerAD.offError(),this.bannerAD.destroy()),Config.OPPO.bannerId){this.bannerAD=qg.createBannerAd({posId:Config.OPPO.bannerId});var e=this;setTimeout(function(){e.bannerAD.show()},1e3),this.bannerAD.onLoad(function(){console.log("\u666e\u901aBanner\u5e7f\u544a \u52a0\u8f7d\u6210\u529f")}),this.bannerAD.onShow(function(){console.log("\u666e\u901aBanner\u5e7f\u544a \u663e\u793a")}),this.bannerAD.onHide(function(){e.bannerCloseTimesToday++,console.log("\u666e\u901aBanner\u5e7f\u544a \u7528\u6237\u4e3b\u52a8\u5173\u95edBanner",e.bannerCloseTimesToday,"\u6b21")}),this.bannerAD.onError(function(e){e&&console.log("\u666e\u901aBanner\u5e7f\u544a \u9519\u8bef",JSON.stringify(e))})}},t.prototype.showNormalBanner=function(){this.initNormalBanner()},t.prototype.closeNormalBanner=function(){this.bannerAD&&this.bannerAD.destroy()},t.prototype.initInsert=function(){var e=this;if(Config.OPPO.nativeInsertId){var t=qg.getSystemInfoSync();if(t.screenWidth<t.screenHeight){var i=Math.floor(.6*(t.screenHeight-.7*t.screenWidth/1.2)),r=Math.floor(.5*t.screenWidth*(1-.7)),s=Math.floor(.7*t.screenWidth);this.insertAD=qg.createCustomAd({adUnitId:Config.OPPO.nativeInsertId,style:{top:i,left:r,width:s}})}else i=Math.floor(.54*t.screenHeight*(1-.7)),r=Math.floor(.5*(t.screenWidth-.84*t.screenHeight)),s=Math.floor(.84*t.screenHeight),this.insertAD=qg.createCustomAd({adUnitId:Config.OPPO.nativeInsertId,style:{top:i,left:r,width:s}});this.insertAD.onLoad(function(){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u6210\u529f")}),this.insertAD.onShow(function(){if(console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u663e\u793a"),e.preShowInsertTime=f.Inst.gameTime,Config.OPPO.openSop&&o.Event.emit(n.OppoSOPAct.EventName,n.OppoSOPAct.InsertShow),Config.Base.baseKeys.hasAdsReport){f.Inst.reportAdData(Config.OPPO.mediaId,Config.OPPO.nativeInsertId,n.AdsReportAct.show);var t=!1;qg.onHide(function(){t||f.Inst.reportAdData(Config.OPPO.mediaId,Config.OPPO.nativeInsertId,n.AdsReportAct.click)}),qg.onShow(function(){t||(t=!0,f.Inst.reportAdData(Config.OPPO.mediaId,Config.OPPO.nativeInsertId,n.AdsReportAct.back))})}}),this.insertAD.onHide(function(){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u9690\u85cf"),Config.Base.baseKeys.hasAdsReport&&(qg.offHide(),qg.offShow())}),this.insertAD.onError(function(e){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u9519\u8bef",JSON.stringify(e))})}},t.prototype.showInsert=function(){this.insertAD?this.insertAD.show().then(function(){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u5c55\u793a\u6210\u529f")}).catch(function(e){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u5c55\u793a\u5931\u8d25",e.errCode,e.errMsg)}):this.initInsert()},t.prototype.initVideo=function(){var e=this;this.videoAD&&this.videoAD.destroy(),this.videoAD=qg.createRewardedVideoAd({posId:Config.OPPO.videoId}),setTimeout(function(){e.videoAD.load()},200);var t=this;this.videoAD.onLoad(function(){t.isVideoLoaded=!0,t.videoAD.show(),t.videoAD.offLoad(function(){})}),this.videoAD.onVideoStart(function(){f.Inst.pauseMusic(),cc.director.pause(),Config.OPPO.openSop&&o.Event.emit(n.OppoSOPAct.EventName,n.OppoSOPAct.VideoShow),t.videoAD.offVideoStart(function(){})}),this.videoAD.onClose(function(e){f.Inst.resumeMusic(),cc.director.resume(),t.isVideoLoaded=!1,t.videoCallback&&(e.isEnded?(Config.OPPO.openSop&&o.Event.emit(n.OppoSOPAct.EventName,n.OppoSOPAct.VideoFinish),t.videoCallback(n.AdsCode.finish)):t.videoCallback(n.AdsCode.cancel),t.videoCallback=null),t.videoAD.offClose(function(){})}),this.videoAD.onError(function(e){e&&console.log("videoAd onError",JSON.stringify(e)),t.videoCallback&&t.videoCallback(n.AdsCode.error),t.videoAD.offError(function(){})})},t.prototype.canShowVideo=function(){return!0},t.prototype.showVideo=function(e){cc.sys.platform==cc.sys.OPPO_GAME&&Config.OPPO.videoId?(this.videoCallback=e,this.initVideo()):e&&e(n.AdsCode.error)},t.prototype.initCustom=function(){for(var e=qg.getSystemInfoSync(),t=function(t){if(Config.OPPO.customId[t]){if(e.screenWidth<e.screenHeight){var o=Math.floor(e.screenHeight*Config.OPPO.customStyle[t][0]+e.screenWidth/720*Config.OPPO.customStyle[t][1]),i=Math.floor(e.screenWidth*Config.OPPO.customStyle[t][2]+e.screenWidth/720*Config.OPPO.customStyle[t][3]),r=Math.floor(e.screenWidth/720*Config.OPPO.customStyle[t][4]);n.customADs[t]=qg.createCustomAd({adUnitId:Config.OPPO.customId[t],style:{top:o,left:i,width:r}})}else o=Math.floor(e.screenHeight*Config.OPPO.customStyle[t][0]+e.screenHeight/720*Config.OPPO.customStyle[t][1]),i=Math.floor(e.screenWidth*Config.OPPO.customStyle[t][2]+e.screenHeight/720*Config.OPPO.customStyle[t][3]),r=Math.floor(e.screenHeight/720*Config.OPPO.customStyle[t][4]),n.customADs[t]=qg.createCustomAd({adUnitId:Config.OPPO.customId[t],style:{top:o,left:i,width:r}});n.customADs[t].onLoad(function(){console.log("customAd "+t+" \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),n.customADs[t].onShow(function(){console.log("customAd "+t+" \u5e7f\u544a\u663e\u793a")}),n.customADs[t].onHide(function(){console.log("customAd "+t+" \u5e7f\u544a\u9690\u85cf")}),n.customADs[t].onError(function(e){console.log("customAd "+t+" \u5e7f\u544a\u9519\u8bef",JSON.stringify(e))})}},n=this,o=0;o<Config.OPPO.customId.length;o++)t(o)},t.prototype.showCustom=function(e,t){console.log("showCustom "+e),Config.OPPO.customId[e]&&this.customADs[e]?this.customADs[e].show().then(function(){console.log("customAd "+e+" \u5e7f\u544a\u5c55\u793a\u6210\u529f"),t&&(t(!0),t=null)}).catch(function(n){console.log("customAd "+e+" \u5e7f\u544a\u5c55\u793a\u5931\u8d25\uff1a"+n.errCode+","+n.errMsg),t&&(t(!1),t=null)}):t&&(t(!1),t=null)},t.prototype.closeCustom=function(e){console.log("closeCustom "+e),Config.OPPO.customId[e]&&this.customADs[e]?this.customADs[e].hide():console.log("customAd "+e+" is null")},t}(o.AdsBase);e.Ads=s;var a=function(){function e(){this.bannerAD=null,this.portalAD=null,this.drawerAD=null,this.boxReady=!1}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(){cc.sys.platform==cc.sys.OPPO_GAME&&(this.initBoxPortal(),this.initDrawer())},e.prototype.showBoxBanner=function(){if(console.log("showBoxBanner"),cc.sys.platform==cc.sys.OPPO_GAME&&Config.OPPO.boxBannerId){this.bannerAD&&(this.bannerAD.offLoad(),this.bannerAD.offError(),this.bannerAD.destroy()),this.bannerAD=qg.createGameBannerAd({posId:Config.OPPO.boxBannerId});var e=this;setTimeout(function(){e.bannerAD.show()},1e3),this.bannerAD.onLoad(function(){}),this.bannerAD.onError(function(e){e&&console.log("boxBanner onError",JSON.stringify(e))})}},e.prototype.closeBoxBanner=function(){console.log("closeBoxBanner"),cc.sys.platform==cc.sys.OPPO_GAME&&(this.bannerAD?this.bannerAD.destroy():console.log("boxBanner null"))},e.prototype.initBoxPortal=function(){var e=this;if(cc.sys.platform==cc.sys.OPPO_GAME&&Config.OPPO.boxPortalId){this.portalAD&&this.portalAD.destroy(),this.portalAD=qg.createGamePortalAd({adUnitId:Config.OPPO.boxPortalId}),setTimeout(function(){e.portalAD.load()},200);var t=this;this.portalAD.onLoad(function(){t.boxReady=!0}),this.portalAD.onClose(function(){t.boxReady=!1,setTimeout(function(){e.portalAD.load()},200)}),this.portalAD.onError(function(e){e&&console.log("portalAd onError",JSON.stringify(e))})}},e.prototype.boxPortalReady=function(){return this.boxReady||this.portalAD&&this.portalAD.load(),this.boxReady},e.prototype.showBoxPortal=function(){console.log("showBoxPortal"),cc.sys.platform==cc.sys.OPPO_GAME&&this.portalAD&&this.portalAD.show()},e.prototype.initDrawer=function(){cc.sys.platform==cc.sys.OPPO_GAME&&Config.OPPO.boxDrawerId&&(this.drawerAD&&this.drawerAD.destroy(),this.drawerAD=qg.createGameDrawerAd({adUnitId:Config.OPPO.boxDrawerId}),this.drawerAD.onShow(function(){console.log("drawer \u5e7f\u544a\u663e\u793a")}),this.drawerAD.onError(function(e){e&&console.log("drawerAD onError",JSON.stringify(e))}),this.drawerAD.hide())},e.prototype.showDrawer=function(){console.log("showDrawer"),cc.sys.platform==cc.sys.OPPO_GAME&&this.drawerAD&&this.drawerAD.show().then(function(){console.log("show success")}).catch(function(e){console.log("show fail with:"+e.errCode+","+e.errMsg)})},e.prototype.closeDrawer=function(){console.log("closeDrawer"),cc.sys.platform==cc.sys.OPPO_GAME&&this.drawerAD&&this.drawerAD.hide()},e}();e.Extend=a})(e.OPPO||(e.OPPO={})),function(e){var a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var e=this;l.Inst.init(),Config.Base.baseKeys.cloudStorage&&setTimeout(function(){e.login()},100);var t=this;qg.onShow(function(){console.log("onShow"),t.onShow()}),qg.onHide(function(){console.log("onHide"),t.onHide()}),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){},fail:function(){},complete:function(){}})},n.prototype.login=function(){if(this.userId.startsWith("tempId_")){var e=this;qg.login().then(function(n){console.log("\u767b\u5f55\u6210\u529f");var o=n.data.token;e.getUserInfo(o,function(n,o){if(n){var i="vivo_mini_"+o.openId;f.Inst.updateUserId(i),e.hasLogin=!0,e.userName=o.nickName,e.userAvatar=o.smallAvatar,setTimeout(function(){t.Rank.setUserName(o.nickName,{success:function(e){console.log("setName success",JSON.stringify(e))},fail:function(e){console.log("setName fail, error = "+JSON.stringify(e))}}),t.Rank.setAvatar(o.smallAvatar,{success:function(e){console.log("setHeadImg success",JSON.stringify(e))},fail:function(e){console.log("setHeadImg fail, error = "+JSON.stringify(e))}})},200)}})},function(t){console.log("\u767b\u5f55\u5931\u8d25"+JSON.stringify(t)),e.hasLogin=!0})}else this.hasLogin=!0},n.prototype.getUserInfo=function(e,t){return r(this,void 0,void 0,function(){var n,o,i,r,a,c,l,u;return s(this,function(s){switch(s.label){case 0:for(n={},o=(new Date).getTime(),i="";i.length<32;)i+=Math.floor(10*Math.random());return r="appKey="+Config.VIVO.appKey+"&appSecret="+Config.VIVO.appSecret+"&nonce="+i+"&pkgName="+Config.VIVO.pkgName+"&timestamp="+o+"&token="+e,a=h.Sha256.Sha256(r),n.pkgName=Config.VIVO.pkgName,n.token=e,n.timestamp=o,n.nonce=i,n.signature=a,[4,(c=new h.Http("https://quickgame.vivo.com.cn/api/quickgame/cp/account/userInfo",n)).Send("get","form","application/json")];case 1:return s.sent(),null==c.error?(console.log("getUserInfo res",c.text),l=JSON.parse(c.text),u=l.data,t(!0,u)):(console.warn(c.error),t(!1,c.error)),[2]}})})},n.prototype.vibrate=function(){qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},n.prototype.vibrateLong=function(){qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},n.prototype.quit=function(){qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})},n.prototype.hasIcon=function(){return"true"==cc.sys.localStorage.getItem("HasIcon")},n.prototype.createIcon=function(e){var t=this;qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){setTimeout(function(){t.checkHasIcon(e)},100)},fail:function(t){console.log("installShortcut fail",JSON.stringify(t)),e(!1)},complete:function(){}}):e(!0)},fail:function(e){console.log("fail",e)},complete:function(){}})},n.prototype.checkHasIcon=function(e){qg.hasShortcutInstalled({success:function(t){0==t?(e(!1),cc.sys.localStorage.setItem("HasIcon","false"),console.log("\u6ca1\u6709\u56fe\u6807")):(e(!0),cc.sys.localStorage.setItem("HasIcon","true"),console.log("\u5df2\u521b\u5efa\u56fe\u6807"))},fail:function(){},complete:function(){}})},n}(o.SdkBase);e.Sdk=a;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerNativeModelAd=null,t.insertNativeModelAd=null,t.isBannerShow=!1,t}return i(t,e),t.prototype.init=function(){this.initNormalBanner()},t.prototype.reInit=function(){this.init()},t.prototype.showBanner=function(){console.log("showBanner"),this.isBannerShow=!0,this.showBannerNativeModel()},t.prototype.closeBanner=function(){this.isBannerShow=!1,this.closeNormalBanner(),this.closeBannerNative()},t.prototype.showBannerNativeModel=function(){var e=this;qg.createCustomAd&&Config.VIVO.nativeBannerId?(this.closeBannerNative(),setTimeout(function(){try{e.bannerNativeModelAd=qg.createCustomAd({posId:Config.VIVO.nativeBannerId,style:{gravity:"bottom|center"}}),e.bannerNativeModelAd.onError(function(t){console.log("\u6a21\u677fBanner\u5e7f\u544a \u52a0\u8f7d\u9519\u8bef:",JSON.stringify(t)),e.closeBannerNative(),e.showNormalBanner()}),e.bannerNativeModelAd.onClose(function(){console.log("\u6a21\u677fBanner\u5e7f\u544a \u5173\u95ed"),e.closeBannerNative()}),e.bannerNativeModelAd.show().then(function(){console.log("\u6a21\u677fBanner\u5e7f\u544a \u5c55\u793a\u5b8c\u6210"),e.closeNormalBanner()}).catch(function(t){console.log("\u6a21\u677fBanner\u5e7f\u544a \u5c55\u793a\u5931\u8d25:",JSON.stringify(t)),e.closeBannerNative(),e.showNormalBanner()})}catch(t){console.log("\u6a21\u677fBanner\u5e7f\u544a \u521b\u5efa\u9519\u8bef:",JSON.stringify(t)),e.closeBannerNative(),e.showNormalBanner()}},100)):this.showNormalBanner()},t.prototype.closeBannerNative=function(){this.bannerNativeModelAd&&(this.bannerNativeModelAd.destroy(),this.bannerNativeModelAd=null)},t.prototype.initNormalBanner=function(){var e=this;if(Config.VIVO.bannerId){var t=qg.getSystemInfoSync(),n=Math.floor(t.screenWidth);Config.Base.baseKeys.isBannerUp?this.bannerAD=qg.createBannerAd({posId:Config.VIVO.bannerId,style:{top:0},adIntervals:30}):this.bannerAD=qg.createBannerAd({posId:Config.VIVO.bannerId,adIntervals:30}),this.bannerAD.onLoad(function(){console.log("\u666e\u901aBanner\u5e7f\u544a \u52a0\u8f7d\u6210\u529f")}),this.bannerAD.onClose(function(){console.log("\u666e\u901aBanner\u5e7f\u544a \u5173\u95ed")}),this.bannerAD.onError(function(e){console.log("\u666e\u901aBanner\u5e7f\u544a \u52a0\u8f7d\u9519\u8bef:",JSON.stringify(e))}),this.bannerAD.onSize(function(t){console.log("\u666e\u901aBanner\u5e7f\u544a onSize:",JSON.stringify(t)),Config.Base.baseKeys.isBannerUp&&(e.bannerAD.style.left=.5*(n-t.width))})}},t.prototype.showNormalBanner=function(){this.bannerAD&&this.bannerAD.show().then(function(){console.log("\u666e\u901aBanner\u5e7f\u544a \u5c55\u793a\u5b8c\u6210")}).catch(function(e){console.log("\u666e\u901aBanner\u5e7f\u544a \u5c55\u793a\u5931\u8d25",JSON.stringify(e))})},t.prototype.closeNormalBanner=function(){var e=null;this.bannerAD&&(e=this.bannerAD.hide()),e&&e.then(function(){console.log("\u666e\u901aBanner\u5e7f\u544a \u5173\u95ed\u6210\u529f")}).catch(function(e){console.log("\u666e\u901aBanner\u5e7f\u544a \u5173\u95ed\u5f02\u5e38",JSON.stringify(e))})},t.prototype.showInsert=function(e){Config.VIVO.nativeInsertId?this.showInsertNativeModel():this.showInsertNormal(e)},t.prototype.showInsertNativeModel=function(e){var t=this;qg.createCustomAd?(this.bannerNativeModelAd&&this.closeBannerNative(),this.insertNativeModelAd&&this.closeInsertNative(),setTimeout(function(){try{var n=qg.getSystemInfoSync();n.screenWidth<n.screenHeight?t.insertNativeModelAd=qg.createCustomAd({posId:Config.VIVO.nativeInsertId,style:{top:n.windowHeight/3}}):t.insertNativeModelAd=qg.createCustomAd({posId:Config.VIVO.nativeInsertId,style:{top:n.windowHeight/8,left:n.windowWidth/4}}),t.insertNativeModelAd.onError(function(n){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u9519\u8bef:",JSON.stringify(n)),t.closeInsertNative(),t.showInsertNormal(e)}),t.insertNativeModelAd.onClose(function(){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),t.closeInsertNative(),t.isBannerShow&&t.showBannerNativeModel()}),t.insertNativeModelAd.show().then(function(){t.preShowInsertTime=f.Inst.gameTime,console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u5c55\u793a\u6210\u529f")}).catch(function(n){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u5c55\u793a\u5931\u8d25:",JSON.stringify(n)),t.closeInsertNative(),t.showInsertNormal(e)})}catch(o){console.log("\u6a21\u677f\u63d2\u5c4f\u5e7f\u544a \u521b\u5efa\u9519\u8bef:",JSON.stringify(o)),t.closeInsertNative(),t.showInsertNormal(e)}},100)):this.showInsertNormal(e)},t.prototype.closeInsertNative=function(){this.insertNativeModelAd&&(this.insertNativeModelAd.destroy(),this.insertNativeModelAd=null)},t.prototype.showInsertNormal=function(){var e=this;Config.VIVO.insertId&&(this.insertAD=qg.createInterstitialAd({posId:Config.VIVO.insertId}),this.insertAD.show().then(function(){e.preShowInsertTime=f.Inst.gameTime,console.log("\u666e\u901a\u63d2\u5c4f\u5e7f\u544a \u5c55\u793a\u6210\u529f")}).catch(function(t){console.log("\u666e\u901a\u63d2\u5c4f\u5e7f\u544a \u5c55\u793a\u5931\u8d25",JSON.stringify(t)),e.isBannerShow&&e.showBannerNativeModel()}),this.insertAD.onLoad(function(){console.log("\u666e\u901a\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u6210\u529f")}),this.insertAD.onClose(function(){console.log("\u666e\u901a\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),e.isBannerShow&&e.showBannerNativeModel()}),this.insertAD.onError(function(t){console.log("\u666e\u901a\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u9519\u8bef",JSON.stringify(t)),e.isBannerShow&&e.showBannerNativeModel()}))},t.prototype.canShowVideo=function(){return!0},t.prototype.showVideo=function(e){if(Config.VIVO.videoId){var t=this;this.videoCallback=e,this.videoAD=qg.createRewardedVideoAd({posId:Config.VIVO.videoId}),this.videoAD.load(),f.Inst.pauseMusic(),cc.director.pause(),this.videoAD.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),t.videoAD.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(e){f.Inst.resumeMusic(),cc.director.resume(),console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(e))})}),this.videoAD.onError(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),f.Inst.resumeMusic(),cc.director.resume(),t.videoCallback&&t.videoCallback(n.AdsCode.error)}),this.videoAD.onClose(function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5173\u95ed",JSON.stringify(e)),f.Inst.resumeMusic(),cc.director.resume(),t.videoCallback&&(e&&e.isEnded?t.videoCallback(n.AdsCode.finish):t.videoCallback(n.AdsCode.cancel),t.videoCallback=null)})}else e&&e(n.AdsCode.error)},t}(o.AdsBase);e.Ads=c;var l=function(){function e(){this.bannerAD=null,this.portalAD=null}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;setTimeout(function(){e.initBoxPortal()},500)},e.prototype.showBoxBanner=function(){if(console.log("showBoxBanner"),cc.sys.platform==cc.sys.VIVO_GAME&&Config.VIVO.boxBannerId){this.bannerAD&&(this.bannerAD.offLoad(),this.bannerAD.offClose(),this.bannerAD.offError(),this.bannerAD.destroy()),this.bannerAD=qg.createBoxBannerAd({posId:Config.VIVO.boxBannerId});var e=this;setTimeout(function(){e.bannerAD.show()},500),this.bannerAD.onLoad(function(){}),this.bannerAD.onClose(function(){console.log("boxBanner onClose")}),this.bannerAD.onError(function(e){e&&console.log("boxBanner onError",JSON.stringify(e))})}},e.prototype.closeBoxBanner=function(){console.log("closeBoxBanner"),cc.sys.platform==cc.sys.VIVO_GAME&&(this.bannerAD?this.bannerAD.destroy():console.log("boxBanner null"))},e.prototype.initBoxPortal=function(){if(cc.sys.platform==cc.sys.VIVO_GAME)if(qg.createBoxPortalAd){if(Config.VIVO.boxPortalId){var e=this;this.portalAD=qg.createBoxPortalAd({posId:Config.VIVO.boxPortalId,image:"",marginTop:200}),this.portalAD.onError(function(e){console.log("\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e))}),this.portalAD.onClose(function(){e.portalAD.isDestroyed||e.portalAD.show()})}}else console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},e.prototype.showBoxPortal=function(){console.log("showBoxPortal"),cc.sys.platform==cc.sys.VIVO_GAME&&(this.portalAD?this.portalAD.show().then(function(){console.log("show success")}):console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"))},e}();e.Extend=l}(e.VIVO||(e.VIVO={})),function(e){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var e=this;setTimeout(function(){e.login()},500);var t=this;qg.onShow(function(){console.log("onShow"),t.onShow()}),qg.onHide(function(){console.log("onHide"),t.onHide()}),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){console.log("setKeepScreenOn success")},fail:function(){console.log("setKeepScreenOn fail")},complete:function(){console.log("setKeepScreenOn complete")}})},n.prototype.login=function(){var e=this;qg.gameLoginWithReal({forceLogin:1,appid:Config.HUAWEI.appId,success:function(n){if(e.hasLogin=!0,console.log("Game login success:"+JSON.stringify(n)),e.checkChild(),Config.Base.baseKeys.cloudStorage&&e.userId.startsWith("tempId_")){var o="hw_mini_"+n.playerId;f.Inst.updateUserId(o),e.userName=n.displayName,e.userAvatar=n.imageUri,setTimeout(function(){t.Rank.setUserName(n.displayName,{success:function(e){console.log("setUserName success:"+JSON.stringify(e))},fail:function(e){console.log("setUserName fail, error = "+JSON.stringify(e))}}),t.Rank.setAvatar(n.imageUri,{success:function(e){console.log("setAvatar success:"+JSON.stringify(e))},fail:function(e){console.log("setAvatar fail, error = "+JSON.stringify(e))}})},200)}},fail:function(e,t){console.log("game login with real fail:"+JSON.stringify(e)+", code:"+t)}})},n.prototype.checkChild=function(){var e=this,t=(new Date).getTime().toString();qg.submitPlayerEvent({eventId:t,eventType:"GAMEBEGIN",success:function(t){console.log("submitPlayerEvent success:"+JSON.stringify(t)),console.log("\u672a\u6210\u5e74"),e.countChildTime()},fail:function(e,t){console.log("submitPlayerEvent fail:"+e+", code:"+t),console.log("\u5df2\u6210\u5e74")}})},n.prototype.countChildTime=function(){var e=this;this.checkChildTime()||o.Event.emit("OpenChildProtect"),setInterval(function(){e.checkChildTime()?o.Event.emit("CloseChildProtect"):o.Event.emit("OpenChildProtect")},5e3)},n.prototype.checkChildTime=function(){var e=0==(new Date).getDay()||5==(new Date).getDay()||6==(new Date).getDay(),n=-1!=["2021-9-19","2021-9-20","2021-9-21","2021-10-1","2021-10-2","2021-10-3","2021-10-4","2021-10-5","2021-10-6","2021-10-7","2021-12-31","2022-1-1","2022-1-2","2022-1-31","2022-2-1","2022-2-2","2022-2-3","2022-2-4","2022-2-5","2022-2-6","2022-4-3","2022-4-4","2022-4-5","2022-5-1","2022-5-2","2022-5-3","2022-5-4","2022-5-5","2022-6-3","2022-6-4","2022-6-5","2022-9-9","2022-9-10","2022-9-11","2022-10-1","2022-10-2","2022-10-3","2022-10-4","2022-10-5","2022-10-6","2022-10-7"].indexOf(t.Util.Helper.getTodayDate()),o=20==(new Date).getHours();return e&&console.log("\u4eca\u5929\u662f\u4f11\u606f\u65e5"),n&&console.log("\u4eca\u5929\u662f\u8282\u5047\u65e5"),o&&console.log("\u73b0\u5728\u662f\u5f00\u653e\u65f6\u95f4"),(e||n)&&o?(console.log("\u73b0\u5728\u53ef\u4ee5\u73a9\u5566"),!0):(console.log("\u672a\u6210\u5e74\u4e0d\u53ef\u73a9\u65f6\u6bb5"),!1)},n.prototype.vibrate=function(){qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},n.prototype.vibrateLong=function(){qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},n.prototype.quit=function(){qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})},n}(o.SdkBase);e.Sdk=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nativeInsertPre=null,t.nativeDataArr=[],t.nativeIdArr=[],t.nativeAd=null,t.nativeAdInsert=null,t.curNative=null,t.firstGetNativeTime=0,t}return i(t,e),t.prototype.init=function(){this.initNativeInsert(),this.initBanner(),this.initInsert(),this.initVideo(),this.loadNativePre()},t.prototype.loadNativePre=function(){if(!this.nativeInsertPre){var e=this;cc.resources?cc.assetManager.resources.load("SDK/HuaWeiNativeInsert",function(t,n){null==t?e.nativeInsertPre=n:console.log("error",JSON.stringify(t))}):console.log("\u65e0resources\u6587\u4ef6\u5939")}},t.prototype.initBanner=function(){if(Config.HUAWEI.bannerId){var e=qg.getSystemInfoSync(),t=154/720*e.safeArea.width,n=Math.floor(e.safeArea.bottom-t);this.bannerAD=qg.createBannerAd({adUnitId:Config.HUAWEI.bannerId,style:{top:n,left:0,width:-1,height:-2}}),this.bannerAD.onLoad(function(){console.log("banner\u52a0\u8f7d")}),this.bannerAD.onClose(function(){console.log("banner\u5173\u95ed")}),this.bannerAD.onError(function(e){console.log("banner\u9519\u8bef"+JSON.stringify(e))})}},t.prototype.showBanner=function(){var e=this.bannerAD&&this.bannerAD.show();e&&e.then(function(){console.log("\u5c55\u793abanner")}).catch(function(e){console.log("\u5c55\u793abanner\u5f02\u5e38"+JSON.stringify(e))})},t.prototype.closeBanner=function(){this.bannerAD&&this.bannerAD.hide()},t.prototype.destoryBanner=function(){this.bannerAD&&this.bannerAD.destroy()},t.prototype.initInsert=function(){if(Config.HUAWEI.insertId){this.insertAD=qg.createInterstitialAd({adUnitId:Config.HUAWEI.insertId});var e=this;this.insertAD.onLoad(function(t){console.log("insert onLoad "+JSON.stringify(t)),e.isInsertLoaded=!0}),this.insertAD.onError(function(t){console.log("insert onError "+JSON.stringify(t)),e.isInsertLoaded=!1}),this.insertAD.onClose(function(){console.log("insert onClose"),e.preShowInsertTime=f.Inst.gameTime,e.isInsertLoaded=!1,setTimeout(function(){e.insertAD.load()},2e3)}),this.insertAD.onClick(function(){console.log("insert onClick")}),setTimeout(function(){e.insertAD.load()},500)}},t.prototype.showInsert=function(e){if(this.canShowNativeInsert()&&this.isInsertLoaded){if(Math.random()<Config.HUAWEI.nativeInsertRate)return void this.showNativeInsert(e);this.insertAD.show()}else this.canShowNativeInsert()?(this.showNativeInsert(e),this.insertAD?this.isInsertLoaded||this.insertAD.load():this.initInsert()):this.insertAD.show()},t.prototype.initVideo=function(){var e=this;Config.HUAWEI.videoId&&(this.videoAD=qg.createRewardedVideoAd({adUnitId:Config.HUAWEI.videoId,success:function(){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd: success")},fail:function(e,t){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd fail: "+e+","+t)},complete:function(){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd complete")}}),this.videoAD.onLoad(function(){console.log("videoAD.onLoad"),e.isVideoLoaded=!0}),this.videoAD.onError(function(e){f.Inst.resumeMusic(),cc.director.resume(),console.error("videoAD.onError:"+JSON.stringify(e)),e.errCode,e.errMsg}),this.videoAD.onClose(function(t){console.log("videoAD.onClose: "+t.isEnded),e.isVideoLoaded=!1,e.videoAD.load(),f.Inst.resumeMusic(),cc.director.resume(),t.isEnded?e.videoCallback&&e.videoCallback(n.AdsCode.finish):e.videoCallback&&e.videoCallback(n.AdsCode.cancel)}),this.videoAD.load(),this.videoAD.setTagForChildProtection(-1),this.videoAD.setTagForUnderAgeOfPromise(-1),this.videoAD.setAdContentClassification("A"),this.videoAD.setNonPersonalizedAd(0))},t.prototype.canShowVideo=function(){return this.isVideoLoaded||this.videoAD.load(),this.isVideoLoaded},t.prototype.showVideo=function(e){this.isVideoLoaded?(this.videoCallback=e,this.videoAD.show(),f.Inst.pauseMusic(),cc.director.pause()):e&&e(n.AdsCode.error)},t.prototype.initNative=function(){},t.prototype.hasNative=function(){return this.nativeDataArr.length>0||null!=this.curNative},t.prototype.getNative=function(){return(!this.curNative||h.Helper.getCurTimeSecends()-this.firstGetNativeTime>=f.Inst.nativeFreshTime)&&(this.curNative?console.log("\u539f\u751f\u5e7f\u544a\u8fc7\u671f:",h.Helper.getCurTimeSecends()-this.firstGetNativeTime):console.log("\u9996\u6b21\u83b7\u53d6\u539f\u751f\u5e7f\u544a"),this.nativeDataArr.length>0?(this.curNative=this.nativeDataArr.splice(0,1)[0],this.firstGetNativeTime=h.Helper.getCurTimeSecends()):console.log("\u672a\u83b7\u53d6\u5230\u539f\u751f\u5e7f\u544a")),this.curNative},t.prototype.clickNative=function(){console.log("\u70b9\u51fb\u539f\u751f\u5e7f\u544a\uff0c\u5f53\u524d\u539f\u751f\u5e7f\u544a\u7f6e\u7a7a"),this.curNative=null},t.prototype.initNativeInsert=function(){},t.prototype.canShowNativeInsert=function(){return!0},t.prototype.showNativeInsert=function(){this.createNativeInsert()},t.prototype.createNativeInsert=function(){if(this.nativeInsertPre){this.preShowInsertTime=f.Inst.gameTime;var e=cc.instantiate(this.nativeInsertPre);e.getComponent("NativeAd_Huawei_Single").show(),cc.director.getScene().getChildByName("Canvas").addChild(e)}},t}(o.AdsBase);e.Ads=s;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ad=null,t.adId="",t.hasShow=!1,t}return i(t,e),t.prototype.show=function(){this.hasShow?console.log("\u539f\u751f\u5e7f\u544a\u5df2\u5c55\u793a\uff0c\u4e0d\u518d\u91cd\u590d\u5c55\u793a",this.adId):(this.hasShow=!0,console.log("\u539f\u751f\u5e7f\u544a\u5c55\u793a",this.adId),this.ad.reportAdShow({adId:this.adId}))},t.prototype.click=function(){this.ad.reportAdClick({adId:this.adId})},t}(o.NativeBase);e.Native=a}(e.HUAWEI||(e.HUAWEI={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){var e=this;setTimeout(function(){e.login()},500);var t=this;qg.onShow(function(){console.log("onShow"),t.onShow()}),qg.onHide(function(){console.log("onHide"),t.onHide()}),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){console.log("setKeepScreenOn success")},fail:function(){console.log("setKeepScreenOn fail")},complete:function(){console.log("setKeepScreenOn complete")}})},t.prototype.login=function(){var e=this;qg.login({success:function(t){console.log("login success: ",JSON.stringify(t)),e.hasLogin=!0},fail:function(t){console.log("login fail: ",JSON.stringify(t)),e.hasLogin=!1}})},t.prototype.vibrate=function(){qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},t.prototype.vibrateLong=function(){qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},t.prototype.quit=function(){qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})},t}(o.SdkBase);e.Sdk=t;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){},t.prototype.initBanner=function(){var e=this;if(Config.HONOR.bannerId){this.closeBanner();var t=qg.getSystemInfoSync(),n=Math.floor(t.screenWidth*Config.Base.baseKeys.bannerScale);this.bannerAD=qg.createBannerAd({adUnitId:Config.HONOR.bannerId,style:{width:n,gravity:"bottom|center_horizontal"}}),this.bannerAD.onLoad(function(){console.log("banner onLoad"),e.bannerAD.show()}),this.bannerAD.onShow(function(){console.log("banner onShow")}),this.bannerAD.onClose(function(){console.log("banner onClose")}),this.bannerAD.onError(function(e){console.log("banner onError "+JSON.stringify(e))}),this.bannerAD.onResize(function(e){console.log("banner onResize "+JSON.stringify(e))}),setTimeout(function(){e.bannerAD.load()},500)}},t.prototype.showBanner=function(){this.initBanner()},t.prototype.closeBanner=function(){this.bannerAD&&(this.bannerAD.destroy(),this.bannerAD=null)},t.prototype.initInsert=function(){if(Config.HONOR.insertId){this.insertAD=qg.createInterstitialAd({adUnitId:Config.HONOR.insertId});var e=this;this.insertAD.onLoad(function(t){console.log("insert onLoad "+JSON.stringify(t)),e.isInsertLoaded=!0,e.insertAD.show()}),this.insertAD.onError(function(t){console.log("insert onError "+JSON.stringify(t)),e.isInsertLoaded=!1}),this.insertAD.onShow(function(){console.log("insert onShow")}),this.insertAD.onClose(function(){console.log("insert onClose"),e.preShowInsertTime=f.Inst.gameTime,e.isInsertLoaded=!1,setTimeout(function(){e.insertAD.load()},2e3)}),setTimeout(function(){e.insertAD.load()},500)}},t.prototype.showInsert=function(){console.log("showInsert3"),this.initInsert()},t.prototype.initVideo=function(){var e=this;Config.HONOR.videoId&&(this.videoAD=qg.createRewardedVideoAd({adUnitId:Config.HONOR.videoId}),this.videoAD.onLoad(function(){console.log("videoAD.onLoad"),e.isVideoLoaded=!0,e.videoAD.show(),f.Inst.pauseMusic(),cc.director.pause()}),this.videoAD.onShow(function(){console.log("videoAD.onShow")}),this.videoAD.onReward(function(){console.log("videoAD.onReward"),e.videoCallback&&(e.videoCallback(n.AdsCode.finish),e.videoCallback=null)}),this.videoAD.onError(function(e){f.Inst.resumeMusic(),cc.director.resume(),console.error("videoAD.onError:"+JSON.stringify(e))}),this.videoAD.onClose(function(){console.log("videoAD.onClose"),e.isVideoLoaded=!1,e.videoAD.load(),f.Inst.resumeMusic(),cc.director.resume(),e.videoCallback&&(e.videoCallback(n.AdsCode.cancel),e.videoCallback=null)}),this.videoAD.load())},t.prototype.canShowVideo=function(){return!0},t.prototype.showVideo=function(e){this.videoCallback=e,this.initVideo()},t}(o.AdsBase);e.Ads=r}(e.HONOR||(e.HONOR={})),function(e){var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){c.Inst.init();var e=this;qg.onShow(function(){console.log("onShow"),e.onShow()}),qg.onHide(function(){console.log("onHide"),e.onHide()}),qg.setKeepScreenOn({keepScreenOn:!0,success:function(){},fail:function(){},complete:function(){}})},t.prototype.vibrate=function(){qg.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},t.prototype.vibrateLong=function(){qg.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},t.prototype.quit=function(){qg.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){}})},t.prototype.hasIcon=function(){return"true"==cc.sys.localStorage.getItem("HasIcon")},t.prototype.createIcon=function(e){var t=this;qg.hasShortcutInstalled({success:function(n){0==n?qg.installShortcut({success:function(){setTimeout(function(){t.checkHasIcon(e)},100)},fail:function(t){console.log("installShortcut fail",JSON.stringify(t)),e(!1)},complete:function(){}}):e(!0)},fail:function(){},complete:function(){}})},t.prototype.checkHasIcon=function(e){qg.hasShortcutInstalled({success:function(t){0==t?(e(!1),cc.sys.localStorage.setItem("HasIcon","false"),console.log("\u6ca1\u6709\u56fe\u6807")):(e(!0),cc.sys.localStorage.setItem("HasIcon","true"),console.log("\u5df2\u521b\u5efa\u56fe\u6807"))},fail:function(){},complete:function(){}})},t}(o.SdkBase);e.Sdk=r;var s=function(r){function s(){var e=null!==r&&r.apply(this,arguments)||this;return e.nativeInsertPre=null,e.nativeDataArr=[],e.nativeTypeWeight=[6,5,0,1,3,4,2],e.curNative=null,e.firstGetNativeTime=0,e}return i(s,r),s.prototype.init=function(){this.initBanner(),this.initInsert(),this.initVideo()},s.prototype.loadNativePre=function(){if(console.log("xiaomi ads loadNativePre"),!this.nativeInsertPre){var e=this;cc.resources?cc.assetManager.resources.load("SDK/NativeInsert",function(t,n){null==t?e.nativeInsertPre=n:console.log("error",JSON.stringify(t))}):console.log("\u65e0resources\u6587\u4ef6\u5939")}},s.prototype.initBanner=function(){var e=this;if(Config.XIAOMI.bannerId){var t=qg.getSystemInfoSync(),n=Math.floor(t.windowWidth),o=Math.floor(t.windowHeight);this.bannerAD=qg.createBannerAd({adUnitId:Config.XIAOMI.bannerId,style:{left:(n-400)/2,top:o-225,width:400,height:225},adIntervals:30});var i=(n-400)/4;this.bannerAD.style.left=i,this.bannerAD.onLoad(function(){console.log("banner onLoad")}),this.bannerAD.onError(function(e){console.log("banner onError:"+JSON.stringify(e))}),this.bannerAD.onResize(function(t){console.log("banner onResize:"+t.width+","+t.height),e.bannerAD.style.left=.5*(n-e.bannerAD.style.realWidth),e.bannerAD.style.top=o-e.bannerAD.style.realHeight})}},s.prototype.showBanner=function(){console.log("showBanner"),this.bannerAD&&this.bannerAD.show().then(function(){console.log("showBanner success")}).catch(function(e){console.log("showBanner error:"+JSON.stringify(e))})},s.prototype.closeBanner=function(){this.bannerAD&&(console.log("closeBanner"),this.bannerAD.hide())},s.prototype.initInsert=function(){var e=this;console.log("initInsert"),Config.XIAOMI.insertId&&(this.insertAD=qg.createInterstitialAd({adUnitId:Config.XIAOMI.insertId}),this.insertAD.onLoad(function(){console.log("insert onLoad")}),this.insertAD.onError(function(e){console.log("insert error:"+JSON.stringify(e))}),this.insertAD.onClose(function(){e.preShowInsertTime=f.Inst.gameTime,console.log("insert onClose")}))},s.prototype.showInsert=function(){console.log("showInsert");var e=this;setTimeout(function(){e.insertAD?e.insertAD.show():console.log("no insertAd")},500)},s.prototype.initVideo=function(){if(console.log("initVideo"),Config.XIAOMI.videoId){var e=this;this.videoAD=qg.createRewardedVideoAd({adUnitId:Config.XIAOMI.videoId}),this.videoAD.onLoad(function(){e.isVideoLoaded=!0,console.log("videoAd onLoad")}),this.videoAD.onError(function(t){e.isVideoLoaded=!1,console.log("onError",JSON.stringify(t)),e.videoCallback&&e.videoCallback(n.AdsCode.error)}),this.videoAD.onClose(function(t){console.log("video_onClose func+",JSON.stringify(t),JSON.stringify(e.videoCallback)),e.isVideoLoaded=!1,e.videoCallback&&(t&&t.isEnded?(e.videoCallback(n.AdsCode.finish),console.log("isEnded")):(e.videoCallback(n.AdsCode.cancel),console.log("cancel")))})}},s.prototype.canShowVideo=function(){return console.log("Video:"+this.isVideoLoaded),!this.isVideoLoaded&&this.videoAD&&this.videoAD.load(),this.isVideoLoaded},s.prototype.showVideo=function(e){if(console.log("showVideo:fun",JSON.stringify(e)),Config.XIAOMI.videoId){if(this.videoCallback=e,!this.isVideoLoaded)return console.log("not isVideoLoaded"),this.videoCallback(n.AdsCode.error),void this.videoAD.load();this.videoAD?(console.log("show"),this.videoAD.show()):console.log("no Video")}else e&&e(n.AdsCode.error)},s.prototype.initNative=function(){if(console.log("initNative"),Config.XIAOMI.nativeId){var n=this,i=qg.createNativeAd({posId:Config.XIAOMI.nativeId});setTimeout(function(){i.load()},500),setInterval(function(){n.nativeDataArr.length<3?i.load():n.nativeDataArr[2].weight>=3&&(n.nativeDataArr.pop(),i.load())},1e4),setInterval(function(){n.freshNative()},1e3*t.Mgr.Inst.nativeFreshTime);var r=function(e,t){var n=e.weight,o=t.weight;return n<o?-1:n>o?1:0};i.onLoad(function(t){console.log("native onLoad"),t.adList.forEach(function(t){var o=new e.Native;o.ad=i,o.adId=t.adId,o.title=t.title,o.desc=t.desc,o.iconUrl=t.icon,o.imgUrl=t.imgUrlList[0],o.clickBtnTxt=t.clickBtnTxt,o.interactionType=t.interactionType,o.weight=n.nativeTypeWeight[t.interactionType],n.nativeDataArr.push(o),n.nativeDataArr.sort(r),n.curNative||(n.curNative=o)}),o.Event.emit("onGetNativeAd")}),i.onError(function(e){e&&console.log("native onError",JSON.stringify(e))})}},s.prototype.hasNative=function(){return null!=this.curNative},s.prototype.getNative=function(){return this.curNative},s.prototype.freshNative=function(){this.nativeDataArr.length>0&&(this.curNative=this.nativeDataArr.splice(0,1)[0])},s.prototype.clickNative=function(){console.log("\u70b9\u51fb\u539f\u751f\u5e7f\u544a\uff0c\u5f53\u524d\u539f\u751f\u5e7f\u544a\u7f6e\u7a7a")},s.prototype.canShowNativeInsert=function(){return this.hasNative()},s.prototype.showNativeInsert=function(e){var t=this.getNative();t?(this.createNative(t),this.closeBanner()):e&&(e(n.AdsCode.error),e=null)},s.prototype.createNative=function(e){if(this.nativeInsertPre){var t=cc.instantiate(this.nativeInsertPre);t.getComponent("NativeInsertAd").showInsert(e,!0),cc.director.getScene().getChildByName("Canvas").addChild(t)}},s}(o.AdsBase);e.Ads=s;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ad=null,t.adId="",t.hasShow=!1,t}return i(t,e),t.prototype.show=function(){this.hasShow?console.log("\u539f\u751f\u5e7f\u544a\u5df2\u5c55\u793a\uff0c\u4e0d\u518d\u91cd\u590d\u5c55\u793a",this.adId):(this.hasShow=!0,console.log("\u539f\u751f\u5e7f\u544a\u5c55\u793a",this.adId),this.ad.reportAdShow({adId:this.adId}))},t.prototype.click=function(){this.ad.reportAdClick({adId:this.adId}),0==f.Inst.onlineParam.nativeNotFresh&&o.Event.emit("onFreshNativeAdData",this.adId)},t}(o.NativeBase);e.Native=a;var c=function(){function e(){}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.showAd=function(e,t){cc.sys.platform==cc.sys.XIAOMI_GAME&&qg.displayAd&&qg.displayAd({type:e,upid:t,success:function(t){console.log("showBoxAd success, type:"+e+","+JSON.stringify(t))},fail:function(t){console.log("showBoxAd fail, type:"+e+","+JSON.stringify(t))}})},e.prototype.closeAd=function(e){cc.sys.platform==cc.sys.XIAOMI_GAME&&qg.closeAd&&qg.closeAd({type:e,success:function(t){console.log("closeBoxAd success, type:"+e+","+JSON.stringify(t))},fail:function(t){console.log("closeBoxAd fail, type:"+e+","+JSON.stringify(t))}})},e.prototype.showBoxIcon=function(){console.log("showBoxIcon"),Config.XIAOMI.boxIconId&&this.showAd(150,Config.XIAOMI.boxIconId)},e.prototype.closeBoxIcon=function(){console.log("closeBoxIcon"),Config.XIAOMI.boxIconId&&this.closeAd(150)},e.prototype.showBoxBanner=function(){console.log("showBoxBanner"),Config.XIAOMI.boxBannerId&&this.showAd(120,Config.XIAOMI.boxBannerId)},e.prototype.closeBoxBanner=function(){console.log("closeBoxBanner"),Config.XIAOMI.boxBannerId&&this.closeAd(120)},e.prototype.showBoxPortal=function(){console.log("showBoxPortal"),Config.XIAOMI.boxPortalId&&(f.Inst.getAds().checkInsertCDTime()?(f.Inst.getAds().preShowInsertTime=f.Inst.gameTime,this.showAd(100,Config.XIAOMI.boxPortalId)):console.log("\u63d2\u5c4fCD\u4e2d",f.Inst.gameTime-f.Inst.getAds().preShowInsertTime+"/"+f.Inst.insertCDTime))},e.prototype.closeBoxPortal=function(){console.log("closeBoxPortal"),Config.XIAOMI.boxPortalId&&this.closeAd(100)},e.prototype.showBoxDrawer=function(){console.log("showBoxDrawer"),Config.XIAOMI.boxDrawerId&&this.showAd(130,Config.XIAOMI.boxDrawerId)},e.prototype.closeBoxDrawer=function(){console.log("closeBoxDrawer"),Config.XIAOMI.boxDrawerId&&this.closeAd(130)},e}();e.Extend=c}(e.XIAOMI||(e.XIAOMI={})),function(e){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),Object.defineProperty(n.prototype,"isWifi",{get:function(){return parseInt(tt.getSystemInfoSync().wifiSignal)>0},enumerable:!1,configurable:!0}),n.prototype.checkUpdate=function(){if("function"==typeof tt.getUpdateManager){var e=tt.getUpdateManager();e.onCheckForUpdate(function(){}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){})}},n.prototype.init=function(){c.Inst.init(),this._isWifi=parseInt(tt.getSystemInfoSync().wifiSignal)>0;var e=this;tt.onShow(function(n){console.log("onShow"),e.onShow(),"021036"!=n.scene&&"021012"!=n.scene&&"101036"!=n.scene||(c.Inst.isEnterFromSidebar=!0,t.Base.Event.emit("EnterFromCeBain"))}),tt.onHide(function(){console.log("onHide"),e.onHide()}),tt.setKeepScreenOn({keepScreenOn:!0,success:function(){},fail:function(){},complete:function(){}});var n=tt.getLaunchOptionsSync();"021036"!=n.scene&&"021012"!=n.scene&&"101036"!=n.scene||(c.Inst.isEnterFromSidebar=!0),Config.Base.baseKeys.cloudStorage&&this.login()},n.prototype.login=function(){if(null!=c.Inst.openId&&null!=c.Inst.userName)this.hasLogin=!0,d.Local.hasKey("userName")||(console.log("userName \u4e3a\u7a7a, \u8bbe\u7f6e\u4e3a:"+c.Inst.userName),this.userName=c.Inst.userName);else{var e=this;tt.login({success:function(n){if(console.log("login success "+n.code+" "+n.anonymousCode),e.hasLogin=!0,null==c.Inst.openId){var o=f.Inst.userId;o=o.replace("tempId_",""),c.Inst.setOpenId(o);var i="tt_mini_"+o;f.Inst.updateUserId(i)}e.hasLogin=!0,tt.getUserInfo({success:function(n){console.log("getUserInfo \u8c03\u7528\u6210\u529f",n.userInfo);var o=n.userInfo;c.Inst.setUserName(o.nickName),e.userName=o.nickName,e.userAvatar=o.avatarUrl,setTimeout(function(){t.Rank.setUserName(o.nickName,{success:function(e){console.log("setUserName success",JSON.stringify(e))},fail:function(e){console.log("setUserName fail, error = "+JSON.stringify(e))}});var e=o.avatarUrl;console.log("info.avatarUrl",o.avatarUrl),e.endsWith(".image")&&(e=e.replace(".image",".png")),console.log("avatarUrl",e),t.Rank.setAvatar(e,{success:function(e){console.log("setAvatar success",JSON.stringify(e))},fail:function(e){console.log("setAvatar fail, error = "+JSON.stringify(e))}})},200)},fail:function(e){console.log("getUserInfo \u8c03\u7528\u5931\u8d25",e.errMsg)}})},fail:function(t){console.log("login fail :",t),e.hasLogin=!1}})}},n.prototype.promo=function(e,t){"ios"!==tt.getSystemInfoSync().platform?tt.showMoreGamesModal({appLaunchOptions:[{appId:Config.TT.appId,query:"source="+e.key,extraData:{}}],success:function(e){console.log("success",e.errMsg),t&&(t(!0),t=null)},fail:function(e){console.log("fail",e.errMsg),t&&(t(!1),t=null)}}):t&&(t(!1),t=null)},n.prototype.vibrate=function(){tt.vibrateShort({success:function(){},fail:function(){}})},n.prototype.vibrateLong=function(){tt.vibrateLong({success:function(){},fail:function(){}})},n.prototype.quit=function(){tt.exitMiniProgram({success:function(e){console.log("\u8c03\u7528\u6210\u529f",e.data)},fail:function(e){console.log("\u8c03\u7528\u5931\u8d25",e.errMsg)}})},n}(o.SdkBase);e.Sdk=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isBannerReady=!1,t.showBannerNow=!1,t.targetBannerAdWidth=0,t}return i(t,e),t.prototype.init=function(){var e=this;setTimeout(function(){e.initBanner(),e.initVideo()},500)},t.prototype.bannerLoad=function(){console.log("banner onLoad"),this.isBannerReady=!0,this.showBannerNow&&this.bannerAD.show().then(function(){console.log("showBanner success")}).catch(function(e){console.log("showBanner error",JSON.stringify(e))})},t.prototype.bannerResize=function(e){var t=tt.getSystemInfoSync();this.targetBannerAdWidth!=e.width&&(this.targetBannerAdWidth=e.width,this.bannerAD.style.top=t.windowHeight-e.height,this.bannerAD.style.left=(t.windowWidth-e.width)/2)},t.prototype.bannerError=function(e){this.isBannerReady=!1,console.log("banner onError",JSON.stringify(e))},t.prototype.initBanner=function(e){if(void 0===e&&(e=!1),console.log("initBanner"),tt.createBannerAd&&Config.TT.bannerId){this.bannerAD&&(this.bannerAD.offLoad(this.bannerLoad.bind(this)),this.bannerAD.offError(this.bannerError.bind(this)),this.bannerAD.offResize(this.bannerResize.bind(this)),this.bannerAD.destroy(),this.bannerAD=null);var t=tt.getSystemInfoSync();this.targetBannerAdWidth=Math.floor(t.windowWidth);var n=Math.floor(t.windowHeight);this.bannerAD=tt.createBannerAd({adUnitId:Config.TT.bannerId,adIntervals:30,style:{width:this.targetBannerAdWidth,top:n-this.targetBannerAdWidth/2.85}}),this.bannerAD.onLoad(this.bannerLoad.bind(this)),this.bannerAD.onError(this.bannerError.bind(this)),this.bannerAD.onResize(this.bannerResize.bind(this))}},t.prototype.showBanner=function(){console.log("showBanner"),this.bannerAD?this.isBannerReady?this.bannerAD.show().then(function(){console.log("showBanner success")}).catch(function(e){console.log("showBanner error",JSON.stringify(e))}):(console.log("banner is not ready"),this.showBannerNow=!0,this.initBanner()):(this.showBannerNow=!0,this.initBanner())},t.prototype.closeBanner=function(){console.log("closeBanner"),this.bannerAD?this.bannerAD.hide():this.initBanner()},t.prototype.showInsert=function(){var e=this;tt.createInterstitialAd&&Config.TT.insertId&&(this.insertAD=tt.createInterstitialAd({adUnitId:Config.TT.insertId}),this.insertAD.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.insertAD.onError(function(e){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))}),this.insertAD.onClose(function(){e.preShowInsertTime=f.Inst.gameTime,console.log("insert \u5e7f\u544a\u5173\u95ed"),setTimeout(function(){e.insertAD.load()},200)}),setTimeout(function(){e.insertAD.load().then(function(){e.insertAD.show()}).catch(function(e){console.log(e)})},500))},t.prototype.initVideo=function(){var e=this;if(tt.createRewardedVideoAd&&Config.TT.videoId){var t=this;this.videoAD=tt.createRewardedVideoAd({adUnitId:Config.TT.videoId}),this.videoAD.onLoad(function(){console.log("Video onLoad"),e.isVideoLoaded=!0}),this.videoAD.onError(function(e){f.Inst.resumeMusic(),cc.director.resume(),console.log("Video onError",JSON.stringify(e))}),this.videoAD.onClose(function(e){f.Inst.resumeMusic(),cc.director.resume(),e&&e.isEnded||void 0===e?t.videoCallback(n.AdsCode.finish):t.videoCallback(n.AdsCode.cancel),t.videoCallback=void 0})}},t.prototype.canShowVideo=function(){return console.log("canShowVideo:"+this.isVideoLoaded),!this.isVideoLoaded&&this.videoAD?this.videoAD.load():this.videoAD||this.initVideo(),this.isVideoLoaded},t.prototype.showVideo=function(e){console.log("showVideo"),this.videoCallback=e;var t=this;this.videoAD?this.canShowVideo()?this.videoAD.show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u5c55\u793a"),f.Inst.pauseMusic(),cc.director.pause()}).catch(function(){t.videoCallback&&(t.videoCallback(n.AdsCode.error),t.videoCallback=null)}):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null):(this.initVideo(),this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null))},t}(o.AdsBase);e.Ads=s;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recordPath=void 0,t.recorder=null,t.surpportRecord=!1,t.isClipRecord=!1,t}return i(t,e),t.prototype.init=function(){var e=this;tt.showShareMenu(),tt.onShareAppMessage(function(){return{title:Config.TT.shareTitle,imageUrl:Config.TT.shareImageUrl}}),tt.onShow(function(e){console.log("onShow ",JSON.stringify(e))}),tt.onHide(function(){console.log("onHide")}),setTimeout(function(){if("function"==typeof tt.getGameRecorderManager){e.surpportRecord=!0,e.recorder=tt.getGameRecorderManager();var t=e;e.recorder.onStart(function(){console.log("recorder onStart")}),e.recorder.onStop(function(e){console.log("recorder onStop"),t.isClipRecord?t.recorder.clipVideo({path:e.videoPath,success:function(e){t.recordPath=e.videoPath,console.log("recordPath:",t.recordPath)}}):(t.recordPath=e.videoPath,console.log("recordPath:",t.recordPath))}),e.recorder.onError(function(e){console.log("recorder onError",e),t.recordPath=void 0})}else e.surpportRecord=!1},500)},t.prototype.shareNormal=function(e){tt.shareAppMessage({title:Config.TT.shareTitle,imageUrl:Config.TT.shareImageUrl,templateId:Config.TT.shareTemplateId,success:function(){console.log("share success"),e&&e(n.ShareCode.success)},fail:function(t){console.log("share fail:",JSON.stringify(t)),e&&e(n.ShareCode.fail)}})},t.prototype.startRecord=function(e){void 0===e&&(e=-1),this.surpportRecord&&((e<0||e<120)&&(e=120),this.recorder.start({duration:e}))},t.prototype.recordClip=function(e,t){void 0===e&&(e=3),void 0===t&&(t=3),this.recorder.recordClip({timeRange:[e,t]})},t.prototype.stopRecord=function(e){void 0===e&&(e=!1),this.surpportRecord&&(console.log("stopRecord"),this.recorder.stop())},t.prototype.canShare=function(){return!(!this.surpportRecord||null==this.recordPath)},t.prototype.share=function(e){this.surpportRecord?null!=this.recordPath?(console.log("recordPath:",this.recordPath),tt.shareAppMessage({channel:"video",title:Config.TT.shareTitle,desc:Config.TT.shareDesc,imageUrl:Config.TT.shareImageUrl,templateId:Config.TT.shareTemplateId,query:"",extra:{videoPath:this.recordPath,videoTopics:Config.TT.shareTopics,hashtag_list:Config.TT.shareTopics,withVideoId:!0,createChallenge:!0},success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01"),tt.reportAnalytics("ShareVideo",{action:"success"}),e&&e(n.ShareCode.success)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25\uff01",t),t.errMsg.includes("shareAppMessage:fail video file is too short")?(tt.reportAnalytics("ShareVideo",{action:"fail"}),e&&e(n.ShareCode.tooShort)):t.errMsg.includes("shareAppMessage:fail video duration is too short")?(tt.reportAnalytics("ShareVideo",{action:"fail"}),e&&e(n.ShareCode.tooShort)):t.errMsg.includes("shareAppMessage:fail")?(tt.reportAnalytics("ShareVideo",{action:"fail"}),e&&e(n.ShareCode.fail)):t.errMsg.includes("shareAppMessage:cancel")&&(tt.reportAnalytics("ShareVideo",{action:"cancel"}),e&&e(n.ShareCode.cancel))}})):(console.log("recordPath is null"),e&&e(n.ShareCode.pathNull)):e&&e(n.ShareCode.error)},t}(o.ShareBase);e.Share=a;var c=function(){function e(){this._isExistSidebar=!1,this.isEnterFromSidebar=!1}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openId",{get:function(){return d.Local.hasKey("ttOpenId")?d.Local.getStorage("ttOpenId"):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userName",{get:function(){return d.Local.hasKey("ttUserName")?d.Local.getStorage("ttUserName"):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExistSidebar",{get:function(){return this._isExistSidebar},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;tt.checkScene({scene:"sidebar",success:function(t){console.log("check scene success: ",t.isExist),e._isExistSidebar=t.isExist},fail:function(e){console.log("check scene fail:",e)}})},e.prototype.jumpToSidebar=function(e){tt.navigateToScene({scene:"sidebar",success:function(){console.log("navigate to scene success"),e&&(e(!0),e=null)},fail:function(t){console.log("navigate to scene fail: ",t),e&&(e(!1),e=null)}})},e.prototype.setOpenId=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&d.Local.setStorage("ttOpenId",e)},e.prototype.setUserName=function(e){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&d.Local.setStorage("ttUserName",e)},Object.defineProperty(e.prototype,"platformName",{get:function(){return tt.getSystemInfoSync().appName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDouYin",{get:function(){return"Douyin"==tt.getSystemInfoSync().appName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDouYinLite",{get:function(){return"douyin_lite"==tt.getSystemInfoSync().appName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAttention",{get:function(){return!this.isDouYin||(d.Local.hasKey("hasAttention")?"true"==d.Local.getStorage("hasAttention"):(d.Local.setStorage("hasAttention","false"),!1))},set:function(e){this.isDouYin?d.Local.setStorage("hasAttention",e?"true":"false"):d.Local.setStorage("hasAttention","true")},enumerable:!1,configurable:!0}),e.prototype.openAttention=function(){this.isDouYin&&!this.hasAttention&&tt.openAwemeUserProfile()},e}();e.Extend=c}(e.TT||(e.TT={})),function(e){var a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){u.Inst.init(),this.checkUpdate();var e=wx.getEnterOptionsSync();console.log("onEnter",JSON.stringify(e)),e.scene&&1014==e.scene&&setTimeout(function(){t.Mgr.Inst.event("onEnterFromNotice"),console.log("onEnterFromNotice")},3e3);var n=this;wx.onShow(function(e){console.log("onShow"),n.onShow(),e.scene&&1014==e.scene&&t.Mgr.Inst.event("onShowFromNotice")}),wx.onHide(function(){console.log("onHide"),n.onHide()}),wx.setKeepScreenOn({keepScreenOn:!0})},n.prototype.checkUpdate=function(){if("function"==typeof wx.getUpdateManager){var e=wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log("onCheckForUpdate: "+e.hasUpdate)}),e.onUpdateReady(function(){console.log("onUpdateReady"),e.applyUpdate()}),e.onUpdateFailed(function(){console.error("onUpdateFailed")})}},n.prototype.login=function(e){if(null!=u.Inst.openId)this.hasLogin=!0,null==u.Inst.userName?this.getUserName():d.Local.hasKey("userName")||(console.log("userName \u4e3a\u7a7a, \u8bbe\u7f6e\u4e3a:"+u.Inst.userName),this.userName=u.Inst.userName),e&&(e(),e=null);else{var t=this;wx.login({success:function(n){console.log("\u767b\u5f55\u6210\u529f",JSON.stringify(n)),t.getOpenId(n.code,{success:function(n){console.log("getOpenId success",JSON.stringify(n));var o=n.openid;u.Inst.setOpenId(o);var i="wx_mini_"+o;f.Inst.updateUserId(i),t.hasLogin=!0,t.getUserName(e)},fail:function(e){console.log("getOpenId fail, error = "+JSON.stringify(e))}}),t.getUserName(e)},fail:function(n){console.log("login fail :",n),t.hasLogin=!1,e&&(e(),e=null)}})}},n.prototype.getUserName=function(e){var n=this;wx.getUserProfile({desc:"\u83b7\u53d6\u6635\u79f0\u3001\u5934\u50cf\u4fe1\u606f",success:function(o){console.log("getUserProfile success"+JSON.stringify(o));var i=o.userInfo;u.Inst.setUserName(i.nickName),n.userName=i.nickName,n.userAvatar=i.avatarUrl,e&&(e(),e=null),setTimeout(function(){t.Rank.setUserName(i.nickName,{success:function(e){console.log("setUserName success",JSON.stringify(e))},fail:function(e){console.log("setUserName fail, error = "+JSON.stringify(e))}}),t.Rank.setAvatar(i.avatarUrl,{success:function(e){console.log("setAvatar success",JSON.stringify(e))},fail:function(e){console.log("setAvatar fail, error = "+JSON.stringify(e))}})},200)},fail:function(t){console.log("getUserProfile fail :",JSON.stringify(t)),e&&(e(),e=null)}})},n.prototype.getOpenId=function(e,n){return r(this,void 0,void 0,function(){var o,i,r,a,c;return s(this,function(s){switch(s.label){case 0:return o=n?n.success:null,i=n?n.fail:null,(r={}).gameId=Config.ChannelBase.gameId,r.loginCode=e,[4,(a=new t.Util.Http(t.svrApi+"/wechat/loginForOpenId",r)).Send("post","form")];case 1:return s.sent(),null==a.error?1==(c=JSON.parse(a.text)).status?o&&o(c.data):i&&i(c):(console.warn(a.error),i&&i(a.error)),[2]}})})},n.prototype.promo=function(e,t){wx.navigateToMiniProgram({appId:e.param,path:"?source="+Config.ChannelBase.gameId,extraData:{from:Config.ChannelBase.gameId},success:function(){t&&t(!0)},fail:function(e){console.log(JSON.stringify(e)),t&&t(!1)}})},n.prototype.vibrate=function(){wx.vibrateShort({type:"light",success:function(){},fail:function(){},complete:function(){}})},n.prototype.vibrateLong=function(){wx.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},n.prototype.quit=function(){wx.exitMiniProgram({success:function(){console.log("\u8c03\u7528\u6210\u529f")},fail:function(){console.log("\u8c03\u7528\u5931\u8d25")},complete:function(){console.log("\u8c03\u7528\u5b8c\u6210")}})},n}(o.SdkBase);e.Sdk=a;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerTopPos=-1,t.customCB=[],t}return i(t,e),t.prototype.init=function(){this.initInsert(),this.initVideo(),this.initCustom()},t.prototype.initBanner=function(){var e=this;if(Config.WX.bannerId){this.bannerAD&&this.bannerAD.destroy();var t=wx.getSystemInfoSync(),n=Math.floor(t.windowWidth),o=Math.floor(t.windowHeight),i=300;n<o&&(i=n),i*=Config.Base.baseKeys.bannerScale,this.bannerAD=wx.createBannerAd({adUnitId:Config.WX.bannerId,adIntervals:30,style:{width:i,top:0}});var r=(n-i)/4;this.bannerAD.style.left=r,this.bannerAD.onLoad(function(){console.log("banner onLoad"),e.bannerAD.show().then(function(){console.log("showBanner success")}).catch(function(e){console.log("showBanner error",JSON.stringify(e))})}),this.bannerAD.onError(function(e){console.log("banner onError",JSON.stringify(e))}),this.bannerAD.onResize(function(t){console.log("onResize",t.width,t.height),e.bannerAD.style.left=.5*(n-e.bannerAD.style.realWidth),-1==e.bannerTopPos?e.bannerAD.style.top=o-e.bannerAD.style.realHeight:e.bannerAD.style.top=e.bannerTopPos})}},t.prototype.showBanner=function(e){this.bannerTopPos=e,this.initBanner()},t.prototype.closeBanner=function(){this.bannerAD&&(console.log("closeBanner "),this.bannerAD.hide())},t.prototype.initInsert=function(){var e=this;Config.WX.insertId&&(this.insertAD=wx.createInterstitialAd({adUnitId:Config.WX.insertId}),this.insertAD.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.insertAD.onError(function(e){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))}),this.insertAD.onClose(function(){console.log("insert \u5e7f\u544a\u5173\u95ed"),setTimeout(function(){e.insertAD.load()},200)}),setTimeout(function(){e.insertAD.load()},200))},t.prototype.showInsert=function(e){var t=this;this.insertAD?(console.log("\u663e\u793ainsert "),this.insertAD.show().then(function(){t.preShowInsertTime=f.Inst.gameTime,console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f"),e&&(e(!0),e=null)}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(t)),e&&(e(!1),e=null)})):(this.initInsert(),e&&(e(!1),e=null))},t.prototype.initVideo=function(){if(Config.WX.videoId){var e=this;this.videoAD=wx.createRewardedVideoAd({adUnitId:Config.WX.videoId,multiton:!0}),setTimeout(function(){e.videoAD.load()},500),this.videoAD.onLoad(function(){console.log("Video onLoad"),e.isVideoLoaded=!0}),this.videoAD.onError(function(e){console.log("Video onError",JSON.stringify(e)),f.Inst.resumeMusic(),cc.director.resume()}),this.videoAD.onClose(function(t){f.Inst.resumeMusic(),cc.director.resume(),e.isVideoLoaded=!1,t&&t.isEnded||void 0===t?e.videoCallback(n.AdsCode.finish):e.videoCallback(n.AdsCode.cancel),e.videoCallback=void 0,setTimeout(function(){e.videoAD.load()},500)})}},t.prototype.canShowVideo=function(){return console.log("canShowVideo:"+this.isVideoLoaded),!this.isVideoLoaded&&this.videoAD&&this.videoAD.load(),this.isVideoLoaded},t.prototype.showVideo=function(e){console.log("showVideo"),this.videoCallback=e,this.videoAD?(this.videoAD.show(),cc.director.pause(),f.Inst.pauseMusic()):(this.initVideo(),this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null))},t.prototype.initCustom=function(){for(var e=this,t=function(t){setTimeout(function(){e.createCustom(t)},1e3*Config.WX.customStyle[t][5])},n=0;n<Config.WX.customId.length;n++)t(n)},t.prototype.createCustom=function(e){var t=this,n=wx.getSystemInfoSync(),o=n.windowWidth,i=n.windowHeight;n.statusBarHeight,this.customADs[e]&&(this.customADs[e].offLoad(),this.customADs[e].offError(),this.customADs[e].offClose(),this.customADs[e].offHide(),this.customADs[e]=null);var r=i*Config.WX.customStyle[e][0]+Config.WX.customStyle[e][1]/720*o,s=o*Config.WX.customStyle[e][2]+Config.WX.customStyle[e][3]/720*o;o>i&&(r=i*Config.WX.customStyle[e][0]+Config.WX.customStyle[e][1]/720*i,s=o*Config.WX.customStyle[e][2]+Config.WX.customStyle[e][3]/720*i),-2.1==Config.WX.customStyle[e][4]?s=(o-360)/2:-2.2==Config.WX.customStyle[e][4]?s=(o-324)/2:-2.3==Config.WX.customStyle[e][4]&&(s=(o-288)/2);var a=-1;Config.WX.customStyle[e][4]>0&&(a=Config.WX.customStyle[e][4]/720*o,o>i&&(a=Config.WX.customStyle[e][4]/720*i)),this.customADs[e]=wx.createCustomAd({adUnitId:Config.WX.customId[e],adIntervals:30,style:{top:r,left:s,width:a,fixed:!1}}),this.customADState[e]=!1,this.customADs[e].onLoad(function(){console.log("customAD "+e+" onLoad"),t.customADState[e]=!0}),this.customADs[e].onError(function(n){console.log("customAD "+e+" onError",JSON.stringify(n)),t.customADState[e]=!1,t.customCB[e]&&(t.customCB[e](!1),t.customCB[e]=null),setTimeout(function(){t.createCustom(e)},1e4)}),this.customADs[e].onClose(function(){console.log("customAD "+e+" onClose"),t.customADState[e]=!1,t.customCB[e]&&(t.customCB[e](!0),t.customCB[e]=null),setTimeout(function(){t.createCustom(e)},2e3)}),this.customADs[e].onHide(function(){console.log("customAD "+e+" onHide"),t.customCB[e]&&(t.customCB[e](!0),t.customCB[e]=null)})},t.prototype.hasCustom=function(e){return this.customADState[e]},t.prototype.showCustom=function(e,t){console.log("showCustom "+e),this.customCB[e]=t,this.customADs[e]?this.customADs[e].show():(console.log("customAD "+e+" is null"),this.customCB[e]&&(this.customCB[e](!1),this.customCB[e]=null))},t.prototype.closeCustom=function(e){console.log("closeCustom "+e),this.customADs[e]&&this.customADs[e].hide()},t}(o.AdsBase);e.Ads=c;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){wx.showShareMenu(),wx.onShareAppMessage(function(){return{title:Config.WX.shareTitle,imageUrl:Config.WX.shareImageUrl}})},t.prototype.share=function(e){wx.shareAppMessage({title:Config.WX.shareTitle,imageUrl:Config.WX.shareImageUrl,success:function(){console.log("share success"),e&&e(n.ShareCode.success)},fail:function(t){console.log("share fail:",JSON.stringify(t)),e&&e(n.ShareCode.fail)}})},t}(o.ShareBase);e.Share=l;var u=function(){function e(){this.openData=null,this.shareCallBack=null,this.shareToFriendCallBack=null}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openId",{get:function(){return d.Local.hasKey("wxOpenId")?d.Local.getStorage("wxOpenId"):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userName",{get:function(){return d.Local.hasKey("wxUserName")?d.Local.getStorage("wxUserName"):null},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;wx.onShow(function(t){console.log("onShow ",JSON.stringify(t)),e.shareCallBack&&(e.shareCallBack(),e.shareCallBack=null)}),wx.onShareMessageToFriend(function(t){console.log("onShareMessageToFriend ",JSON.stringify(t)),e.shareToFriendCallBack&&e.shareToFriendCallBack(t.success)})},e.prototype.getSystemInfo=function(){return wx.getSystemInfoSync()},e.prototype.setMessage=function(e){this.openData||(this.openData=wx.getOpenDataContext()),this.openData.postMessage(e)},e.prototype.setShareCallBack=function(e){this.shareCallBack=e},e.prototype.setShareToFriendCallBack=function(e){this.shareToFriendCallBack=e},e.prototype.setOpenId=function(e){console.log("setOpenId",e),cc.sys.platform==cc.sys.WECHAT_GAME&&d.Local.setStorage("wxOpenId",e)},e.prototype.setUserName=function(e){console.log("setUserName",e),cc.sys.platform==cc.sys.WECHAT_GAME&&d.Local.setStorage("wxUserName",e)},e.prototype.openNotice=function(e){if(console.log("openNotice"),cc.sys.platform==cc.sys.WECHAT_GAME)if(Config.WX.hasNotice)if(this.openId){var t=this;console.log("requestSubscribeMessage"),wx.requestSubscribeMessage({tmplIds:[Config.WX.noticeId],success:function(n){console.log("requestSubscribeMessage success",JSON.stringify(n)),"accept"==n[Config.WX.noticeId]?t._setNotice(t.openId,Config.WX.noticeId,{success:function(t){console.log("setNotice success",JSON.stringify(t)),e(!0)},fail:function(t){console.log("setNotice fail, error = "+JSON.stringify(t)),e(!1)}}):"reject"==n[Config.WX.noticeId]?(console.log("\u7528\u6237\u62d2\u7edd\u4e86\u8ba2\u9605\u6d88\u606f"),e(!1)):(console.log("\u8ba2\u9605\u6d88\u606f\u672a\u77e5\u7ed3\u679c",JSON.stringify(n)),e(!1))},fail:function(e){console.log("requestSubscribeMessage fail",JSON.stringify(e))},complete:function(e){console.log("requestSubscribeMessage complete",JSON.stringify(e))}})}else console.log("\u6ca1\u6709\u83b7\u53d6\u5230openId");else console.log("\u6ca1\u6709\u5f00\u542f hasNotice",Config.WX.hasNotice);else console.log("\u4e0d\u662f\u5fae\u4fe1\u5e73\u53f0")},e.prototype._setNotice=function(e,n,o){return r(this,void 0,void 0,function(){var i,r,a,c,l;return s(this,function(s){switch(s.label){case 0:return console.log("setNotice"),cc.sys.platform!=cc.sys.WECHAT_GAME?[2]:(i=o?o.success:null,r=o?o.fail:null,(a={}).openId=e,a.noticeId=n,a.state=!0,[4,(c=new t.Util.Http(t.svrApi+"/wechat/setNotice",a)).Send("post","form")]);case 1:return s.sent(),null==c.error?1==(l=JSON.parse(c.text)).status?i&&i(l.data):r&&r(l):(console.warn(c.error),r&&r(c.error)),[2]}})})},e.prototype.setNoticeProgress=function(e){console.log("setNoticeProgress",e),cc.sys.platform==cc.sys.WECHAT_GAME?Config.WX.hasNotice?this.openId?this._setNoticeProgress(this.openId,Config.WX.noticeId,e,{success:function(e){console.log("setNoticeProgress success",JSON.stringify(e))},fail:function(e){console.log("setNoticeProgress fail, error = "+JSON.stringify(e))}}):console.log("\u6ca1\u6709\u83b7\u53d6\u5230openId"):console.log("\u6ca1\u6709\u5f00\u542f hasNotice",Config.WX.hasNotice):console.log("\u4e0d\u662f\u5fae\u4fe1\u5e73\u53f0")},e.prototype._setNoticeProgress=function(e,n,o,i){return r(this,void 0,void 0,function(){var r,a,c,l,u;return s(this,function(s){switch(s.label){case 0:return console.log("setNoticeProgress"),cc.sys.platform!=cc.sys.WECHAT_GAME?[2]:(r=i?i.success:null,a=i?i.fail:null,(c={}).openId=e,c.noticeId=n,c.progress=o,[4,(l=new t.Util.Http(t.svrApi+"/wechat/setNoticeProgress",c)).Send("post","form")]);case 1:return s.sent(),null==l.error?1==(u=JSON.parse(l.text)).status?r&&r(u.data):a&&a(u):(console.warn(l.error),a&&a(l.error)),[2]}})})},e}();e.Extend=u}(e.WX||(e.WX={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){a.Inst.init(),this.checkUpdate(),this.login();var e=this;qq.onShow(function(){console.log("onShow"),e.onShow()}),qq.onHide(function(){console.log("onHide"),e.onHide()}),qq.setKeepScreenOn({keepScreenOn:!0})},t.prototype.checkUpdate=function(){if("function"==typeof qq.getUpdateManager){console.log("checkUpdate");var e=qq.getUpdateManager();e.onCheckForUpdate(function(e){console.log("onCheckForUpdate: ",e.hasUpdate)}),e.onUpdateReady(function(){console.log("onUpdateReady"),e.applyUpdate()}),e.onUpdateFailed(function(){console.error("onUpdateFailed")})}},t.prototype.login=function(){var e=this;qq.login({success:function(t){console.log("login success "+t.code),e.hasLogin=!0},fail:function(t){console.log("login fail :",t),e.hasLogin=!1}})},t.prototype.vibrate=function(){qq.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},t.prototype.vibrateLong=function(){qq.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},t.prototype.quit=function(){qq.exitMiniProgram({success:function(){console.log("\u8c03\u7528\u6210\u529f")},fail:function(){console.log("\u8c03\u7528\u5931\u8d25")},complete:function(){console.log("\u8c03\u7528\u5b8c\u6210")}})},t}(o.SdkBase);e.Sdk=t;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){this.initBanner(),this.initInsert(),this.initVideo()},t.prototype.initBanner=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME&&qq.createBannerAd&&Config.QQ.bannerId){this.bannerAD&&this.bannerAD.destroy();var e=qq.getSystemInfoSync(),t={};e.windowWidth<e.windowHeight?(t.width=e.windowWidth,t.height=.25*t.width,t.left=(e.windowWidth-t.width)/2,t.top=e.windowHeight-t.height):(t.width=300,t.height=.25*t.width,t.left=(e.windowWidth-t.width)/2,t.top=e.windowHeight-t.height),this.bannerAD=qq.createBannerAd({adUnitId:Config.QQ.bannerId,style:{left:t.left,width:t.width,top:t.top}}),this.bannerAD.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.bannerAD.onError(function(e){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))});var n=this;this.bannerAD.onResize(function(o){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(o)),o.width>0&&o.height>0&&(t.width=o.width,t.height=o.height,t.left=(e.windowWidth-t.width)/2,t.top=e.windowHeight-t.height,n.bannerAD.style.left!=t.left&&(n.bannerAD.style.left=t.left),n.bannerAD.style.top!=t.top&&(n.bannerAD.style.top=t.top))})}},t.prototype.showBanner=function(){if(this.bannerAD){console.log("\u663e\u793abanner ");try{this.bannerAD.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))})}catch(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))}}else this.initBanner()},t.prototype.closeBanner=function(){this.bannerAD&&(console.log("\u9690\u85cfbanner"),this.bannerAD.hide())},t.prototype.initInsert=function(){var e=this;Config.QQ.insertId&&(this.insertAD=qq.createInterstitialAd({adUnitId:Config.QQ.insertId}),this.insertAD.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.insertAD.onError(function(e){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))}),this.insertAD.onClose(function(){console.log("insert \u5e7f\u544a\u5173\u95ed"),setTimeout(function(){e.insertAD.load()},200)}),setTimeout(function(){e.insertAD.load()},200))},t.prototype.showInsert=function(){var e=this;this.insertAD?(console.log("\u663e\u793ainsert "),this.insertAD.show().then(function(){e.preShowInsertTime=f.Inst.gameTime,console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))})):this.initInsert()},t.prototype.initVideo=function(){var e=this;if(cc.sys.platform==cc.sys.WECHAT_GAME&&qq.createRewardedVideoAd&&Config.QQ.videoId){var t=this;this.videoAD=qq.createRewardedVideoAd({adUnitId:Config.QQ.videoId}),this.videoAD.onLoad(function(){e.isVideoLoaded=!0,console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.videoAD.onError(function(e){f.Inst.resumeMusic(),cc.director.resume(),console.log("\u6682\u65e0\u89c6\u9891\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",JSON.stringify(e))}),this.videoAD.onClose(function(o){f.Inst.resumeMusic(),cc.director.resume(),o&&o.isEnded||void 0===o?t.videoCallback(n.AdsCode.finish):t.videoCallback(n.AdsCode.cancel),t.videoCallback=void 0,setTimeout(function(){e.videoAD.load()},200)}),setTimeout(function(){e.videoAD.load()},200)}},t.prototype.canShowVideo=function(){return console.log("\u89c6\u9891\u662f\u5426\u53ef\u7528:"+this.isVideoLoaded),!this.isVideoLoaded&&this.videoAD&&this.videoAD.load(),this.isVideoLoaded},t.prototype.showVideo=function(e){console.log("########## \u5c55\u793a\u89c6\u9891 ##########"),this.videoCallback=e,this.videoAD?(f.Inst.pauseMusic(),cc.director.pause(),this.videoAD.show()):(this.initVideo(),this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null))},t}(o.AdsBase);e.Ads=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){qq.showShareMenu({showShareItems:["qq","qzone","wechatFriends","wechatMoment"]}),qq.onShareAppMessage(function(){return{title:Config.QQ.shareTitle,imageUrl:Config.QQ.shareImageUrl}})},t.prototype.share=function(e){var t=(new Date).getTime(),o=!1;qq.shareAppMessage({title:Config.QQ.shareTitle,imageUrl:Config.QQ.shareImageUrl,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01"),o=!0},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25:",JSON.stringify(e)),o=!1},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210",o),e&&setTimeout(function(){if(o){var i=(new Date).getTime();console.log(i,t),i-t>=3e3?(console.log("\u65f6\u95f4\u8d85\u8fc73\u79d2"),e(n.ShareCode.success)):(console.log("\u65f6\u95f4\u5c11\u4e8e3\u79d2"),e(n.ShareCode.fail))}else e(n.ShareCode.fail)},500)}})},t}(o.ShareBase);e.Share=s;var a=function(){function e(){this.appBoxAD=void 0,this.boxReady=!1}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initAppBox()},e.prototype.initAppBox=function(){var e=this;this.appBoxAD=qq.createAppBox({adUnitId:Config.QQ.appBoxId}),setTimeout(function(){e.appBoxAD.load()},200);var t=this;this.appBoxAD.onClose(function(){t.boxReady=!1,setTimeout(function(){e.appBoxAD.load()},200)})},e.prototype.appBoxReady=function(){return!0},e.prototype.showAppBox=function(){this.appBoxAD&&this.appBoxAD.show()},e}();e.Extend=a}(e.QQ||(e.QQ={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){var e=ks.getLaunchOptionsSync();console.log("onEnter",JSON.stringify(e));var t=this;ks.onShow(function(){console.log("onShow"),t.onShow()}),ks.onHide(function(){console.log("onHide"),t.onHide()})},t.prototype.login=function(e){var t=this;ks.login({success:function(){t.hasLogin=!0},fail:function(){t.hasLogin=!1},complete:function(){console.log("login complete"),e&&(e(),e=null)}})},t.prototype.vibrate=function(){ks.vibrateShort({type:"light",success:function(){},fail:function(){},complete:function(){}})},t.prototype.vibrateLong=function(){ks.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},t.prototype.quit=function(){ks.exitMiniProgram({success:function(){console.log("\u8c03\u7528\u6210\u529f")},fail:function(){console.log("\u8c03\u7528\u5931\u8d25")},complete:function(){console.log("\u8c03\u7528\u5b8c\u6210")}})},t}(o.SdkBase);e.Sdk=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerTopPos=-1,t}return i(t,e),t.prototype.init=function(){this.initInsert(),this.initVideo()},t.prototype.initInsert=function(){Config.KS.insertId&&(this.insertAD=ks.createInterstitialAd({adUnitId:Config.KS.insertId}),this.insertAD.onError(function(e){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))}),this.insertAD.onClose(function(){console.log("insert \u5e7f\u544a\u5173\u95ed")}))},t.prototype.showInsert=function(e){var t=this;this.insertAD?(console.log("\u663e\u793ainsert "),this.insertAD.show().then(function(){t.preShowInsertTime=f.Inst.gameTime,console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f"),e&&(e(!0),e=null)}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(t)),-10005===t.code&&console.log("\u8868\u660e\u5f53\u524dapp\u7248\u672c\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a\uff0c\u53ef\u4ee5\u63d0\u9192\u7528\u6237\u5347\u7ea7app\u7248\u672c"),e&&(e(!1),e=null)})):(this.initInsert(),e&&(e(!1),e=null))},t.prototype.initVideo=function(){if(Config.KS.videoId){var e=this;this.videoAD=ks.createRewardedVideoAd({adUnitId:Config.KS.videoId}),this.videoAD.onLoad(function(){console.log("Video onLoad"),e.isVideoLoaded=!0}),this.videoAD.onError(function(e){console.log("Video onError",JSON.stringify(e)),f.Inst.resumeMusic(),cc.director.resume()}),this.videoAD.onClose(function(t){f.Inst.resumeMusic(),cc.director.resume(),e.isVideoLoaded=!1,t&&t.isEnded||void 0===t?e.videoCallback(n.AdsCode.finish):e.videoCallback(n.AdsCode.cancel),e.videoCallback=void 0})}},t.prototype.canShowVideo=function(){return!0},t.prototype.showVideo=function(e){console.log("showVideo"),this.videoCallback=e,this.videoAD?(this.videoAD.show().then(function(){console.log("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u89c6\u9891\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))}),cc.director.pause(),f.Inst.pauseMusic()):(this.initVideo(),this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null))},t}(o.AdsBase);e.Ads=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.share=function(e){ks.shareAppMessage({templateId:Config.KS.shareTemplateId,success:function(){console.log("share success"),e&&e(n.ShareCode.success)},fail:function(t){console.log("share fail:",JSON.stringify(t)),e&&e(n.ShareCode.fail)},complete:function(){console.log("share complete")}})},t}(o.ShareBase);e.Share=s}(e.KS||(e.KS={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){my.setKeepScreenOn({keepScreenOn:!0,success:function(e){console.log(e)},fail:function(e){console.log(e)}});var e=this;my.onShow(function(t){console.log("onShow",JSON.stringify(t)),e.onShow()}),my.onHide(function(){console.log("onHide"),e.onHide()})},t.prototype.vibrate=function(){my.vibrateShort({success:function(){},fail:function(){}})},t.prototype.vibrateLong=function(){my.vibrateLong({success:function(){},fail:function(){}})},t.prototype.promo=function(e,t){my.navigateToMiniProgram({appId:e.param,path:"?source="+Config.ChannelBase.gameId,extraData:{from:Config.ChannelBase.gameId},success:function(){t&&t(!0)},fail:function(e){console.log(JSON.stringify(e)),t&&t(!1)}})},t.prototype.quit=function(){my.exitProgram()},t}(o.SdkBase);e.Sdk=t;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){this.initVideo()},t.prototype.initBanner=function(){var e=this;if(Config.Alipay.bannerId){this.bannerAD&&this.bannerAD.destroy();var t,n=my.getSystemInfoSync(),o=Math.floor(n.windowWidth),i=Math.floor(n.windowHeight),r=750;r=o<i?o:i,t=.25*(r*=Config.Base.baseKeys.bannerScale),this.bannerAD=my.createBannerAd({adUnitId:Config.Alipay.bannerId,style:{left:.5*(o-r),top:i-t,width:r}}),this.bannerAD.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.bannerAD.show().then(function(){return console.log("banner \u5e7f\u544a\u663e\u793a")})}),this.bannerAD.onError(function(e){console.log(e)})}},t.prototype.showBanner=function(){this.initBanner()},t.prototype.closeBanner=function(){this.bannerAD&&(console.log("closeBanner "),this.bannerAD.destroy())},t.prototype.initInsert=function(){var e=this;Config.Alipay.insertId&&(this.insertAD=my.createInterstitialAd({adUnitId:Config.Alipay.insertId}),this.insertAD.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.preShowInsertTime=f.Inst.gameTime,e.insertAD.show().catch(function(e){console.error(e)}),e.insertCallback&&(e.insertCallback(),e.insertCallback=null)}),this.insertAD.onError(function(e){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u9519\u8bef\uff1a",JSON.stringify(e))}),this.insertAD.onClose(function(){console.log("insert \u5e7f\u544a\u5173\u95ed")}))},t.prototype.showInsert=function(e){this.insertCallback=e,this.initInsert()},t.prototype.initVideo=function(){if(Config.Alipay.videoId){var e=this;this.videoAD=my.createRewardedAd({adUnitId:Config.Alipay.videoId}),setTimeout(function(){e.videoAD.load()},500),this.videoAD.onLoad(function(){console.log("Video onLoad"),e.isVideoLoaded=!0}),this.videoAD.onError(function(e){console.log("Video onError",JSON.stringify(e)),f.Inst.resumeMusic(),cc.director.resume()}),this.videoAD.onClose(function(t){f.Inst.resumeMusic(),cc.director.resume(),e.isVideoLoaded=!1,t&&t.isEnded||void 0===t?e.videoCallback(n.AdsCode.finish):e.videoCallback(n.AdsCode.cancel),e.videoCallback=void 0,setTimeout(function(){e.videoAD.load()},500)})}},t.prototype.canShowVideo=function(){return console.log("canShowVideo:"+this.isVideoLoaded),!this.isVideoLoaded&&this.videoAD&&this.videoAD.load(),this.isVideoLoaded},t.prototype.showVideo=function(e){console.log("showVideo"),this.videoCallback=e,this.videoAD?(this.videoAD.show(),cc.director.pause(),f.Inst.pauseMusic()):(this.initVideo(),this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null))},t}(o.AdsBase);e.Ads=r}(e.Alipay||(e.Alipay={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){gamebox.setKeepScreenOn({keepScreenOn:!0})},t.prototype.vibrate=function(){gamebox.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},t.prototype.vibrateLong=function(){gamebox.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},t.prototype.quit=function(){gamebox.exitMiniProgram({success:function(){console.log("\u8c03\u7528\u6210\u529f")},fail:function(){console.log("\u8c03\u7528\u5931\u8d25")},complete:function(){console.log("\u8c03\u7528\u5b8c\u6210")}})},t}(o.SdkBase);e.Sdk=t;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){},t.prototype.showBanner=function(){var e=gamebox.getSystemInfoSync().pixelRatio,t=Math.floor(gamebox.getSystemInfoSync().windowWidth*e*.9),n=Math.floor(gamebox.getSystemInfoSync().windowWidth*e*.05);gamebox.getSystemInfoSync().windowWidth>gamebox.getSystemInfoSync().windowHeight&&(t=Math.floor(gamebox.getSystemInfoSync().windowWidth*e*.5),n=Math.floor(gamebox.getSystemInfoSync().windowWidth*e*.25));var o=Math.floor(.2*t),i=Math.floor(gamebox.getSystemInfoSync().windowHeight*e)-o;this.bannerAD=gamebox.createBannerAd({style:{width:t,height:o,left:n,top:i}}),this.bannerAD.show().catch(function(e){console.info("Banner \u5e7f\u544a\u663e\u793a\u5931\u8d25",e)}),this.bannerAD.onLoad(function(e){console.info("Banner onLoad"+e)}),this.bannerAD.onError(function(e){console.info("Banner onError"+e)})},t.prototype.closeBanner=function(){this.bannerAD&&this.bannerAD.hide()},t.prototype.showInsert=function(){var e=this,t=gamebox.createInterstitialAd();t.show().catch(function(){t.load().then(function(){return t.show()}).catch(function(e){console.log("InterstitialAd \u5e7f\u544a\u663e\u793a\u5931\u8d25",e)})}),t.onLoad(function(e){console.info("InterstitialAd onLoad"+e)}),t.onClose(function(t){console.info("InterstitialAd onClose"+t),e.preShowInsertTime=f.Inst.gameTime}),t.onError(function(e){console.info("InterstitialAd onError"+e)})},t.prototype.initVideo=function(){var e=this,t=this;this.videoAD=gamebox.createRewardedVideoAd(),this.videoAD.onLoad(function(t){console.log("Video onLoad",JSON.stringify(t)),e.isVideoLoaded=!0}),this.videoAD.onError(function(e){console.log("Video onError",JSON.stringify(e)),t.videoCallback&&(t.videoCallback(n.AdsCode.error),t.videoCallback=void 0)}),this.videoAD.onClose(function(o){console.log("Video onClose",JSON.stringify(o)),e.isVideoLoaded=!1,t.videoCallback&&(t.videoCallback(n.AdsCode.cancel),t.videoCallback=void 0)}),this.videoAD.onCompleted(function(e){console.log("Video onCompleted",JSON.stringify(e)),t.videoCallback(n.AdsCode.finish),t.videoCallback=void 0}),this.videoAD.load(),this.videoAD.show().catch(function(){e.videoAD.load().then(function(){return e.videoAD.show()}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25",e),t.videoCallback&&(t.videoCallback(n.AdsCode.error),t.videoCallback=void 0)})})},t.prototype.canShowVideo=function(){return!0},t.prototype.showVideo=function(e){console.log("showVideo"),this.videoCallback=e,this.initVideo()},t}(o.AdsBase);e.Ads=r;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.st=1,t}return i(t,e),t.prototype.init=function(){},t.prototype.share=function(e){console.log("Box4399 ShareClick"),this.st++,gamebox.shareMessageToFriend({type:this.st%2,success:function(){console.log("share success"),e&&e(n.ShareCode.success)},fail:function(){console.log("share fail"),e&&e(n.ShareCode.fail)},complete:function(){console.log("share complete")}})},t}(o.ShareBase);e.Share=s}(e.BOX4399||(e.BOX4399={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){document.title=Config.Base.baseKeys.appName},t.prototype.login=function(){h5api.login(function(e){console.log("login:",JSON.stringify(e))})},t.prototype.isLogin=function(){return h5api.isLogin()},t.prototype.submitRanking=function(e){h5api.submitRanking(e,function(e){console.log("submitRanking:",JSON.stringify(e))})},t.prototype.showRanking=function(){h5api.showRanking()},t}(o.SdkBase);e.Sdk=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isCanPlayAd=!1,t}return i(t,e),t.prototype.init=function(){var e=this;setTimeout(function(){e.loadVideo()},1e3)},t.prototype.loadVideo=function(){var e=this;h5api&&h5api.canPlayAd(function(t){console.log("canPlayAd",JSON.stringify(t)),e.isCanPlayAd=t.canPlayAd})},t.prototype.canShowVideo=function(){return console.log("canShowVideo:"+this.isCanPlayAd),this.isCanPlayAd,!0},t.prototype.showVideo=function(e){var t=this;h5api.playAd(function(o){console.log("showVideo data:"+JSON.stringify(o)),1e4===o.code?(console.log("start video"),cc.director.pause()):10001===o.code?(console.log("end video"),cc.director.resume(),t.loadVideo(),e&&e(n.AdsCode.finish)):(cc.director.resume(),t.loadVideo(),console.log("error video"),e&&e(n.AdsCode.error))})},t}(o.AdsBase);e.Ads=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){},t.prototype.share=function(e){h5api.share(),e&&e(n.ShareCode.success)},t}(o.ShareBase);e.Share=s}(e.M4399||(e.M4399={}))}(c=t.Mini||(t.Mini={})),function(e){window.AndroidCallback=function(e,t){console.log("AndroidCallback: "+e+" | "+t),"Banner"==e||("Insert"==e?"Close"==t&&(f.Inst.getAds().preShowInsertTime=f.Inst.gameTime,f.Inst.getAds().insertCallback&&(f.Inst.getAds().insertCallback(n.AdsCode.finish),f.Inst.getAds().insertCallback=null)):"Video"==e&&setTimeout(function(){"Show"==t?(f.Inst.pauseMusic(),cc.director.pause()):"Complete"==t?f.Inst.getAds().videoCallback&&(f.Inst.getAds().videoCallback(n.AdsCode.finish),f.Inst.getAds().videoCallback=null):"Close"==t&&(f.Inst.resumeMusic(),cc.director.resume(),f.Inst.getAds().videoCallback&&(f.Inst.getAds().videoCallback(n.AdsCode.cancel),f.Inst.getAds().videoCallback=null))},50))};var t=function(){function e(){this.bridgeClass="com.util.Bridge"}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.callFunction=function(e){this.Call("CallFunction","(Ljava/lang/String;)V",e)},e.prototype.callFunctionWithParam=function(e,t){this.Call("CallFunctionWithParam","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},e.prototype.callFunctionForBool=function(e){return"true"==this.CallForValue("CallFunctionForValue","(Ljava/lang/String;)Ljava/lang/String;",e)},e.prototype.callFunctionForValue=function(e){return this.CallForValue("CallFunctionForValue","(Ljava/lang/String;)Ljava/lang/String;",e)},e.prototype.Call=function(e,t){for(var n,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var r=this.bridgeClass;"undefined"!=typeof jsb?(n=jsb.reflection).callStaticMethod.apply(n,a([r,e,t],o)):console.log("jsb \u4e3a\u7a7a")},e.prototype.CallForValue=function(e,t){for(var n,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var r=this.bridgeClass;if("undefined"!=typeof jsb){var s=(n=jsb.reflection).callStaticMethod.apply(n,a([r,e,t],o));return s}return console.log("jsb \u4e3a\u7a7a"),""},e}();e.Bridge=t,function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.jump=function(){t.Inst.callFunction("Jump")},n.prototype.rate=function(){t.Inst.callFunction("Rate")},n.prototype.pay=function(e){t.Inst.callFunctionWithParam("Pay",e.toString())},n}(o.SdkBase);e.Sdk=n;var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){t.Inst.callFunction("Init")},n.prototype.reInit=function(){this.init()},n.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},n.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},n.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},n.prototype.showInsert=function(e){this.insertCallback=e,t.Inst.callFunction("ShowInsert")},n.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},n.prototype.canShowInsertNormal=function(){return t.Inst.callFunctionForBool("IsInsertNormalEnable")},n.prototype.showInsertNormal=function(e){this.insertCallback=e,t.Inst.callFunction("ShowInsertNormal")},n.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},n.prototype.showVideo=function(e){this.videoCallback=e,t.Inst.callFunction("ShowVideo")},n}(o.AdsBase);e.Ads=r}(e.OPPO||(e.OPPO={})),function(e){var r=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype.init=function(){t.Inst.callFunction("Init")},o.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},o.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},o.prototype.canShowIcon=function(){return t.Inst.callFunctionForBool("IsIconEnable")},o.prototype.showIcon=function(){t.Inst.callFunction("ShowIcon")},o.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},o.prototype.showInsert=function(e){this.insertCallback=e,this.canShowInsert()?t.Inst.callFunction("ShowInsert"):this.insertCallback&&(this.insertCallback(n.AdsCode.error),this.insertCallback=null)},o.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},o.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},o.prototype.showVideo=function(e){this.videoCallback=e,this.canShowVideo()?t.Inst.callFunction("ShowVideo"):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null)},o}(o.AdsBase);e.Ads=r}(e.VIVO||(e.VIVO={})),function(e){var r=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype.init=function(){t.Inst.callFunction("Init")},o.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},o.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},o.prototype.canShowIcon=function(){return t.Inst.callFunctionForBool("IsIconEnable")},o.prototype.showIcon=function(){t.Inst.callFunction("ShowIcon")},o.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},o.prototype.showInsert=function(e){this.insertCallback=e,this.canShowInsert()?t.Inst.callFunction("ShowInsert"):this.insertCallback&&(this.insertCallback(n.AdsCode.error),this.insertCallback=null)},o.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},o.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},o.prototype.showVideo=function(e){this.videoCallback=e,this.canShowVideo()?t.Inst.callFunction("ShowVideo"):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null)},o}(o.AdsBase);e.Ads=r}(e.HW||(e.HW={})),function(e){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.quit=function(){t.Inst.callFunction("Quit")},n.prototype.pay=function(e){t.Inst.callFunctionWithParam("Pay",e.toString())},n.prototype.vibrate=function(){t.Inst.callFunction("Vibrate")},n.prototype.vibrateLong=function(){t.Inst.callFunction("VibrateLong")},n}(o.SdkBase);e.Sdk=r;var s=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype.init=function(){t.Inst.callFunction("Init")},o.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},o.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},o.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},o.prototype.showInsert=function(e){this.insertCallback=e,this.canShowInsert()?t.Inst.callFunction("ShowInsert"):this.insertCallback&&(this.insertCallback(n.AdsCode.error),this.insertCallback=null)},o.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},o.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},o.prototype.showVideo=function(e){this.videoCallback=e,this.canShowVideo()?t.Inst.callFunction("ShowVideo"):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null)},o}(o.AdsBase);e.Ads=s}(e.Honor||(e.Honor={})),function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.rate=function(){t.Inst.callFunction("Rate")},n}(o.SdkBase);e.Sdk=n;var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){t.Inst.callFunction("Init")},n.prototype.reInit=function(){this.init()},n.prototype.showBanner=function(){console.log("showBanner"),t.Inst.callFunction("ShowBanner")},n.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},n.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},n.prototype.showInsert=function(e){this.insertCallback=e,t.Inst.callFunction("ShowInsert")},n.prototype.closeInsert=function(){},n.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},n.prototype.showVideo=function(e){this.videoCallback=e,t.Inst.callFunction("ShowVideo")},n}(o.AdsBase);e.Ads=r}(e.XIAOMI||(e.XIAOMI={})),function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.jump=function(){t.Inst.callFunction("Jump")},n.prototype.pay=function(e){t.Inst.callFunctionWithParam("Pay",e.toString())},n}(o.SdkBase);e.Sdk=n;var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){t.Inst.callFunction("Init")},n.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},n.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},n.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},n.prototype.showInsert=function(e){this.insertCallback=e,t.Inst.callFunction("ShowInsert")},n.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},n.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},n.prototype.showVideo=function(e){this.videoCallback=e,t.Inst.callFunction("ShowVideo")},n}(o.AdsBase);e.Ads=r}(e.M4399||(e.M4399={})),function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){t.Inst.callFunction("Init")},n.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},n.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},n.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},n.prototype.showInsert=function(e){this.insertCallback=e,t.Inst.callFunction("ShowInsert")},n.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},n.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},n.prototype.showVideo=function(e){this.videoCallback=e,t.Inst.callFunction("ShowVideo")},n}(o.AdsBase);e.Ads=n}(e.TT||(e.TT={})),function(e){var n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.showInsertTime=0,t}return i(n,e),n.prototype.init=function(){t.Inst.callFunction("Init")},n.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertVideoEnable")},n.prototype.showInsert=function(e){f.Inst.isAdOpen||h.Helper.getCurTimeSecends()-this.showInsertTime>=60?(this.showInsertTime=h.Helper.getCurTimeSecends(),this.insertCallback=e,t.Inst.callFunction("ShowInsertVideo")):console.log("\u63d2\u5c4f\u95f4\u9694\u65f6\u95f4\u8fc7\u77ed:",h.Helper.getCurTimeSecends()-this.showInsertTime)},n.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},n.prototype.showVideo=function(e){this.videoCallback=e,t.Inst.callFunction("ShowVideo")},n}(o.AdsBase);e.Ads=n}(e.M233||(e.M233={})),function(e){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.quit=function(){t.Inst.callFunction("Quit")},n.prototype.rate=function(){t.Inst.callFunction("Rate")},n.prototype.vibrate=function(){t.Inst.callFunction("Vibrate")},n.prototype.vibrateLong=function(){t.Inst.callFunction("VibrateLong")},n}(o.SdkBase);e.Sdk=r;var s=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype.init=function(){f.Inst.insertCDTime=60},o.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},o.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},o.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},o.prototype.showInsert=function(e){this.insertCallback=e,this.canShowInsert()?t.Inst.callFunction("ShowInsert"):this.insertCallback&&(this.insertCallback(n.AdsCode.error),this.insertCallback=null)},o.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},o.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},o.prototype.showVideo=function(e){this.videoCallback=e,this.canShowVideo()?t.Inst.callFunction("ShowVideo"):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null)},o}(o.AdsBase);e.Ads=s}(e.GOOGLE||(e.GOOGLE={})),function(e){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.quit=function(){t.Inst.callFunction("Quit")},n.prototype.rate=function(){t.Inst.callFunction("Rate")},n.prototype.vibrate=function(){t.Inst.callFunction("Vibrate")},n.prototype.vibrateLong=function(){t.Inst.callFunction("VibrateLong")},n}(o.SdkBase);e.Sdk=r;var s=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype.init=function(){f.Inst.insertCDTime=60},o.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},o.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},o.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},o.prototype.showInsert=function(e){this.insertCallback=e,this.canShowInsert()?t.Inst.callFunction("ShowInsert"):this.insertCallback&&(this.insertCallback(n.AdsCode.error),this.insertCallback=null)},o.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},o.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},o.prototype.showVideo=function(e){this.videoCallback=e,this.canShowVideo()?t.Inst.callFunction("ShowVideo"):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null)},o}(o.AdsBase);e.Ads=s}(e.MI_OVERSEA||(e.MI_OVERSEA={})),function(e){var r=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return i(o,e),o.prototype.init=function(){t.Inst.callFunction("Init")},o.prototype.showBanner=function(){t.Inst.callFunction("ShowBanner")},o.prototype.closeBanner=function(){t.Inst.callFunction("CloseBanner")},o.prototype.canShowInsert=function(){return t.Inst.callFunctionForBool("IsInsertEnable")},o.prototype.showInsert=function(e){this.insertCallback=e,this.canShowInsert()?t.Inst.callFunction("ShowInsert"):this.insertCallback&&(this.insertCallback(n.AdsCode.error),this.insertCallback=null)},o.prototype.closeInsert=function(){t.Inst.callFunction("CloseInsert")},o.prototype.canShowVideo=function(){return t.Inst.callFunctionForBool("IsVideoEnable")},o.prototype.showVideo=function(e){this.videoCallback=e,this.canShowVideo()?t.Inst.callFunction("ShowVideo"):this.videoCallback&&(this.videoCallback(n.AdsCode.error),this.videoCallback=null)},o}(o.AdsBase);e.Ads=r}(e.MMY||(e.MMY={}))}(l=t.Android||(t.Android={})),function(e){window.IosCallback=function(e,t){console.log("IosCallback: "+e+" | "+t),"Banner"==e||("Insert"==e?"Close"==t&&(f.Inst.getAds().preShowInsertTime=f.Inst.gameTime,f.Inst.getAds().insertCallback&&(f.Inst.getAds().insertCallback(n.AdsCode.finish),f.Inst.getAds().insertCallback=null)):"Video"==e?"Show"==t?(cc.director.pause(),f.Inst.pauseMusic()):"Complete"==t?f.Inst.getAds().videoCallback&&(f.Inst.getAds().videoCallback(n.AdsCode.finish),f.Inst.getAds().videoCallback=null):"Close"==t&&(cc.director.resume(),f.Inst.resumeMusic(),f.Inst.getAds().videoCallback&&(f.Inst.getAds().videoCallback(n.AdsCode.cancel),f.Inst.getAds().videoCallback=null)):"Splash"==e&&("Show"==t?(cc.director.pause(),f.Inst.pauseMusic()):"Close"==t&&(cc.director.resume(),f.Inst.resumeMusic())))};var r=function(){function e(){this.bridgeClass="SDKOC"}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.call=function(e,t){return"undefined"!=typeof jsb?(t||(t=""),jsb.reflection.callStaticMethod(this.bridgeClass,"callFunction:WithParam:",e,t)):(console.log("jsb \u4e3a\u7a7a"),"")},e}();e.Bridge=r;var s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){setTimeout(function(){"true"==r.Inst.call("IsChina")?t.Mgr.Inst.event("IsChinaPlayer"):t.Mgr.Inst.event("IsForeignPlayer"),t.Mgr.Inst.event("PlayerCountry_"+r.Inst.call("GetCountryId"))},1e3)},n.prototype.rate=function(){r.Inst.call("Rate",Config.IOS.appleId)},n.prototype.promo=function(e,t){r.Inst.call("Promo",e.param),t&&t(!0)},n.prototype.vibrate=function(){r.Inst.call("Vibrate")},n.prototype.vibrateLong=function(){r.Inst.call("VibrateLong")},n}(o.SdkBase);e.Sdk=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(){f.Inst.insertCDTime=60},t.prototype.showBanner=function(){this.closeBanner(),r.Inst.call("ShowBanner")},t.prototype.closeBanner=function(){r.Inst.call("CloseBanner")},t.prototype.canShowInsert=function(){return"true"==r.Inst.call("IsInsertEnable")},t.prototype.showInsert=function(e){this.insertCallback=e,r.Inst.call("ShowInsert")},t.prototype.canShowVideo=function(){return"true"==r.Inst.call("IsVideoEnable")},t.prototype.showVideo=function(e){this.videoCallback=e,r.Inst.call("ShowVideo")},t}(o.AdsBase);e.Ads=a}(u=t.Ios||(t.Ios={})),function(t){var o=function(){function t(){this.hasInit=!1,this.uma=null}return Object.defineProperty(t,"Inst",{get:function(){return null==t._INST&&(t._INST=new t),t._INST},enumerable:!1,configurable:!0}),t.prototype.init=function(t,o){void 0===o&&(o="default"),cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.HUAWEI_GAME||cc.sys.platform==cc.sys.XIAOMI_GAME?this.uma=e("./Script/Analytics/uma_qg"):cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.uma=e("./Script/Analytics/uma_tt"):cc.sys.platform==cc.sys.WECHAT_GAME&&(o==n.Channel.wx?this.uma=e("./Script/Analytics/uma_wx"):o==n.Channel.qq&&(this.uma=e("./Script/Analytics/uma_qq"))),this.uma&&(cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.HUAWEI_GAME||cc.sys.platform==cc.sys.XIAOMI_GAME?this.uma.init({appKey:t,useOpenid:!1,debug:!1}):cc.sys.platform!=cc.sys.BYTEDANCE_GAME&&cc.sys.platform!=cc.sys.WECHAT_GAME||this.uma.init({appKey:t,autoGetOpenid:!0,debug:!1,uploadUserInfo:!0})),this.hasInit=!0},t.prototype.event=function(e,t){this.hasInit&&this.uma&&(t?this.uma.trackEvent(e,JSON.stringify(t)):this.uma.trackEvent(e))},t.prototype.levelStart=function(e){this.hasInit&&this.uma&&this.uma.stage.onStart({stageId:"stage"+e,stageName:"\u7b2c"+e+"\u5173"})},t.prototype.levelFinish=function(e){this.hasInit&&this.uma&&this.uma.stage.onEnd({stageId:"stage"+e,stageName:"\u7b2c"+e+"\u5173",event:"complete"})},t.prototype.levelFail=function(e){this.hasInit&&this.uma&&this.uma.stage.onEnd({stageId:"stage"+e,stageName:"\u7b2c"+e+"\u5173",event:"fail"})},t}();t.UmaSdk=o;var i=function(){function e(){this.hasInit=!1,this.td=null}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t){void 0===t&&(t="default"),this.td=window.TDAPP,this.td&&this.td.init(e,t),this.hasInit=!0},e.prototype.event=function(e,t){this.hasInit&&this.td&&(t?this.td.onEvent(e,"",t):this.td.onEvent(e))},e.prototype.levelStart=function(e){this.hasInit&&this.td&&(this.td.onEvent("levelStart","",{levelId:e}),this.td.onEvent("levelStart_"+e))},e.prototype.levelFinish=function(e){this.hasInit&&this.td&&(this.td.onEvent("levelFinish","",{levelId:e}),this.td.onEvent("levelFinish_"+e))},e.prototype.levelFail=function(e){this.hasInit&&this.td&&(this.td.onEvent("levelFail","",{levelId:e}),this.td.onEvent("levelFail_"+e))},e}();t.TDSdk=i;var r=function(){function e(){this.hasInit=!1}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(e,t){void 0===t&&(t="default"),this.hasInit||(this.hasInit=!0,cc.sys.platform==cc.sys.ANDROID&&l.Bridge.Inst.callFunctionWithParam("umengInit",e+"|"+t))},e.prototype.event=function(e){this.hasInit&&(cc.sys.platform==cc.sys.ANDROID?l.Bridge.Inst.callFunctionWithParam("umengEvent",e):cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||u.Bridge.Inst.call("Event",e))},e.prototype.levelStart=function(e){this.hasInit&&(cc.sys.platform==cc.sys.ANDROID?l.Bridge.Inst.callFunctionWithParam("umengLevelStart","Level_"+e):cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||u.Bridge.Inst.call("LevelStart","Level_"+e))},e.prototype.levelFinish=function(e){this.hasInit&&(cc.sys.platform==cc.sys.ANDROID?l.Bridge.Inst.callFunctionWithParam("umengLevelFinish","Level_"+e):cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||u.Bridge.Inst.call("LevelFinish","Level_"+e))},e.prototype.levelFail=function(e){this.hasInit&&(cc.sys.platform==cc.sys.ANDROID?l.Bridge.Inst.callFunctionWithParam("umengLevelFail","Level_"+e):cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD||u.Bridge.Inst.call("LevelFail","Level_"+e))},e}();t.UmengSdk=r}(p=t.Analytics||(t.Analytics={})),function(e){var t=function(){function e(e,t){var n=this;void 0===t&&(t=null),this._form=null,this._url=null,this._promise=null,this._resolve=null,this._error=null,this._text=null,this.logError=!0,this.logText=!1,this._url=e,this._form=t,this._promise=new Promise(function(e){n._resolve=e})}return Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),e.prototype.LogError=function(){this.logError&&null!=this.error&&console.log("error -> "+this.error)},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),e.prototype.LogText=function(){this.logText&&null!=this.text&&console.log("text -> "+this.text)},e.prototype.Send=function(e,t,n){var o=this;void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),null==e&&(e="get");var i=this._url,r=null;switch(t){case"form":for(var s=Object.keys(this._form),a=0;a<s.length;a++){var c=s[a];0==a?r=c+"="+this._form[c]:r+="&"+c+"="+this._form[c]}break;case"json":r=JSON.stringify(this._form)}switch(e){case"get":null!=r&&(i+="?"+r)}var l=new XMLHttpRequest;switch(l.onreadystatechange=function(){4==l.readyState&&(200==l.status?o._text=l.responseText:o._error=l.status+" - "+l.responseText,o._resolve(),o.LogError(),o.LogText())},"form"==t&&(r=encodeURI(r)),l.open(e,i,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n&&l.setRequestHeader("Content-Type",n),e){case"get":l.send();break;case"post":l.send(r)}return this._promise},e}();e.Http=t;var o=function(){function e(){}return e.formatTimeFull=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=e-3600*t-60*n;return t.toString()+":"+("0"+n).substr(-2)+":"+("0"+o).substr(-2)},e.formatTimeFull_M=function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t),o=Math.floor(100*(e-Math.floor(e)));return("0"+t).substr(-2)+":"+("0"+n).substr(-2)+":"+("0"+o).substr(-2)},e.formatTimeFullShort=function(e){var t=Math.floor(e/60),n=e-60*t;return("0"+t).substr(-2)+":"+("0"+n).substr(-2)},e.getCurTimeSecends=function(){var e=new Date;return Math.floor(e.getTime()/1e3)},e.getTodayDate=function(){var e=new Date;return e.setTime(e.getTime()),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.lerp=function(e,t,n){return e+(t-e)*((n=n<0?0:n)>1?1:n)},e.ToDegree=function(){return 180/Math.PI},e.getSinValue=function(e){return Math.sin(e*Math.PI/180)},e.getCosValue=function(e){return Math.cos(e*Math.PI/180)},e.getSpeedY=function(e,t){return e=Math.abs(e),0===t?e:90===t?0:180===t?-e:270===t?0:this.getCosValue(t)*e},e.getSpeedX=function(e,t){return e=Math.abs(e),0===t?0:90===t?e:180===t?0:270===t?-e:this.getSinValue(t)*e},e.getAngleByVector=function(e){if(0===e.y)return e.x<0?270:e.x>0?90:0;if(0===e.x){if(e.y>=0)return 0;if(e.y<0)return 180}var t=Math.abs(e.y)/Math.abs(e.x),n=0;return e.y>0&&e.x<0?n=270+180*Math.atan(t)/Math.PI:e.y>0&&e.x>0?n=90-180*Math.atan(t)/Math.PI:e.y<0&&e.x<0?n=270-180*Math.atan(t)/Math.PI:e.y<0&&e.x>0&&(n=90+180*Math.atan(t)/Math.PI),n},e.getVectorByAngle=function(e){if(0==e)return cc.v2(0,0);if(90==e)return cc.v2(1,0);if(180==e)return cc.v2(0,-1);if(270==e)return cc.v2(-1,0);var t=this.getSpeedX(1,e),n=this.getSpeedY(1,e);return cc.v2(t,n)},Object.defineProperty(e,"getScreenAspectRatio",{get:function(){return cc.winSize.height/cc.winSize.width},enumerable:!1,configurable:!0}),e.isGif=function(e){return-1!=e.indexOf(".gif")},e.loadImage=function(e,t,o,i){if(void 0===i&&(i=!0),i&&(e.spriteFrame=null),e&&t){if(f.Inst.curChannel==n.Channel.tt){var r=t.indexOf("?from=");-1!=r&&(t=t.slice(0,r))}var s=".jpeg";f.Inst.curChannel==n.Channel.hw&&(s=".image"),cc.assetManager?cc.assetManager.loadRemote(t,{ext:s},function(t,n){if(null==t){n&&(n.packable=!1);var i=new cc.SpriteFrame(n);e.spriteFrame=i}else console.log("loadRemote error",JSON.stringify(t));o&&o(null==t)}):cc.loader.load({url:t,type:s},function(t,n){if(null==t){n&&(n.packable=!1);var i=new cc.SpriteFrame(n);e.spriteFrame=i}else console.log("loadRemote error",JSON.stringify(t));o&&o(null==t)})}},e.ascallToUtf8=function(e){return(e=(e=e.replace(/(\\u)(\w{1,4})/gi,function(e){return String.fromCharCode(parseInt(escape(e).replace(/(%5Cu)(\w{1,4})/g,"$2"),16))})).replace(/(& #x)(\w{1,4});/gi,function(e){return String.fromCharCode(parseInt(escape(e).replace(/(%26%23x)(\w{1,4})(%3B)/g,"$2"),16))})).replace(/(& #)(\d{1,6});/gi,function(e){return String.fromCharCode(parseInt(escape(e).replace(/(%26%23)(\d{1,6})(%3B)/g,"$2")))})},e}();e.Helper=o;var i=function(){function e(){}return e.Sha256=function(e){return function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function o(e,t){return e>>>t}function i(e,t,n){return e&t^~e&n}function r(e,t,n){return e&t^e&n^t&n}function s(e){return n(e,2)^n(e,13)^n(e,22)}function a(e){return n(e,6)^n(e,11)^n(e,25)}function c(e){return n(e,7)^n(e,18)^o(e,3)}return function(e){for(var t="0123456789abcdef",n="",o=0;o<4*e.length;o++)n+=t.charAt(e[o>>2]>>8*(3-o%4)+4&15)+t.charAt(e[o>>2]>>8*(3-o%4)&15);return n}(function(e,l){var u,p,h,d,f,g,y,v,m,S,I,C,A,D=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],b=new Array(64);for(e[l>>5]|=128<<24-l%32,e[15+(l+64>>9<<4)]=l,m=0;m<e.length;m+=16){for(u=_[0],p=_[1],h=_[2],d=_[3],f=_[4],g=_[5],y=_[6],v=_[7],S=0;S<64;S++)b[S]=S<16?e[S+m]:t(t(t(n(A=b[S-2],17)^n(A,19)^o(A,10),b[S-7]),c(b[S-15])),b[S-16]),I=t(t(t(t(v,a(f)),i(f,g,y)),D[S]),b[S]),C=t(s(u),r(u,p,h)),v=y,y=g,g=f,f=t(d,I),d=h,h=p,p=u,u=t(I,C);_[0]=t(u,_[0]),_[1]=t(p,_[1]),_[2]=t(h,_[2]),_[3]=t(d,_[3]),_[4]=t(f,_[4]),_[5]=t(g,_[5]),_[6]=t(y,_[6]),_[7]=t(v,_[7])}return _}(function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),8*e.length))}(e)},e}();e.Sha256=i}(h=t.Util||(t.Util={})),function(e){var n=function(){function e(){}return e.hasKey=function(e){var t=cc.sys.localStorage.getItem(e);return null!=t&&""!=t},e.getStorage=function(e,t){return!this.hasKey(e)&&t&&this.setStorage(e,t),cc.sys.localStorage.getItem(e)},e.setStorage=function(e,t){cc.sys.localStorage.setItem(e,t)},e.removeStorage=function(e){cc.sys.localStorage.removeItem(e)},e.clearStorage=function(){cc.sys.localStorage.clear()},e}();e.Local=n;var o=function(){function e(){}return e.getStorage=function(e){try{var t=e.key,n=e.success,o=e.fail,i={key:t};this.reqStgData("getStorage",i,n,o)}catch(r){console.log("getStorage error",r)}},e.setStorage=function(e){try{var t=e.key,n=e.value,o=e.success,i=e.fail,r={};r[t]=n;var s=r;this.reqStgData("setStorage",s,o,i)}catch(a){console.log("setStorage error",a)}},e.removeStorage=function(e){try{var t=e.key,n=e.success,o=e.fail,i={key:t};this.reqStgData("removeStorage",i,n,o)}catch(r){console.log("removeStorage error",r)}},e.clearStorage=function(e){try{var t=e.success,n=e.fail;this.reqStgData("clearStorage",{},t,n)}catch(o){console.log("clearStorage error",o)}},e.updateUserId=function(e){try{var t=e.newUserId,n=e.success,o=e.fail,i={newUserId:t};this.reqStgData("updateUserId",i,n,o),f.Inst.getSdk().updateUserId(t)}catch(r){console.log("updateStorageUserId error",r)}},e.reqStgData=function(e,n,o,i){return r(this,void 0,void 0,function(){var r,a,c;return s(this,function(s){switch(s.label){case 0:return(r={}).gameId=Config.ChannelBase.gameId,r.userId=f.Inst.userId,r.channel=f.Inst.curChannel,r.data=JSON.stringify(n),[4,(a=new h.Http(t.svrApi+"/storage/"+e,r)).Send("post","form")];case 1:return s.sent(),null==a.error?1==(c=JSON.parse(a.text)).status?o&&o(c.data):i&&i(c):(console.warn(a.error),i&&i(a.error)),[2]}})})},e}();e.Cloud=o}(d=t.Storage||(t.Storage={}));var g=function(){function e(){}return e.setSocre=function(e,t){try{var n=t?t.success:null,o=t?t.fail:null,i={score:e};this.reqRankData("setScore",i,n,o)}catch(r){console.log("setRankSocre error",r)}},e.setUserName=function(e,t){try{var n=t?t.success:null,o=t?t.fail:null,i={userName:e};this.reqRankData("setUserName",i,n,o)}catch(r){console.log("setRankName error",r)}},e.setAvatar=function(e,t){try{var n=t?t.success:null,o=t?t.fail:null,i={avatar:e};this.reqRankData("setAvatar",i,n,o)}catch(r){console.log("setRankAvatar error",r)}},e.getTopRank=function(e,t){void 0===e&&(e=10);try{var n=t?t.success:null,o=t?t.fail:null,i={limit:e};this.reqRankData("getTopRank",i,n,o)}catch(r){console.log("getTopRank error",r)}},e.getPlayerRank=function(e){try{var t=e.success,n=e.fail;this.reqRankData("getPlayerRank",{},t,n)}catch(o){console.log("getPlayerRank error",o)}},e.getNearRank=function(e,t){void 0===e&&(e=5);try{var n=t.success,o=t.fail,i={limit:e};this.reqRankData("getNearRank",i,n,o)}catch(r){console.log("getNearRank error",r)}},e.updateUserId=function(e,t){try{var n=t?t.success:null,o=t?t.fail:null,i={newUserId:e};this.reqRankData("updateUserId",i,n,o),f.Inst.getSdk().updateUserId(e)}catch(r){console.log("updateRankUserId error",r)}},e.setProvinceRank=function(e,t,n){try{var o=n?n.success:null,i=n?n.fail:null,r={levelId:e,provinceId:t};this.reqRankData("setProvinceRank",r,o,i)}catch(s){console.log("setProvinceRank error",s)}},e.getProvinceRank=function(e,t){try{var n=t.success,o=t.fail,i={levelId:e};this.reqRankData("getProvinceRank",i,n,o)}catch(r){console.log("getProvinceRank error",r)}},e.reqRankData=function(e,o,i,a){return r(this,void 0,void 0,function(){var r,c,l,u;return s(this,function(s){switch(s.label){case 0:for(c in(r={}).gameId=Config.ChannelBase.gameId,r.channel=f.Inst.curChannel,r.userId=f.Inst.userId,o)r[c]=o[c];return[4,(l=new h.Http(t.svrApi+"/rank/"+e,r)).Send("post","form")];case 1:return s.sent(),null==l.error?(null,1==(u=f.Inst.curChannel==n.Channel.alipay?l.text:JSON.parse(l.text)).status?i&&i(u.data):a&&a(u)):(console.warn(l.error),a&&a(l.error)),[2]}})})},e}();t.Rank=g;var y=function(){function e(){this.hasInit=!1,this.heartBeatTime=10,this.statKey="sys_stat_"}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e),e._INST},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;if(!this.hasInit){this.hasInit=!0;var n=this.statKey+"active",o=this.statKey+t.Util.Helper.getTodayDate();if(d.Local.hasKey(n)){var i=parseInt(d.Local.getStorage(n));d.Local.hasKey(o)?this.sendStatData("startup",0):(i+=1,d.Local.setStorage(n,i),d.Local.setStorage(o,!0),this.sendStatData("activeUser",i))}else d.Local.setStorage(n,1),d.Local.setStorage(o,!0),this.sendStatData("newUser",1);setInterval(function(){e.sendStatData("heartBeat",e.heartBeatTime)},1e3*this.heartBeatTime)}},e.prototype.sendStatData=function(e,n){return r(this,void 0,void 0,function(){var o,i;return s(this,function(r){switch(r.label){case 0:return(o={}).gameId=Config.ChannelBase.gameId,o.channel=f.Inst.curChannel,o.type=e,o.param=n,[4,(i=new h.Http(t.svrApi+"/stat/base",o)).Send("post","form")];case 1:return r.sent(),null==i.error||console.warn(i.error),[2]}})})},e}();t.Stat=y;var v,m=function(){function e(){this.item=null,this.preItem=null,this.msgList=[]}return Object.defineProperty(e,"Inst",{get:function(){return null==e._INST&&(e._INST=new e,e._INST.load()),e._INST},enumerable:!1,configurable:!0}),e.prototype.showToast=function(e){var t=this;if(null!=e&&(console.log("\u63d0\u793a\uff1a"+e),this.msgList.push(e)),this.item&&(!this.preItem||!cc.isValid(this.preItem,!0))){var n=this.msgList[0];this.msgList.splice(0,1);var o=cc.instantiate(this.item);if(this.preItem=o,o.getChildByName("Item").getChildByName("Label").getComponent(cc.Label).string=n,cc.director.getScene().getChildByName("Canvas").addChild(o),cc.director.isPaused())setTimeout(function(){o&&o.isValid&&(o.destroy(),t.msgList.length>0&&setTimeout(function(){t.showToast(null)},300))},3e3);else{o.opacity=0;var i=cc.fadeIn(.3),r=cc.delayTime(2.5),s=cc.fadeOut(.3),a=cc.callFunc(function(){o&&o.isValid&&(o.destroy(),t.msgList.length>0&&t.showToast(null))});o.runAction(cc.sequence(i,r,s,a))}}},e.prototype.load=function(){if(!this.item){var e=this;cc.resources?cc.assetManager.resources.load("SDK/Toast",function(t,n){null==t?(e.item=n,e.msgList.length>0&&e.showToast(null)):console.log("error",JSON.stringify(t))}):console.log("\u65e0resources\u6587\u4ef6\u5939")}},e}();t.ToastMgr=m,t.Launcher||(t.Launcher={}),v=function(){var e=n.Channel.view;return cc.sys.platform===cc.sys.OPPO_GAME?e=n.Channel.oppo:cc.sys.platform===cc.sys.VIVO_GAME?e=n.Channel.vivo:cc.sys.platform===cc.sys.HUAWEI_GAME?e=n.Channel.hw:cc.sys.platform===cc.sys.XIAOMI_GAME?e=n.Channel.xm:cc.sys.platform===cc.sys.BYTEDANCE_GAME?e=n.Channel.tt:cc.sys.platform===cc.sys.ALIPAY_GAME?e=n.Channel.alipay:cc.sys.platform===cc.sys.JKW_GAME?e=n.Channel.honor:cc.sys.platform===cc.sys.WECHAT_GAME?window.gamebox?e=n.Channel.box4399:window.ks?e=n.Channel.ks:window.wx?e=n.Channel.wx:window.qq&&(e=n.Channel.qq):cc.sys.isNative&&(cc.sys.os===cc.sys.OS_ANDROID?e=n.Channel.android:cc.sys.os===cc.sys.OS_IOS&&(e=n.Channel.ios)),e},console.log("SDK version "+t.version),v()==n.Channel.android||v()==n.Channel.ios?setTimeout(function(){f.Inst.laucher(v())},100):f.Inst.laucher(v())})(o||(o={})),window.SDK=o,cc._RF.pop()},{"./Script/Analytics/uma_qg":void 0,"./Script/Analytics/uma_qq":void 0,"./Script/Analytics/uma_tt":void 0,"./Script/Analytics/uma_wx":void 0}],SettingView:[function(e,t,n){"use strict";cc._RF.push(t,"33e3dfko1VMurdGR21iqG2M","SettingView");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../SDK/Script/Privacy"),a=e("../DataMgr"),c=e("../Managers/SoundMgr"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel=null,t.audioOnSprite=null,t.audioOffSprite=null,t.languagePanel=null,t.languageSelects=[],t.languageSwitchDot=null,t.androidBtns=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.openPanel=function(){SDK.Base.Event.emit("PanelOpen"),this.freshSprite(),this.panel.active=!0,this.languagePanel.active=!1,this.languageSwitchDot.setParent(this.languageSelects[Localized.Mgr.Inst.curLanguageId]),SDK.Mgr.Inst.showInsertDelay(.5)},t.prototype.audioSwitch=function(){0!=a.default.Instance.audioVolume?a.default.Instance.audioVolume=0:a.default.Instance.audioVolume=1,c.default.Instance.soundAudioSource.volume=a.default.Instance.audioVolume,c.default.Instance.musicAudioSource.volume=a.default.Instance.audioVolume,this.freshSprite()},t.prototype.languageClick=function(){this.languagePanel.active=!this.languagePanel.active},t.prototype.languageSwitch=function(e,t){console.log("languageSwitch",t),this.languageSwitchDot.setParent(this.languageSelects[parseInt(t)]),this.languageSwitchDot.setPosition(cc.v2()),Localized.Mgr.Inst.curLanguageId=parseInt(t),cc.sys.localStorage.setItem("Localized_Language",Localized.Mgr.Inst.curLanguage)},t.prototype.freshSprite=function(){1==a.default.Instance.audioVolume?(this.audioOnSprite.active=!0,this.audioOffSprite.active=!1):(this.audioOnSprite.active=!1,this.audioOffSprite.active=!0)},t.prototype.yinsiClick=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.oppo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.vivo||SDK.Mgr.Inst.curChannel==SDK.Define.Channel.xm?s.default.Instance.openContext():SDK.Mgr.Inst.privacy()},t.prototype.yonghuClick=function(){SDK.Mgr.Inst.agreement()},t.prototype.closeBtnClick=function(){SDK.Base.Event.emit("PanelClose"),this.panel.active=!1},t.Instance=null,r([p(cc.Node)],t.prototype,"panel",void 0),r([p(cc.Node)],t.prototype,"audioOnSprite",void 0),r([p(cc.Node)],t.prototype,"audioOffSprite",void 0),r([p(cc.Node)],t.prototype,"languagePanel",void 0),r([p([cc.Node])],t.prototype,"languageSelects",void 0),r([p(cc.Node)],t.prototype,"languageSwitchDot",void 0),r([p(cc.Node)],t.prototype,"androidBtns",void 0),n=r([u],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../SDK/Script/Privacy":"Privacy","../DataMgr":"DataMgr","../Managers/SoundMgr":"SoundMgr"}],SkinItem:[function(e,t,n){"use strict";cc._RF.push(t,"b482fBK55NKGYiQ2a8u9t1i","SkinItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./View/SkinView"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.lockNode=null,t.id=0,t}return i(t,e),t.prototype.setState=function(e,t){this.id=e,this.sprite.node.active=t,this.lockNode.active=!t},t.prototype.btnClick=function(){s.default.Instance.skinClick(this.id)},r([l(cc.Sprite)],t.prototype,"sprite",void 0),r([l(cc.Node)],t.prototype,"lockNode",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./View/SkinView":"SkinView"}],SkinView:[function(e,t,n){"use strict";cc._RF.push(t,"64cdf+FS29P0YZGrekVfXnS","SkinView");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ViewBase"),a=e("../SkinItem"),c=e("../DataMgr"),l=e("../../SDK/Script/VideoHint"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinItems=[],t.priceLabel=null,t.coinBtnPriceLabel=null,t.adBtn=null,t.getCoinBtn=null,t.skinFrame=null,t.itemParent=null,t.skinPriceArr=[500,550,600,650,700,750,800,1e3],t.curPrice=9999,t.unlockIndex=0,t}var n;return i(t,e),n=t,t.prototype.enter=function(t){e.prototype.enter.call(this,t),n.Instance=this,c.GlobalEvent.on("SkinChange",this.freshSkin,this),this.skinItems=this.itemParent.getComponentsInChildren(a.default),c.default.Instance.curSkinNum>8&&(c.default.Instance.curSkinNum=0),this.freshSkin(),c.default.Instance.coinNum<this.curPrice?(this.getCoinBtn.active=!0,this.coinBtnPriceLabel.string="+"+this.curPrice.toString()):this.getCoinBtn.active=!1,SDK.Mgr.Inst.showInsertDelay(.5)},t.prototype.freshSkin=function(){this.skinFrame.setPosition(this.itemParent.position.add(this.skinItems[c.default.Instance.curSkinNum].node.position));var e=0;this.unlockIndex=-1;for(var t=0;t<n.unlockIndexs.length;t++)c.default.Instance.hasSkin(n.unlockIndexs[t])?e++:-1==this.unlockIndex&&(this.unlockIndex=n.unlockIndexs[t]);for(e<8?(this.adBtn.enabled=!0,this.curPrice=this.skinPriceArr[e],this.priceLabel.string=this.curPrice.toString()):this.adBtn.enabled=!1,t=0;t<this.skinItems.length;t++)this.skinItems[t].setState(t,c.default.Instance.hasSkin(t));c.default.Instance.coinNum<this.curPrice?(this.getCoinBtn.active=!0,this.coinBtnPriceLabel.string="+"+this.curPrice.toString()):this.getCoinBtn.active=!1},t.prototype.skinClick=function(e){c.default.Instance.hasSkin(e)?c.default.Instance.curSkinNum=e:SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("pifuweijiesuo"))},t.prototype.randomPos=function(){var e=this;this.adBtn.enabled=!1;var t=[];n.unlockIndexs.forEach(function(e){c.default.Instance.hasSkin(e)||t.push(e)}),t.sort(function(){return.5-Math.random()}),console.log(t);for(var o=function(n){i.scheduleOnce(function(){e.skinFrame.setPosition(e.itemParent.position.add(e.skinItems[t[n]].node.position))},.2+.1*n+.2*n)},i=this,r=0;r<t.length;r++)o(r);this.scheduleOnce(function(){e.skinFrame.setPosition(e.itemParent.position.add(e.skinItems[c.default.Instance.curSkinNum].node.position)),c.default.Instance.setSkin(e.unlockIndex,!0),c.default.Instance.curSkinNum=e.unlockIndex,SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("pifugoumaichenggong"))},.6+.1*t.length+.2*t.length)},t.prototype.buyBtnClick=function(){c.default.Instance.coinNum>=this.curPrice?(c.default.Instance.coinNum-=this.curPrice,this.randomPos()):SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("jinbibuzu"))},t.prototype.coinAdBtnClick=function(){var e=this,t="ShopGetCoin_Ad";SDK.Mgr.Inst.event(t+"Click");var n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"Success"),c.default.Instance.coinNum+=e.curPrice,c.default.Instance.videoAdTimes++,e.getCoinBtn.active=!1):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(t+"Cancel"),l.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(t+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.closePanel=function(){e.prototype.exit.call(this),c.GlobalEvent.off("SkinChange",this.freshSkin,this)},t.Instance=null,t.unlockIndexs=[2,3,4,1,5,7,6,8],r([h(cc.Label)],t.prototype,"priceLabel",void 0),r([h(cc.Label)],t.prototype,"coinBtnPriceLabel",void 0),r([h(cc.Button)],t.prototype,"adBtn",void 0),r([h(cc.Node)],t.prototype,"getCoinBtn",void 0),r([h(cc.Node)],t.prototype,"skinFrame",void 0),r([h(cc.Node)],t.prototype,"itemParent",void 0),n=r([p],t)}(s.default);n.default=d,cc._RF.pop()},{"../../SDK/Script/VideoHint":"VideoHint","../DataMgr":"DataMgr","../SkinItem":"SkinItem","./ViewBase":"ViewBase"}],SoundMgr:[function(e,t,n){"use strict";cc._RF.push(t,"8b9afSiD4ZGtr7L4GOIcmzi","SoundMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../DataMgr"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.soundAudioSource=null,t.musicAudioSource=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this,this.soundAudioSource.volume=s.default.Instance.audioVolume,this.musicAudioSource.volume=s.default.Instance.audioVolume},t.prototype.onEnable=function(){SDK.Base.Event.on("PauseMusic",this.PauseMusic,this),SDK.Base.Event.on("ResumeMusic",this.ResumeMusic,this)},t.prototype.onDisable=function(){SDK.Base.Event.off("PauseMusic",this.PauseMusic,this),SDK.Base.Event.off("ResumeMusic",this.ResumeMusic,this)},t.prototype.PauseMusic=function(){this.soundAudioSource.volume=0,this.musicAudioSource.volume=0},t.prototype.ResumeMusic=function(){this.soundAudioSource.volume=s.default.Instance.audioVolume,this.musicAudioSource.volume=s.default.Instance.audioVolume},t.prototype.playSoundClip=function(e){cc.sys.platform==cc.sys.VIVO_GAME?(this.soundAudioSource.clip=e,this.soundAudioSource.play()):cc.audioEngine.playEffect(e,!1)},t.Instance=void 0,r([l(cc.AudioSource)],t.prototype,"soundAudioSource",void 0),r([l(cc.AudioSource)],t.prototype,"musicAudioSource",void 0),n=r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../DataMgr":"DataMgr"}],StoryDancerScene:[function(e,t){"use strict";cc._RF.push(t,"66bd3OnULlF/qKeKA32neNR","StoryDancerScene"),cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node},start:function(){CameraManager.Instance.CameraTarget=this.CameraTargetNode,CameraManager.Instance.IsSyncTargetHeight=!0,LevelManager.Instance.SceneMainAudioSource.stop()}}),cc._RF.pop()},{}],StoryKingBadScene:[function(e,t){"use strict";cc._RF.push(t,"a3e3fItYBFLoJwV3oIim+Zh","StoryKingBadScene"),cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node,MoveControllerNode:cc.Node,SitControllerNode:cc.Node},start:function(){CameraManager.Instance.CameraTarget=this.CameraTargetNode,CameraManager.Instance.IsSyncTargetHeight=!0,LevelManager.Instance.SceneMainAudioSource.stop(),CameraManager.Instance.FollowOffset=cc.v3(0,360,0)},AFUNC_SitAction:function(){ColourBackground.Instance.Show(cc.color(255,255,255)),this.scheduleOnce(function(){this.MoveControllerNode.active=!1,this.SitControllerNode.active=!0},1)}}),cc._RF.pop()},{}],StoryKingFallDownScene:[function(e,t){"use strict";cc._RF.push(t,"549b1NVBq1Ecr3Uxkg2pK+x","StoryKingFallDownScene");var n,o=(n=e("../Managers/SoundMgr"))&&n.__esModule?n:{default:n};cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node,MoveControllerNode:cc.Node},start:function(){o.default.Instance.playSoundClip(AssetManager.Instance.AudioClips[8]),CameraManager.Instance.CameraTarget=this.CameraTargetNode,CameraManager.Instance.IsSyncTargetHeight=!0,LevelManager.Instance.SceneMainAudioSource.stop(),CameraManager.Instance.FollowOffset=cc.v3(0,360,0)}}),cc._RF.pop()},{"../Managers/SoundMgr":"SoundMgr"}],StoryKingScene:[function(e,t){"use strict";cc._RF.push(t,"ba223VRC85LkLWOc0OK54jS","StoryKingScene");var n,o=(n=e("../RecorderMgr"))&&n.__esModule?n:{default:n};cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node,MoveControllerNode:cc.Node,SitControllerNode:cc.Node},start:function(){CameraManager.Instance.CameraTarget=this.CameraTargetNode,CameraManager.Instance.IsSyncTargetHeight=!0,LevelManager.Instance.SceneMainAudioSource.stop(),CameraManager.Instance.FollowOffset=cc.v3(0,360,0)},AFUNC_SitAction:function(){ColourBackground.Instance.Show(cc.color(255,255,255)),this.scheduleOnce(function(){this.MoveControllerNode.active=!1,this.SitControllerNode.active=!0,SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&o.default.Instance.stopRecord(),o.default.Instance.showSharePanel()},1)}}),cc._RF.pop()},{"../RecorderMgr":"RecorderMgr"}],StroyLoveScene:[function(e,t){"use strict";cc._RF.push(t,"c107636AM9PAonsDRVRRdpg","StroyLoveScene");var n,o=(n=e("../RecorderMgr"))&&n.__esModule?n:{default:n};cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node},start:function(){CameraManager.Instance.CameraTarget=this.CameraTargetNode,CameraManager.Instance.IsSyncTargetHeight=!0,LevelManager.Instance.SceneMainAudioSource.stop(),CameraManager.Instance.FollowOffset=cc.v3(0,0,0),this.scheduleOnce(function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&o.default.Instance.stopRecord(),o.default.Instance.showSharePanel()},3)}}),cc._RF.pop()},{"../RecorderMgr":"RecorderMgr"}],StroyWCScene:[function(e,t){"use strict";cc._RF.push(t,"c1633yX3QlHvYRb/+LXDOYG","StroyWCScene");var n,o=(n=e("../RecorderMgr"))&&n.__esModule?n:{default:n};cc.Class({extends:cc.Component,properties:{CameraTargetNode:cc.Node},start:function(){CameraManager.Instance.CameraTarget=this.CameraTargetNode,CameraManager.Instance.IsSyncTargetHeight=!0,LevelManager.Instance.SceneMainAudioSource.stop(),this.scheduleOnce(function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&o.default.Instance.stopRecord(),o.default.Instance.showSharePanel()},3)}}),cc._RF.pop()},{"../RecorderMgr":"RecorderMgr"}],SyncNodeAngle:[function(e,t){"use strict";cc._RF.push(t,"b903fHa8a9AAZfg6TyciPvA","SyncNodeAngle"),cc.Class({extends:cc.Component,properties:{SyncTarget:cc.Node},lateUpdate:function(){this.node.angle=this.SyncTarget.angle}}),cc._RF.pop()},{}],SyncSpriteFrame:[function(e,t){"use strict";cc._RF.push(t,"46181peHhVGHbWO8wP795wV","SyncSpriteFrame"),cc.Class({extends:cc.Component,properties:{SourceSprite:cc.Sprite,BeSyncSprite:cc.Sprite},start:function(){null!=this.SourceSprite&&null!=this.BeSyncSprite||this.node.destroy()},update:function(){this.BeSyncSprite.spriteFrame=this.SourceSprite.spriteFrame}}),cc._RF.pop()},{}],TimeDestroyObject:[function(e,t){"use strict";cc._RF.push(t,"fd0513DqcxMIa9QMqn1Cqyv","TimeDestroyObject"),cc.Class({extends:cc.Component,properties:{ObjectLifeTime:10},start:function(){this.scheduleOnce(function(){this.node.destroy()},this.ObjectLifeTime)}}),cc._RF.pop()},{}],TipsMgr:[function(e,t,n){"use strict";cc._RF.push(t,"9b0actYTA9JTaiSP4xb5RQr","TipsMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./RecorderPanel"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.panel=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.start=function(){},t.prototype.showTip=function(e){s.default.GamePause=!0,this.panel.active=!0,this.label.string=e},t.prototype.closePanel=function(){this.panel.active&&(this.panel.active=!1,s.default.GamePause=!1)},t.Instance=null,r([l(cc.Label)],t.prototype,"label",void 0),r([l(cc.Node)],t.prototype,"panel",void 0),n=r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./RecorderPanel":"RecorderPanel"}],TryUseView:[function(e,t,n){"use strict";cc._RF.push(t,"4b903Sz3dZIkb+6BP9RNSa8","TryUseView");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ViewBase"),a=e("../DataMgr"),c=e("../../SDK/Script/VideoHint"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adBtnNode=null,t.skinSprite=null,t.skinFrames=[],t.skinIndex=1,t}var n;return i(t,e),n=t,t.prototype.enter=function(t){e.prototype.enter.call(this,t),SDK.Mgr.Inst.event("ShowFishSkin"),SDK.Base.Event.emit("PanelOpen"),n.showCount++,SDK.Mgr.Inst.isAdOpen&&(n.showCount%2==0?this.adBtnNode.setSiblingIndex(0):this.adBtnNode.setSiblingIndex(1)),n.showCount<=1?(this.skinIndex=14,this.skinSprite.spriteFrame=this.skinFrames[1]):14==a.default.Instance.curSkinNum?(this.skinIndex=1,this.skinSprite.spriteFrame=this.skinFrames[0]):1==a.default.Instance.curSkinNum?(this.skinIndex=14,this.skinSprite.spriteFrame=this.skinFrames[1]):Math.random()<.5?(this.skinIndex=14,this.skinSprite.spriteFrame=this.skinFrames[1]):(this.skinIndex=1,this.skinSprite.spriteFrame=this.skinFrames[0]),SDK.Mgr.Inst.showInsertDelay(.5)},t.prototype.adBtnClick=function(){var e=this,t="FishSkin_Ad";SDK.Mgr.Inst.event(t+"Click");var n=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"Success"),a.default.Instance.curSkinNum=e.skinIndex,null!=KillerController.Instance&&(KillerController.Instance.freshSkin(),SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("huodeshiyongpifu")),e.closePanel())):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(t+"Cancel"),c.default.Instance.openPanel(n)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(t+"NoAd"))};SDK.Mgr.Inst.showVideo(n)},t.prototype.closePanel=function(){e.prototype.exit.call(this),SDK.Base.Event.emit("PanelClose")},t.showCount=0,r([p(cc.Node)],t.prototype,"adBtnNode",void 0),r([p(cc.Sprite)],t.prototype,"skinSprite",void 0),r([p([cc.SpriteFrame])],t.prototype,"skinFrames",void 0),n=r([u],t)}(s.default);n.default=h,cc._RF.pop()},{"../../SDK/Script/VideoHint":"VideoHint","../DataMgr":"DataMgr","./ViewBase":"ViewBase"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"d7dbdcJfZhDe513LY8R9Aj7","UIManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.E_GameView=void 0;var s,a=e("./ViewBase"),c=cc._decorator,l=c.ccclass,u=c.property;(function(e){e[e.null=-1]="null",e[e.skin=0]="skin",e[e.tryUse=1]="tryUse"})(s=n.E_GameView||(n.E_GameView={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewParent=null,t.views=[],t.showStart=!1,t}var n;return i(t,e),n=t,Object.defineProperty(t,"Inst",{get:function(){return n._INST},enumerable:!1,configurable:!0}),t.prototype.OfflineCloseClick=function(){cc.game.end()},t.prototype.onLoad=function(){n._INST=this},t.prototype.start=function(){SDK.Mgr.Inst.event("sys_event_language_"+cc.sys.language),SDK.Mgr.Inst.showBanner()},t.prototype.showSkin=function(){this.showView(s.skin)},t.prototype.timeout=function(e){return new Promise(function(t){setTimeout(t,1e3*e)})},t.prototype.showView=function(e,t){var n;n=this.views[e];var o=cc.instantiate(n);return o.setParent(this.viewParent),o.getComponent(a.default).enter(t),o.setSiblingIndex(999),o},r([u(cc.Node)],t.prototype,"viewParent",void 0),r([u([cc.Prefab])],t.prototype,"views",void 0),r([u(cc.Boolean)],t.prototype,"showStart",void 0),n=r([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./ViewBase":"ViewBase"}],VideoHint:[function(e,t,n){"use strict";cc._RF.push(t,"61945ycLgVNDZGQmOLH/v3p","VideoHint");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel=null,t.closeBtnNode=null,t.callBack=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this},t.prototype.start=function(){SDK.Base.Event.on("openVideoHintPanel",this.openPanel,this)},t.prototype.onDestroy=function(){SDK.Base.Event.off("openVideoHintPanel",this.openPanel,this)},t.prototype.openPanel=function(e){var t=this;SDK.Mgr.Inst.curChannel!=SDK.Define.Channel.tt||0!=SDK.Mgr.Inst.onlineParam.openVideoCancel?(SDK.Mgr.Inst.event("videoHintView_show"),this.panel.active=!0,this.callBack=e,this.closeBtnNode.active=!1,this.scheduleOnce(function(){t.closeBtnNode.active=!0},SDK.Mgr.Inst.closeDelayTime)):SDK.ToastMgr.Inst.showToast("\u89c6\u9891\u6ca1\u6709\u770b\u5b8c\u54e6")},t.prototype.panelBtnClick=function(){SDK.Mgr.Inst.curChannel==SDK.Define.Channel.tt&&SDK.Mgr.Inst.isAdOpen&&this.confirmBtnClick()},t.prototype.confirmBtnClick=function(){var e=this,t="videoHint_ads_";SDK.Mgr.Inst.event(t+"click"),SDK.Mgr.Inst.showVideo(function(n){n==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(t+"success"),e.panel.active=!1,e.callBack&&(e.callBack(SDK.Define.AdsCode.finish),e.callBack=null)):n==SDK.Define.AdsCode.cancel?SDK.Mgr.Inst.event(t+"cancel"):SDK.Mgr.Inst.event(t+"noAds")})},t.prototype.closePanel=function(){this.panel.active=!1,this.callBack&&(this.callBack(SDK.Define.AdsCode.refuse),this.callBack=null)},t.Instance=null,r([c(cc.Node)],t.prototype,"panel",void 0),r([c(cc.Node)],t.prototype,"closeBtnNode",void 0),n=r([a],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ViewBase:[function(e,t,n){"use strict";cc._RF.push(t,"eea3bKDDDhD2aZBEdNuECY4","ViewBase");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ViewAni=void 0;var s,a=cc._decorator,c=a.ccclass,l=a.property;(function(e){e[e.none=0]="none",e[e.scale=1]="scale",e[e.alpha=2]="alpha",e[e.move=3]="move"})(s=n.ViewAni||(n.ViewAni={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scalePanel=null,t.closeCB=null,t.aniType=s.none,t.isEnter=!1,t}return i(t,e),t.prototype.enter=function(e){this.isEnter||(this.isEnter=!0,this.closeCB=e,this.init(),this.aniType==s.none?this.node.active=!0:this.aniType==s.scale?(this.node.active=!0,this.scalePanel.setScale(.3),this.scalePanel.runAction(cc.scaleTo(.25,1).easing(cc.easeBackOut())),this.node.runAction(cc.fadeIn(.4).easing(cc.easeCircleActionOut()))):this.aniType==s.alpha?(this.node.opacity=0,this.node.active=!0,this.node.runAction(cc.sequence(cc.delayTime(.3),cc.fadeIn(.4).easing(cc.easeCircleActionOut())))):this.node.active=!0)},t.prototype.init=function(){},t.prototype.exit=function(e){if(this.isEnter){this.isEnter=!1,e&&(this.closeCB=e);var t=this;if(this.aniType==s.none)this.closeCB&&(this.closeCB(),this.closeCB=null),this.node.destroy();else if(this.aniType==s.scale){var n=cc.scaleTo(.2,.3).easing(cc.easeCircleActionOut()),o=cc.callFunc(function(){t.closeCB&&(t.closeCB(),t.closeCB=null),t.node.destroy()},this),i=cc.fadeOut(.2).easing(cc.easeCircleActionOut());this.node.runAction(i),this.scalePanel.runAction(cc.sequence(n,o))}else this.aniType==s.alpha?(n=cc.fadeOut(.2).easing(cc.easeCircleActionOut()),o=cc.callFunc(function(){t.closeCB&&(t.closeCB(),t.closeCB=null),t.node.destroy()},this),this.node.runAction(cc.sequence(n,o))):(t.closeCB&&(t.closeCB(),t.closeCB=null),this.node.destroy())}},r([l(cc.Node)],t.prototype,"scalePanel",void 0),r([l({type:cc.Enum(s),displayName:"\u52a8\u753b\u7c7b\u578b"})],t.prototype,"aniType",void 0),r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],YaoshuiMgr:[function(e,t,n){"use strict";cc._RF.push(t,"a2fcdSbdnxH66vFmGOBFenN","YaoshuiMgr");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../SDK/Script/VideoHint"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.redYaoshui=null,t.greenYaoshui=null,t.redTimer=null,t.greenTimer=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.Instance=this,cc.sys.localStorage.getItem("RedYao")||cc.sys.localStorage.setItem("RedYao","false"),cc.sys.localStorage.getItem("GreenYao")||cc.sys.localStorage.setItem("GreenYao","false")},t.prototype.start=function(){},t.prototype.ShowYaoshui=function(){if(SDK.Mgr.Inst.hasAds){var e=this;0==n.RedYao?(e.redTimer=function(){e.redYaoshui.active=!0,e.redYaoshui.stopAllActions(),e.redYaoshui.setPosition(cc.v2(-800,650));var t=cc.scaleTo(.1,1.4).easing(cc.easeSineInOut()),n=cc.scaleTo(.1,1.2).easing(cc.easeSineInOut()),o=cc.delayTime(.15),i=cc.scaleTo(.1,1.4).easing(cc.easeSineInOut()),r=cc.scaleTo(.1,1.2).easing(cc.easeSineInOut()),s=cc.delayTime(.8),a=cc.repeatForever(cc.sequence(t,n,o,i,r,s));e.redYaoshui.runAction(a),SDK.Mgr.Inst.event("ShowRedDrink")},e.scheduleOnce(e.redTimer,7*Math.random()+3)):0==n.GreenYao&&(e.greenTimer=function(){e.greenYaoshui.active=!0,e.greenYaoshui.stopAllActions(),e.greenYaoshui.setPosition(cc.v2(-800,650));var t=cc.scaleTo(.1,1.4).easing(cc.easeSineInOut()),n=cc.scaleTo(.1,1.2).easing(cc.easeSineInOut()),o=cc.delayTime(.15),i=cc.scaleTo(.1,1.4).easing(cc.easeSineInOut()),r=cc.scaleTo(.1,1.2).easing(cc.easeSineInOut()),s=cc.delayTime(.8),a=cc.repeatForever(cc.sequence(t,n,o,i,r,s));e.greenYaoshui.runAction(a),SDK.Mgr.Inst.event("ShowGreenDrink")},e.scheduleOnce(e.greenTimer,7*Math.random()+3))}},t.prototype.RedYaoClick=function(){this.Hide();var e="RedDrink_Ad";SDK.Mgr.Inst.event(e+"Click");var t=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(e+"Success"),null!=KingController.Instance&&(KingController.Instance.DrinkRedWine(),n.RedYao=!0,SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("huodeyaoshui")))):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"Cancel"),s.default.Instance.openPanel(t)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(e+"NoAd"))};SDK.Mgr.Inst.showVideo(t)},t.prototype.GreenYaoClick=function(){this.Hide();var e="GreenDrink_Ad";SDK.Mgr.Inst.event(e+"Click");var t=function(o){o==SDK.Define.AdsCode.finish?(SDK.Mgr.Inst.event(e+"Success"),null!=KingController.Instance&&(KingController.Instance.DrinkGreenWine(),n.GreenYao=!0)):o==SDK.Define.AdsCode.cancel?(SDK.Mgr.Inst.event(e+"Cancel"),s.default.Instance.openPanel(t)):(SDK.ToastMgr.Inst.showToast(Localized.Mgr.Inst.getString("zanwuguanggao")),SDK.Mgr.Inst.event(e+"NoAd"))};SDK.Mgr.Inst.showVideo(t)},t.prototype.Hide=function(){this.unschedule(this.redTimer),this.unschedule(this.greenTimer),this.redYaoshui.stopAllActions(),this.greenYaoshui.stopAllActions(),this.redYaoshui.active=!1,this.greenYaoshui.active=!1},t.RedYao=!1,t.GreenYao=!1,t.Instance=null,r([l(cc.Node)],t.prototype,"redYaoshui",void 0),r([l(cc.Node)],t.prototype,"greenYaoshui",void 0),n=r([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../SDK/Script/VideoHint":"VideoHint"}],ZH:[function(e,t){"use strict";cc._RF.push(t,"1908a53hpVAhrpUW8gNJkcg","ZH"),window.Localized_Data_ZH={jiazaizhong:"\u6b63\u5728\u52a0\u8f7d\u4e2d...",gongxihuode:"\u606d\u559c\u83b7\u5f97",jinbi:"\u91d1\u5e01",zanwuguanggao:"\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",jiasuchenggong:"\u52a0\u901f\u6210\u529f",huodemaikefeng:"\u83b7\u5f97\u9ea6\u514b\u98ce\u76ae\u80a4",baoxiangyidakai:"\u5b9d\u7bb1\u5df2\u6253\u5f00",kaixiangyiyongwan:"\u5f00\u7bb1\u6b21\u6570\u5df2\u7528\u5b8c",yijingjiaguola:"\u5df2\u7ecf\u52a0\u8fc7\u5566",huodepifu:"\u83b7\u5f97\u76ae\u80a4",zhishaosanshuxing:"\u81f3\u5c11\u6dfb\u52a03\u79cd\u5c5e\u6027",jiesuochenggong:"\u89e3\u9501\u6210\u529f\uff0c\u656c\u8bf7\u671f\u5f85\uff01",shipinmeikanwan:"\u89c6\u9891\u6ca1\u6709\u770b\u5b8c\u54e6",pifuweijiesuo:"\u76ae\u80a4\u672a\u89e3\u9501",pifugoumaichenggong:"\u76ae\u80a4\u8d2d\u4e70\u6210\u529f",jinbibuzu:"\u91d1\u5e01\u4e0d\u8db3",huodeshiyongpifu:"\u83b7\u5f97\u8bd5\u7528\u76ae\u80a4",huodeyaoshui:"\u83b7\u5f97\u957f\u751f\u836f\u6c34",jixutiaozhan:"\u7ee7\u7eed\u6311\u6218",endsuccess_1:"\u56fd\u738b\u7684\u53cc\u5341\u4e00\uff0c\u770b\u5565\u5565\u706b\u7206",endsuccess_2:"\u559c\u63d0\u56fd\u738b\uff0c\u5c0f\u5fc3\u524d\u65b9\u9752\u86d9",endsuccess_3:"\u559c\u63d0\u56fd\u738b\uff0c\u5c0f\u5fc3\u523a\u5ba2\u6a2a\u884c",endfail_1:"\u4f60\u7b11\u8d77\u6765\u771f\u597d\u770b\uff0c\u5b89\u6170\u4e00\u4e0b",endfail_2:"\u51fa\u6765\u6df7\u603b\u662f\u8fd8\u7684\u5566",endfail_3:"\u523a\u6740\u5931\u8d25\uff0c\u5c06\u5728\u76d1\u72f1\u4e2d\u5ea6\u8fc7\u4e00\u751f"},cc._RF.pop()},{}],"mta-h5-analysis-2.0.15":[function(e,t){"use strict";function n(e){return window.localStorage?localStorage.getItem(e):(e=document.cookie.match(new RegExp("(?:^|;\\s)"+e+"=(.*?)(?:;\\s|$)")))?e[1]:""}function o(e,t,n){if(window.localStorage)try{localStorage.setItem(e,t)}catch(o){}else document.cookie=e+"="+t+";path=/;domain="+i()+(n?";expires="+n:"")}function i(){var e=window.location.host,t=e.split(".");return 2<t.length&&(e=({"com.cn":1,"js.cn":1,"net.cn":1,"gov.cn":1,"com.hk":1,"co.nz":1}[t.slice(-2).join(".")]?t.slice(-3):t.slice(-2)).join(".")),e}function r(e,t){var n={};if(void 0===t){var o=window.location,i=o.host,r=o.pathname,s="";o.search&&(s=o.search.substr(1));var a=o.hash}else i=(o=t.match(/\w+:\/\/((?:[\w-]+\.)+\w+)(?::\d+)?(\/[^\?\\"'\|:<>]*)?(?:\?([^'"\\<>#]*))?(?:#(\w+))?/i)||[])[1],r=o[2],s=o[3],a=o[4];return void 0!==a&&(a=a.replace(/"|'|<|>/gi,"M")),s&&function(){for(var e=s.split("&"),t=0,o=e.length;t<o;t++)if(-1!=e[t].indexOf("=")){var i=e[t].indexOf("="),r=e[t].slice(0,i);i=e[t].slice(i+1),n[r]=i}}(),s=function(){if(void 0===s)return s;for(var t=s.split("&"),n=[],o=0,i=t.length;o<i;o++)if(-1!=t[o].indexOf("=")){var r=t[o].indexOf("="),a=t[o].slice(0,r);r=t[o].slice(r+1),e.ignoreParams&&-1!=e.ignoreParams.indexOf(a)||n.push(a+"="+r)}return n.join("&")}(),a&&function(){for(var e=0==a.indexOf("#")?a.substr(1).split("&"):a.split("&"),t=0,n=e.length;t<n;t++)if(-1!=e[t].indexOf("=")){var o=e[t].indexOf("="),i=e[t].slice(0,o);if(o=e[t].slice(o+1),"adtag"===i.toLowerCase())break}}(),{host:i,path:r,search:s,hash:a,param:n,adtag:window.adTag}}function s(e){var t=r(e),i={dm:t.host,pvi:"",si:"",url:t.path,arg:encodeURIComponent(t.search||"").substr(0,512),ty:0};return i.pvi=function(){if(e.userReport){var t=n("pgv_uid");t&&t==e.user.user_id||(i.ty=1,o("pgv_uid",e.user.user_id,"Sun, 18 Jan 2038 00:00:00 GMT;")),t=e.user.user_id}else(t=n("pgv_pvi"))||(i.ty=1,o("pgv_pvi",t=a(),"Sun, 18 Jan 2038 00:00:00 GMT;"));return t}(),i.si=function(){var e=n("pgv_si");return e||o("pgv_si",e=a("s")),e}(),i.url=function(){var n=t.path;return e.senseQuery&&(n+=t.search?"?"+encodeURIComponent(t.search||"").substr(0,512):""),e.senseHash&&(n+=t.hash?encodeURIComponent(t.hash):""),n}(),i}function a(e){for(var t=[0,1,2,3,4,5,6,7,8,9],n=10;1<n;n--){var o=Math.floor(10*Math.random()),i=t[o];t[o]=t[n-1],t[n-1]=i}for(n=o=0;5>n;n++)o=10*o+t[n];return(e||"")+(o+"")+ +new Date}function c(e){return{r2:e.sid}}function l(e){var t={};if(e){var n,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));e=o.join(";"),t.ext=e}return t}function u(e){window.adTag=e,console.log("Tag:",window.adTag)}function p(e){var t=r(e,document.referrer);return e=r(e),{rdm:t.host,rurl:t.path,rarg:encodeURIComponent(t.search||"").substr(0,512),adt:window.adTag}}function h(){try{var e=navigator,t=screen||{width:"",height:"",colorDepth:""},n={scr:t.width+"x"+t.height,scl:t.colorDepth+"-bit",lg:(e.language||e.userLanguage).toLowerCase(),tz:(new Date).getTimezoneOffset()/60}}catch(o){return{}}return n}function d(){if(window.performance){var e=window.performance.timing,t={value:e.domainLookupEnd-e.domainLookupStart},n={value:e.connectEnd-e.connectStart},o={value:e.responseStart-(e.requestStart||e.responseStart+1)},i=e.responseEnd-e.responseStart;e.domContentLoadedEventStart?0>i&&(i=0):i=-1,e={domainLookupTime:t,connectTime:n,requestTime:o,resourcesLoadedTime:{value:i},domParsingTime:{value:e.domContentLoadedEventStart?e.domInteractive-e.domLoading:-1},domContentLoadedTime:{value:e.domContentLoadedEventStart?e.domContentLoadedEventStart-e.fetchStart:-1}}}else e="";return e}cc._RF.push(t,"6d4c2RLSRVHrrTJei2uQGIJ","mta-h5-analysis-2.0.15"),t.exports={conf:{},version:"2.0.15",init:function(e){var t={sid:0,cid:0,autoReport:0,senseHash:0,senseQuery:0,userReport:0,performanceMonitor:0,ignoreParams:[]};if(e){for(var n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(t[n]=e[n]);e.hasOwnProperty("adTag")&&u(e.adTag)}this.conf=t,this.conf.autoReport&&this.pgv()},pgv:function(){var e=this.conf,t=[],n=this.version;if(e.sid)if(!e.userReport||e.user&&e.user.user_id&&!parseInt(e.user.user_id,10)!==conf.user.user_id){for(var o=0,i=[s(e),p(e),c(e),h(),l({version:n}),{random:+new Date}],r=i.length;o<r;o++)for(var a in i[o])i[o].hasOwnProperty(a)&&t.push(a+"="+(void 0===i[o][a]?"":i[o][a]));var u=function(e){e=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+e.join("&").toLowerCase();var t=new Image;t.onload=t.onerror=t.onabort=function(){t=t.onload=t.onerror=t.onabort=null},t.src=e};u(t),e.performanceMonitor&&(t=function(){for(var t=d(),o=[],i=[],r=0,a=[s(e),{r2:e.cid},h(),{random:+new Date}],c=a.length;r<c;r++)for(var p in a[r])a[r].hasOwnProperty(p)&&i.push(p+"="+(void 0===a[r][p]?"":a[r][p]));for(p in t)t.hasOwnProperty(p)&&("domContentLoadedTime"==p?i.push("r3="+t[p].value):o.push(t[p].value));t=l({pfm:o.join("_"),version:n}),i.push("ext="+t.ext),u(i)},void 0!==window.performance&&void 0!==window.performance.timing&&0!=window.performance.timing.loadEventEnd?t():window.attachEvent?window.attachEvent("onload",t):window.addEventListener&&window.addEventListener("load",t,!1))}else console.log("MTA H5\u5206\u6790\u9519\u8bef\u63d0\u793a\uff1a\u60a8\u9009\u62e9\u4e86\u7528\u6237\u7edf\u8ba1uv\uff0c\u8bf7\u8bbe\u7f6e\u4e1a\u52a1\u7684user_id\uff0c\u9700\u4e3aint\u7c7b\u578b");else console.log("MTA H5\u5206\u6790\u9519\u8bef\u63d0\u793a\uff1a\u60a8\u6ca1\u6709\u8bbe\u7f6esid")},clickStat:function(e,t){var n=this.conf,o=[],i=s(n),r=c(n);if(n.cid){i.dm="taclick",i.url=e,r.r2=n.cid,r.r5=function(e){e=void 0===e?{}:e;var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join(";")}(t);var a=0;for(i=(n=[i,p(n),r,h(),l({version:this.version}),{random:+new Date}]).length;a<i;a++)for(var u in n[a])n[a].hasOwnProperty(u)&&o.push(u+"="+(void 0===n[a][u]?"":n[a][u]));o=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+o.join("&");var d=new Image;d.onload=d.onerror=d.onabort=function(){d=d.onload=d.onerror=d.onabort=null},d.src=o}else console.log("MTA H5\u5206\u6790\u9519\u8bef\u63d0\u793a\uff1a\u60a8\u6ca1\u6709\u8bbe\u7f6ecid,\u8bf7\u5230\u7ba1\u7406\u53f0\u5f00\u901a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5e76\u66f4\u65b0\u7edf\u8ba1\u4ee3\u7801")},clickShare:function(e){var t=this.conf,n=r(t),o=void 0===(n=n.param.CKTAG||n.param.ckatg)?[]:n.split(".");if(t.cid){n=[];var i=s(t),a=c(t);for(i.dm="taclick_share",i.url="mtah5-share-"+e,a.r2=t.cid,a.r5=function(e){var t=[];return 2===e.length&&"mtah5_share"==e[0]&&t.push(e[0]+"="+e[1]),t.join(";")}(o),e=0,i=(t=[i,p(t),a,h(),l({version:this.version}),{random:+new Date}]).length;e<i;e++)for(var u in t[e])t[e].hasOwnProperty(u)&&n.push(u+"="+(void 0===t[e][u]?"":t[e][u]));u=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+n.join("&");var d=new Image;d.onload=d.onerror=d.onabort=function(){d=d.onload=d.onerror=d.onabort=null},d.src=u}else console.log("MTA H5\u5206\u6790\u9519\u8bef\u63d0\u793a\uff1a\u60a8\u6ca1\u6709\u8bbe\u7f6ecid,\u8bf7\u5230\u7ba1\u7406\u53f0\u5f00\u901a\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5e76\u66f4\u65b0\u7edf\u8ba1\u4ee3\u7801")}},cc._RF.pop()},{}],td_analytics:[function(e,t){"use strict";cc._RF.push(t,"f4b9fwuxpNMYpLzNoztmtU+","td_analytics"),function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(t){var n,o,i=0,r=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,c="application/json",l="text/html",u=/^\s*$/,p=function e(i){var s=I({},i||{});for(n in e.settings)void 0===s[n]&&(s[n]=e.settings[n]);(S=s).global&&0==p.active++&&h(S),s.crossDomain="https://test/";var g=s.dataType;if(i=/=\?/.test(s.url),"jsonp"==g||i)return e.JSONP(s);s.url||(s.url="https://test/"),m(s);var v,S=s.accepts[g],C=(i={},/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:t.location.protocol),A=e.settings.xhr();for(o in s.crossDomain||(i["X-Requested-With"]="XMLHttpRequest"),S&&(-1<(i.Accept=S).indexOf(",")&&(S=S.split(",",2)[0]),A.overrideMimeType&&A.overrideMimeType(S)),(s.contentType||s.data&&"GET"!=s.type.toUpperCase())&&(i["Content-Type"]=s.contentType||"application/x-www-form-urlencoded"),s.headers=I(i,s.headers||{}),A.onreadystatechange=function(){if(4==A.readyState){clearTimeout(v);var e,t=!1;if(200<=A.status&&A.status<300||304==A.status||0==A.status&&"file:"==C){g=g||(n=A.getResponseHeader("content-type"))&&(n==l?"html":n==c?"json":r.test(n)?"script":a.test(n)&&"xml")||"text",e=A.responseText;try{"script"==g?(0,eval)(e):"xml"==g?e=A.responseXML:"json"==g&&(e=u.test(e)?null:JSON.parse(e))}catch(e){t=e}t?f(t,"parsererror",A,s):d(e,A,s)}else f(null,"error",A,s)}var n},i=!("async"in s)||s.async,A.open(s.type,s.url,i),s.headers)A.setRequestHeader(o,s.headers[o]);return!1===function(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===h(t))return!1;h(t)}(A,s)?(A.abort(),!1):(0<s.timeout&&(v=setTimeout(function(){A.onreadystatechange=y,A.abort(),f(null,"timeout",A,s)},s.timeout)),A.send(s.data||null),A)};function h(e){if(e.global)return!0}function d(e,t,n){var o=n.context,i="success";n.success.call(o,e,i,t),h(n),g(i,t,n)}function f(e,t,n,o){var i=o.context;o.error.call(i,n,t,e),h(o),g(t,n,o)}function g(e,t,n){var o=n.context;n.complete.call(o,t,e),h(n),(n=n).global&&!--p.active&&h(n)}function y(){}function v(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function m(t){var n,o;"object"===e(t.data)&&(t.data=(n=t.data,(o=[]).add=function(e,t){this.push(S(e)+"="+S(t))},function t(n,o,i,r){var s="array"==typeof o;for(var a in o){var c=o[a];r&&(a=i?r:r+"["+(s?"":a)+"]"),!r&&s?n.add(c.name,c.value):(i?"array"==typeof c:"object"===(void 0===c?"undefined":e(c)))?t(n,c,i,a):n.add(a,c)}}(o,n,void 0),o.join("&").replace("%20","+"))),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=v(t.url,t.data))}p.active=0,p.JSONP=function(e){if(!("type"in e))return p(e);var n,o="jsonp"+ ++i,r={abort:function(){o in t&&(t[o]=y),g("abort",r,e)}};return e.error&&(s.onerror=function(){r.abort(),e.error()}),t[o]=function(i){clearTimeout(n),delete t[o],d(i,r,e)},m(e),s.src=e.url.replace(/=\?/,"="+o),"".insertBefore(s,"".firstChild),0<e.timeout&&(n=setTimeout(function(){r.abort(),g("timeout",r,e)},e.timeout)),r},p.settings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:c,xml:"application/xml, text/xml",html:l,text:"text/plain"},crossDomain:!1,timeout:0},p.get=function(e,t){return p({url:e,success:t})},p.post=function(e,t,n,o){return"function"==typeof t&&(o=o||n,n=t,t=null),p({type:"POST",url:e,data:t,success:n,dataType:o})},p.getJSON=function(e,t){return p({url:e,success:t,dataType:"json"})};var S=encodeURIComponent;function I(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){for(n in t)void 0!==t[n]&&(e[n]=t[n])}),e}return{ajax:p}}(window),n={deviceId:"",appkey:null,appProfile:{versionName:"1.0.0",versionCode:"1",initTime:"",sdkVersion:"H5+APP+v1.0.6",partner:null},deviceProfile:{pixel:"",language:navigator.language,timezone:(new Date).getTimezoneOffset()/60*-1},msgs:[]},o={type:2,data:{id:"",start:0,duration:0}},i={autoTrack:!0};!function(){for(var e=0;e<"".length;e++){var t=""[e].getAttribute("td-autoTrack");if("false"===t||!1===t){i.autoTrack=!1;break}}}();var r=(new Date).getTime(),s=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n};i.localStorage={add:function(e,t){this.addLocalStorage(e,t),this.addCookie(e,t)},get:function(e){return this.getLocalStorage(e)||this._getCookie(e)},create:function(){this._addCookie(""),localStorage},addCookie:function(e,t){if(!localStorage){this.create();var n=this.cookieList();n[e]=t;var o,i=[];for(o in n)i.push(o+"="+n[o]);this._addCookie(i.join(";"))}},_setCookie:function(){this.cookieList()},_addCookie:function(){},_getCookie:function(e){var t=this.cookieList();if(t&&t[e])return t[e]},delCookie:function(){},cookieList:function(){return this.format(void 0)},addLocalStorage:function(e,t){localStorage.setItem("__TD_"+e,t)},delLocalStorage:function(e){localStorage&&localStorage.removeItem("__TD_"+e)},getLocalStorage:function(e){return localStorage.getItem("__TD_"+e)},format:function(e){var t={};if(!e)return t;for(var n=e.split(";"),o=n.length,i=0;i<o;i++){var r=n[i].split("=");2==r.length&&(t[r[0]]=r[1])}return t}};var a,c,l,u,p,h=!0,d=!1;function f(){this.url="https://h5.udrig.com/app/v1",this.opts={},this.requestArray=new Array}f.prototype={getAjax:function(e,n,o,i,r){(function(s){var c,l;0<navigator.userAgent.indexOf("MSIE 9.0")?"MSIE6.0"==(c=navigator.appVersion.split(";")[1].replace(/[ ]/g,""))||"MSIE7.0"==c?alert("no support IE6,IE7"):window.XDomainRequest&&((l=new XDomainRequest)?(s.error&&"function"==typeof s.error&&(l.onerror=function(){s.error()}),s.timeout&&"function"==typeof s.timeout&&(l.ontimeout=function(){s.timeout()}),s.success&&"function"==typeof s.success&&(l.onload=function(){s.dataType?"json"==s.dataType.toLowerCase()&&s.success(JSON.parse(l.responseText)):s.success(l.responseText)}),l.open(s.type,s.url),l.send(s.param)):alert("Failed to create XDomainRequest")):h?(g.add("td-unique","true"),h=!1,a=t.ajax({type:e,url:n,data:JSON.stringify(o),dataType:"text",success:i,error:r,complete:function(){h=!(a=void 0),d&&(y.getAjax(),d=!1),g.delLocalStorage("td-unique")}})):d=!0})({url:this.url,type:"POST",param:JSON.stringify(o),success:i})},set:function(e,t,n){this.opts=e,this.send(t,n)},send:function(e,t){this.getAjax("post",this.url,this.opts,e,t)}},(c=window).TDBASE=c.TDBASE||{},TDBASE.cacheName="cacheList",TDBASE.unique=function(e){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t},TDBASE.getArgs=function(){for(var e=new Object,t=c.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o,i=t[n].indexOf("=");-1!=i&&(o=t[n].substring(0,i),i=t[n].substring(i+1),i=decodeURIComponent(i),e[o]=i)}return e},TDBASE.getCommon=function(e){var t=g.get("appkey")?g.get("appkey"):n.appkey;return e={deviceId:n.deviceId,appkey:t,appProfile:n.appProfile,deviceProfile:n.deviceProfile,msgs:e.msg},n.appContext&&(e.appContext=n.appContext),e},TDBASE.getCommonMsg=function(e,t,n,o,i,r){return{type:2,data:{id:e,start:t,status:n,duration:o||0,pages:r?[r]:[],events:i||[]}}},TDBASE.addSessionStart=function(e,t){g.add("lastSession",JSON.stringify({id:o.data.id,start:o.data.start})),n=(n=g.get("td-hold-event"))&&JSON.parse(n);var n=TDBASE.getCommonMsg(o.data.id,o.data.start,t,e,n);TDBASE.addMsg(n),g.delLocalStorage("td-hold-event")},TDBASE.equal=function(t,n){if((void 0===t?"undefined":e(t))!=(void 0===n?"undefined":e(n)))return!1;if(e(t.length)!=e(n.length))return!1;var o=!0,i=[],r=[];for(s in t)"count"===s||"start"===s||i.push(s);for(s in n)"count"===s||"start"===s||r.push(s);if(i.length!=r.length)return!1;for(var s=0,a=r.length;s<a;s++)i.push(r[s]);var c=TDBASE.unique(i);for(s=0,a=c.length;s<a;s++){if(!(c[s]in t&&c[s]in n))return!1;if("object"==e(t[c[s]])&&"object"==e(n[c[s]]))o=TDBASE.equal(t[c[s]],n[c[s]]);else if(t[c[s]]!==n[c[s]])return!1}return o},TDBASE.addGenre=function(e,t,n){if(g.get("sessionMsg")){n&&n(e);var o=(n=JSON.parse(g.get("sessionMsg"))).msg[n.msg.length-1].data[t];if("events"!==t)o.push(e),g.add("sessionMsg",JSON.stringify(n));else{if(0!=o.length){for(var i=!1,r=0;r<o.length;r++)if(TDBASE.equal(o[r],e)){i=!0,o[r].count+=1,o[r].start=e.start;break}i||o.push(e)}else o.push(e);g.add("sessionMsg",JSON.stringify(n))}}},TDBASE.lealSet=function(e){g.add("leavetime",e),g.add("leaveSession",parseInt((e-g.get("SessionStart"))/1e3))},TDBASE.addMsg=function(e){var t;g.get("sessionMsg")?((t=JSON.parse(g.get("sessionMsg"))).msg.push(e),g.add("sessionMsg",JSON.stringify(t))):g.add("sessionMsg",JSON.stringify({msg:[e]}))},(l={currentPage:null,pageStartTime:0,ref:"",logoutCalled:!1,init:function(){s(window,"pagehide",l.pageLogout),s(window,"beforeunload",l.pageLogout),window.TDAPP=window.TDAPP||{},window.TDAPP.onPage=l.onPage,i.autoTrack&&(l.currentPage=window.location.href,l.ref="")},onPage:function(e){var t=(new Date).getTime();l.pageLogout("force"),l.pageEnter(e,l.currentPage,t),l.ref=l.currentPage,l.currentPage=e,l.pageStartTime=t,y.getAjax()},pageEnter:function(e,t,n){t={name:e,start:n,duration:0,refer:t},TDBASE.addGenre(t,"pages")},pageLogout:function(e){if("force"!==e){if(l.logoutCalled)return;l.logoutCalled=!0}var t=null,n=0,o=null;if(i.autoTrack)t="main";else{if(!l.currentPage)return;t=l.currentPage,n=l.pageStartTime,o=l.refs}e=(new Date).getTime(),TDBASE.lealSet(e),TDBASE.addGenre({name:t,start:n,duration:Math.ceil((e-n)/1e3),refer:o},"pages")}}).init(),u={init:function(){try{var e=i.localStorage.get("profile");e&&(e=JSON.parse(e),e=u._transform(e),n.appContext=n.appContext||{},n.appContext.account=e)}catch(e){console.error(e)}},_transform:function(e){return(e=JSON.parse(JSON.stringify(e))).accountId=e.profileId,e.type=e.profileType,delete e.profileType,delete e.profileId,e},_transformInverse:function(e){return(e=JSON.parse(JSON.stringify(e))).profileId=e.accountId,e.profileType=e.type,delete e.type,delete e.accountId,e},login:function(e){u._event(e,"login")},register:function(e){u._event(e,"register")},updateProfile:function(e){u._event(e,"update")},_chekProfile:function(){return"object"===e(n.appContext)&&"object"===e(n.appContext.account)?n.appContext.account:null},_event:function(t,o){if(!t||"object"!==(void 0===t?"undefined":e(t)))return console.log("profile\u4fe1\u606f\u5fc5\u586b!");if("update"!==o&&!t.profileId&&!/0{1}/.test(t.profileId))return console.log("profileId \u4fe1\u606f\u4e3a\u5fc5\u586b!");if("update"!==o&&"number"!=typeof t.profileType)return console.log("profileType \u4e3a\u5fc5\u586b!");var r,s=u._getProfile(t,o),a={profileId:"_setId",profileType:"_setProfileType",name:"_setName",gender:"_setGender",age:"_setAge"},c=new RegExp("^property[1-9]$");for(r in t){var l,p=t[r],h=a[r];if(!h||"update"===o&&"profileId"===r){if((c.test(r)||"property10"===r)&&(l=u._setProperty(s,r,p)))return void console.log(l)}else if(l=u[h](s,p))return void console.log(l)}n.appContext=n.appContext||{},n.appContext.account=s;var d=u._transformInverse(s);i.localStorage.add("profile",JSON.stringify(d)),s=u._transform(s),d=u._transform(t),v.setProfile(d,o)},_getProfile:function(e,t){var o={};return n.appContext&&n.appContext.account&&(o=JSON.parse(JSON.stringify(n.appContext.account))),"update"==t||e.profileId===o.accountId?o:{}},_setId:function(e,t){if(!t&&!/0{1}/.test(t))return"profileId\u4e3a\u5fc5\u586b\u5b57\u6bb5\uff01";e.accountId=t},_setProfileType:function(e,t){if("number"!=typeof t||t!=t||t<-1||6<t&&t<11||20<t)return"\u8bf7\u4e0a\u4f20\u6b63\u786e\u7684profileType";e.type=t},_setName:function(e,t){if("string"!=typeof t)return"profile name \u7c7b\u578b\u9519\u8bef";e.name=t},_setAge:function(e,t){if("number"!=typeof t||t!=t)return"profile age \u7c7b\u578b\u9519\u8bef";e.age=t},_setGender:function(e,t){if(0!==t&&1!==t&2!==t)return"profile gender \u7c7b\u578b\u9519\u8bef";e.gender=t},_setProperty:function(e,t,n){if("number"==typeof n&&n!=n||"string"!=typeof n&&"number"!=typeof n)return"profile property \u7c7b\u578b\u9519\u8bef";e[t]=n}},window.TDAPP=window.TDAPP||{},window.TDAPP.login=u.login,window.TDAPP.register=u.register,window.TDAPP.updateProfile=u.updateProfile,window.TDAPP.ProfileType={0:"ANONYMOUS",1:"REGISTERED",2:"SINA_WEIBO",3:"QQ",4:"QQ_WEIBO",5:"ND91",6:"WEIXIN",11:"TYPE1",12:"TYPE2",13:"TYPE3",14:"TYPE4",15:"TYPE5",16:"TYPE6",17:"TYPE7",18:"TYPE8",19:"TYPE9",20:"TYPE10"},u.init(),p={isObject:function(t){return t&&"object"===(void 0===t?"undefined":e(t))},isStrNotEmpty:function(e){return e||/0{1}/.test(e)},isNumber:function(e){return"number"==typeof e&&e==e},isCurrencyTypeAvailabal:function(e){return e&&"string"==typeof e&&3===e.length},_checkParam:function(e){return p.isObject(e)?p.isStrNotEmpty(e.orderId)?p.isNumber(e.amount)?!!p.isCurrencyTypeAvailabal(e.currencyType)||(console.warn("\u8bf7\u8f93\u5165\u6b63\u786e\u7684currencyType!"),!1):(console.warn("\u8bf7\u8f93\u5165\u6b63\u786e\u7684amount!"),!1):(console.warn("\u8bf7\u8f93\u5165\u6b63\u786e\u7684orderId!"),!1):(console.warn("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u53c2\u6570!"),!1)},onPlaceOrder:function(e){p._checkParam(e)&&(e={count:1,start:(new Date).getTime(),domain:"iap",id:"placeOrder",params:e},v._saveAndFetch(e))},onOrderPaySucc:function(e){p._checkParam(e)&&((e=JSON.parse(JSON.stringify(e))).paymentType&&p.isStrNotEmpty(e.paymentType)&&(e.payType=e.paymentType),delete e.paymentType,e={count:1,start:(new Date).getTime(),domain:"iap",id:"pay",params:e},v._saveAndFetch(e))},onCancelOrder:function(e){p._checkParam(e)&&(e={count:1,start:(new Date).getTime(),domain:"iap",id:"cancelOrder",params:e},v._saveAndFetch(e))}},window.TDAPP=window.TDAPP||{},window.TDAPP.onPlaceOrder=p.onPlaceOrder,window.TDAPP.onOrderPaySucc=p.onOrderPaySucc,window.TDAPP.onCancelOrder=p.onCancelOrder;var g=i.localStorage,y={timedif:void 0,state:1,deviceId:0,local:[],sendInit:0,appkey:"",channel:"",set:function(e,t){try{this.appkey=e,this.channel=t,this.setAppkey(),this.setDeviceId(),this.setSession(),this.setSessionTime(),this.setInitTime(),this.setPartner(),this.setResolution(),this.addlastSession(),this.setPageEnter(),this.getAjax(1)}catch(s){console.log(s)}},setAppkey:function(){null==n.appkey&&(n.appkey=this.appkey)},setDeviceId:function(){if(g.get("deviceId"))this.deviceId=g.get("deviceId");else{this.sendInit=1;for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),t=[],o=e.length,i=0;i<16;i++)t[i]=e[0|Math.random()*o];this.deviceId=t.join(""),g.add("deviceId",this.deviceId)}n.deviceId=this.deviceId},setSession:function(){var e,t;if(g.get("sessionId")?t=g.get("sessionId"):(e=(new Date).getTime(),t=-1<this.deviceId.indexOf("-")?this.deviceId.split("-")[0]+e:this.deviceId+e,this.sendInit=0==this.sendInit?2:this.sendInit,g.add("sessionId",t)),0<32-t.length)for(var n=0,i=32-t.length;n<i;n++)t+="0";32-t.length<0&&(t=t.substring(0,32)),o.data.id=this.sessionId=t},setSessionTime:function(){var e=(new Date).getTime();g.get("SessionStart")?e=g.get("SessionStart"):g.add("SessionStart",e),o.data.start=parseInt(e)},setInitTime:function(){g.get("initTime")?n.appProfile.initTime=parseInt(g.get("initTime")):(n.appProfile.initTime=r,g.add("initTime",r))},setPartner:function(){this.channel&&(n.appProfile.partner=this.channel)},setResolution:function(){var e=[window.screen.width,window.screen.height];window.devicePixelRatio&&e.push(window.devicePixelRatio),n.deviceProfile.pixel=e.join("*")},addlastSession:function(){var e=g.get("lastSession");void 0===e&&(g.delLocalStorage("sessionMsg"),g.delLocalStorage("lastSession")),e?(e=JSON.parse(e)).id!=o.data.id&&(e=TDBASE.getCommonMsg(e.id,e.start,3,parseInt(g.get("leaveSession"))),TDBASE.addMsg(e),this.timedif=parseInt((o.data.start-g.get("leavetime"))/1e3),g.get("appkey")&&g.get("appkey")!=n.appkey||(TDBASE.addSessionStart(this.timedif,1),this.addAppInitEvent())):(TDBASE.addSessionStart(0,1),this.addAppInitEvent())},setPageEnter:function(){var e;i.autoTrack&&(e={name:"main",start:(new Date).getTime(),duration:0,refer:""},TDBASE.addGenre(e,"pages"))},addAppInitEvent:function(){var e;0!=this.sendInit&&(e={id:"init",domain:"app",start:r||(new Date).getTime(),count:1,params:{first:!0}},2==this.sendInit&&(e.params.first=!1),TDBASE.addGenre(e,"events"))},getAjax:function(){var e=this,t=new f;localStorage.getItem("__TD_sessionMsg")||TDBASE.addSessionStart(0,2);var o,i=JSON.parse(g.get("sessionMsg")),s=TDBASE.getCommon(i),a=localStorage.getItem("__TD_td-init-event");!a||(o=s.msgs[s.msgs.length-1])&&(i=o.data.events,o.data.events=i.concat(JSON.parse(a))),g.delLocalStorage("td-init-event");for(var c=[],l=0;l<s.msgs.length;l++){var u=s.msgs[l];(2!==u.data.status||u.data.pages&&0!==u.data.pages.length||u.data.events&&0!==u.data.events.length)&&c.push(u)}0!==c.length&&(s.msgs=c,g.get("appkey")&&g.get("appkey")!=n.appkey?t.set(s,function(){g.delLocalStorage("sessionMsg"),n.appProfile.initTime=r,g.add("initTime",r),TDBASE.addSessionStart(0,1),e.addAppInitEvent(),e.getAjax()},function(e){console.log(e)}):t.set(s,function(){g.delLocalStorage("sessionMsg"),TDBASE.addSessionStart(0,2)},function(e){console.log(e)}),g.add("appkey",n.appkey))}},v={init:function(e,t){y.set(e,t)},set:function(t,n,o,i){var r;if(t||/0{1}/.test(t)){if(0<arguments.length)try{var s={count:1,start:(new Date).getTime()};if(null!=t&&(s.id="string"!=typeof t?JSON.stringify(t):t),s.label=null!=n?"string"!=typeof n?JSON.stringify(n):n:"",null!=o&&("object"!=(void 0===(r=o)?"undefined":e(r))||"[object object]"!=Object.prototype.toString.call(r).toLowerCase()||r.length||(s.params=o)),i&&"smart"===i)s.type="smart";else if(void 0!==i){if("number"!=typeof i||isNaN(i))return void console.error("value\u53ea\u80fd\u4e3anumber");s.value=i}v._saveAndFetch(s)}catch(t){}}else console.warn("event  Id\u4e3a\u5fc5\u586b\u5b57\u6bb5\uff01")},setProfile:function(e,t){e={count:1,start:(new Date).getTime(),domain:"account",id:t,params:e},v._saveAndFetch(e)},_saveAndFetch:function(e){a?TDBASE.addGenre(e,"events",function(e){var t=g.get("td-hold-event"),n=[];if(n.push(e),t){t=JSON.parse(t);for(var o=0;o<t.length;o++)if(TDBASE.equal(t[o],e)){t[o].count+=1,t[o].start=e.start;break}g.add("td-hold-event",JSON.stringify(t))}else g.add("td-hold-event",JSON.stringify(n))}):(TDBASE.addGenre(e,"events"),setTimeout(function(){y.getAjax()},500))},unload:function(){try{y.getAjax()}catch(s){}}};window.TDAPP=window.TDAPP||{},window.TDAPP.init=v.init,window.TDAPP.onEvent=v.set}(),cc._RF.pop()},{}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"196b4wYh1RH+aa+dlSyatiC","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t){"use strict";cc._RF.push(t,"954c5Q7dP1EFITiu+9y44D3","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["Config","td_analytics","CRNode","CostomAd_Wx","CreateIcon","Demo","Loading","EN","ZH","Localized","Localized_Label","Localized_Sprite","MoreGame","NativeAdBase","NativeAdButtonTrigger","NativeAdHideTrigger","NativeAdTrigger_Oppo","NativeAd_Huawei","NativeAd_Huawei_Single","NativeAd_Node","NativeAd_Oppo","NativeAd_Oppo_Android","NativeAd_Oppo_Android_Single","NativeAd_Oppo_Single","NativeAd_View","NativeAd_Vivo","NativeAd_Xiaomi","NativeBanner","NativeInsertAd","OppoSOP","Privacy","Privacy2","PromoDrawer","PromoDrawer2","PromoNode","PromoNodeArr","PromoNodeArrItem","PromoSlider","PromoSlider2","PromoWall","ProtectHide","QQBlockAd","SDK","AniTool","GIF","GIFSprite","LZW","PadFit","mta-h5-analysis-2.0.15","VideoHint","ArmyGroupController","AwakeContent","ColourBackground","DataMgr","DeathController","EndLuckyGift","EndMgr","ControllerJailPrefab","NodeZIndexController","RandomActiveOnce","SyncNodeAngle","SyncSpriteFrame","GiftBoxMgr","HintNode","KillerController","KingController","KingStoryLobbySceneBlockCheckPoint","LobbySceneBlockCheckPoint","AssetManager","CameraManager","JailSceneContent","LevelManager","LevelSceneManager","SoundMgr","NPCKillerController","NPCKingController","NewScript - 001","NewScript - 002","NewScript - 003","NewScript - 004","NewScript","BoxItem","CoinMenu","MixController","MixMgr","OpenBoxMgr","RaycastController","RecorderMgr","RecorderPanel","RestartContent","SkinItem","StoryDancerScene","StoryKingBadScene","StoryKingFallDownScene","StoryKingScene","StroyLoveScene","StroyWCScene","TimeDestroyObject","TipsMgr","SettingView","SkinView","TryUseView","UIManager","ViewBase","YaoshuiMgr","use_reversed_rotateTo","use_v2.1.x_cc.Action"]);